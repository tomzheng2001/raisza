(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[298],{9791:function(e,t,r){"use strict";let n;r.d(t,{qA:function(){return eI}});var a=r(2988),i=r(2265),l=r(6986),o=r(7776);let u=e=>e&&e.isCubeTexture;class s extends o.Mesh{constructor(e,t){var r,n;let a=u(e),i=Math.floor(Math.log2((null!=(n=a?null==(r=e.image[0])?void 0:r.width:e.image.width)?n:1024)/4)),l=Math.pow(2,i),s=3*Math.max(l,112),c=4*l,f=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,d=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/s}`,`#define CUBEUV_TEXEL_HEIGHT ${1/c}`,`#define CUBEUV_MAX_MIP ${i}.0`].join("\n")+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${parseInt(o.REVISION.replace(/\D+/g,""))>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `;super(new o.IcosahedronGeometry(1,16),new o.ShaderMaterial({uniforms:{map:{value:e},height:{value:(null==t?void 0:t.height)||15},radius:{value:(null==t?void 0:t.radius)||100}},fragmentShader:d,vertexShader:f,side:o.DoubleSide}))}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}class c extends o.DataTextureLoader{constructor(e){super(e),this.type=o.HalfFloatType}parse(e){let t,r,n;let a=1,i=2,l=3,u=4,s=function(e,t){switch(e){case a:throw Error("THREE.RGBELoader: Read Error: "+(t||""));case i:throw Error("THREE.RGBELoader: Write Error: "+(t||""));case l:throw Error("THREE.RGBELoader: Bad File Format: "+(t||""));default:throw Error("THREE.RGBELoader: Memory Error: "+(t||""))}},c=1,f=2,d=4,h="\n",p=function(e,t,r){let n=128;t=t||1024;let a=e.pos,i=-1,l=0,o="",u=String.fromCharCode.apply(null,new Uint16Array(e.subarray(a,a+n)));for(;0>(i=u.indexOf(h))&&l<t&&a<e.byteLength;)o+=u,l+=u.length,a+=n,u+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(a,a+n)));return -1<i&&(!1!==r&&(e.pos+=l+i+1),o+u.slice(0,i))},v=function(e){let t,r;let n=/^#\?(\S+)/,i=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,u=/^\s*FORMAT=(\S+)\s*$/,h=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,v={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};for(!(e.pos>=e.byteLength)&&(t=p(e))||s(a,"no header found"),(r=t.match(n))||s(l,"bad initial token"),v.valid|=c,v.programtype=r[1],v.string+=t+"\n";!1!==(t=p(e));){if(v.string+=t+"\n","#"===t.charAt(0)){v.comments+=t+"\n";continue}if((r=t.match(i))&&(v.gamma=parseFloat(r[1])),(r=t.match(o))&&(v.exposure=parseFloat(r[1])),(r=t.match(u))&&(v.valid|=f,v.format=r[1]),(r=t.match(h))&&(v.valid|=d,v.height=parseInt(r[1],10),v.width=parseInt(r[2],10)),v.valid&f&&v.valid&d)break}return v.valid&f||s(l,"missing format specifier"),v.valid&d||s(l,"missing image size specifier"),v},m=function(e,t,r){let n=t;if(n<8||n>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);n!==(e[2]<<8|e[3])&&s(l,"wrong scanline width");let i=new Uint8Array(4*t*r);i.length||s(u,"unable to allocate buffer space");let o=0,c=0,f=4*n,d=new Uint8Array(4),h=new Uint8Array(f),p=r;for(;p>0&&c<e.byteLength;){c+4>e.byteLength&&s(a),d[0]=e[c++],d[1]=e[c++],d[2]=e[c++],d[3]=e[c++],(2!=d[0]||2!=d[1]||(d[2]<<8|d[3])!=n)&&s(l,"bad rgbe scanline format");let t=0,r;for(;t<f&&c<e.byteLength;){let n=(r=e[c++])>128;if(n&&(r-=128),(0===r||t+r>f)&&s(l,"bad scanline data"),n){let n=e[c++];for(let e=0;e<r;e++)h[t++]=n}else h.set(e.subarray(c,c+r),t),t+=r,c+=r}let u=n;for(let e=0;e<u;e++){let t=0;i[o]=h[e+t],t+=n,i[o+1]=h[e+t],t+=n,i[o+2]=h[e+t],t+=n,i[o+3]=h[e+t],o+=4}p--}return i},g=function(e,t,r,n){let a=Math.pow(2,e[t+3]-128)/255;r[n+0]=e[t+0]*a,r[n+1]=e[t+1]*a,r[n+2]=e[t+2]*a,r[n+3]=1},y=function(e,t,r,n){let a=Math.pow(2,e[t+3]-128)/255;r[n+0]=o.DataUtils.toHalfFloat(Math.min(e[t+0]*a,65504)),r[n+1]=o.DataUtils.toHalfFloat(Math.min(e[t+1]*a,65504)),r[n+2]=o.DataUtils.toHalfFloat(Math.min(e[t+2]*a,65504)),r[n+3]=o.DataUtils.toHalfFloat(1)},b=new Uint8Array(e);b.pos=0;let w=v(b),x=w.width,_=w.height,S=m(b.subarray(b.pos),x,_);switch(this.type){case o.FloatType:let E=new Float32Array(4*(n=S.length/4));for(let e=0;e<n;e++)g(S,4*e,E,4*e);t=E,r=o.FloatType;break;case o.HalfFloatType:let M=new Uint16Array(4*(n=S.length/4));for(let e=0;e<n;e++)y(S,4*e,M,4*e);t=M,r=o.HalfFloatType;break;default:throw Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:_,data:t,header:w.string,gamma:w.gamma,exposure:w.exposure,type:r}}setDataType(e){return this.type=e,this}load(e,t,r,n){function a(e,r){switch(e.type){case o.FloatType:case o.HalfFloatType:"colorSpace"in e?e.colorSpace="srgb-linear":e.encoding=3e3,e.minFilter=o.LinearFilter,e.magFilter=o.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)}return super.load(e,a,r,n)}}var f={},d=Uint8Array,h=Uint16Array,p=Uint32Array,v=new d([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),m=new d([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),g=new d([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),y=function(e,t){for(var r=new h(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new p(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return[r,a]},b=y(v,2),w=b[0],x=b[1];w[28]=258,x[258]=28;for(var _=y(m,0),S=_[0],E=_[1],M=new h(32768),k=0;k<32768;++k){var T=(43690&k)>>>1|(21845&k)<<1;T=(61680&(T=(52428&T)>>>2|(13107&T)<<2))>>>4|(3855&T)<<4,M[k]=((65280&T)>>>8|(255&T)<<8)>>>1}for(var C=function(e,t,r){for(var n,a=e.length,i=0,l=new h(t);i<a;++i)++l[e[i]-1];var o=new h(t);for(i=0;i<t;++i)o[i]=o[i-1]+l[i-1]<<1;if(r){n=new h(1<<t);var u=15-t;for(i=0;i<a;++i)if(e[i])for(var s=i<<4|e[i],c=t-e[i],f=o[e[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)n[M[f]>>>u]=s}else for(i=0,n=new h(a);i<a;++i)e[i]&&(n[i]=M[o[e[i]-1]++]>>>15-e[i]);return n},R=new d(288),k=0;k<144;++k)R[k]=8;for(var k=144;k<256;++k)R[k]=9;for(var k=256;k<280;++k)R[k]=7;for(var k=280;k<288;++k)R[k]=8;for(var P=new d(32),k=0;k<32;++k)P[k]=5;var A=null,U=C(R,9,1),I=null,z=C(P,5,1),D=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},F=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(7&t)&r},L=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(7&t)},B=function(e){return(e/8|0)+(7&e&&1)},N=function(e,t,r){(null==t||t<0)&&(t=0),(null==r||r>e.length)&&(r=e.length);var n=new(e instanceof h?h:e instanceof p?p:d)(r-t);return n.set(e.subarray(t,r)),n},O=function(e,t,r){var n=e.length;if(!n||r&&!r.l&&n<5)return t||new d(0);var a=!t||r,i=!r||r.i;r||(r={}),t||(t=new d(3*n));var l=function(e){var r=t.length;if(e>r){var n=new d(Math.max(2*r,e));n.set(t),t=n}},o=r.f||0,u=r.p||0,s=r.b||0,c=r.l,f=r.d,h=r.m,p=r.n,y=8*n;do{if(!c){r.f=o=F(e,u,1);var b=F(e,u+1,3);if(u+=3,b){if(1==b)c=U,f=z,h=9,p=5;else if(2==b){var x=F(e,u,31)+257,_=F(e,u+10,15)+4,E=x+F(e,u+5,31)+1;u+=14;for(var M=new d(E),k=new d(19),T=0;T<_;++T)k[g[T]]=F(e,u+3*T,7);u+=3*_;for(var R=D(k),P=(1<<R)-1,A=C(k,R,1),T=0;T<E;){var I=A[F(e,u,P)];u+=15&I;var O=I>>>4;if(O<16)M[T++]=O;else{var j=0,H=0;for(16==O?(H=3+F(e,u,3),u+=2,j=M[T-1]):17==O?(H=3+F(e,u,7),u+=3):18==O&&(H=11+F(e,u,127),u+=7);H--;)M[T++]=j}}var W=M.subarray(0,x),V=M.subarray(x);h=D(W),p=D(V),c=C(W,h,1),f=C(V,p,1)}else throw"invalid block type"}else{var O=B(u)+4,q=e[O-4]|e[O-3]<<8,$=O+q;if($>n){if(i)throw"unexpected EOF";break}a&&l(s+q),t.set(e.subarray(O,$),s),r.b=s+=q,r.p=u=8*$;continue}if(u>y){if(i)throw"unexpected EOF";break}}a&&l(s+131072);for(var G=(1<<h)-1,Q=(1<<p)-1,X=u;;X=u){var j=c[L(e,u)&G],Y=j>>>4;if((u+=15&j)>y){if(i)throw"unexpected EOF";break}if(!j)throw"invalid length/literal";if(Y<256)t[s++]=Y;else if(256==Y){X=u,c=null;break}else{var Z=Y-254;if(Y>264){var T=Y-257,J=v[T];Z=F(e,u,(1<<J)-1)+w[T],u+=J}var K=f[L(e,u)&Q],ee=K>>>4;if(!K)throw"invalid distance";u+=15&K;var V=S[ee];if(ee>3){var J=m[ee];V+=L(e,u)&(1<<J)-1,u+=J}if(u>y){if(i)throw"unexpected EOF";break}a&&l(s+131072);for(var et=s+Z;s<et;s+=4)t[s]=t[s-V],t[s+1]=t[s+1-V],t[s+2]=t[s+2-V],t[s+3]=t[s+3-V];s=et}}r.l=c,r.p=X,r.b=s,c&&(o=1,r.m=h,r.d=f,r.n=p)}while(!o);return s==t.length?t:N(t,0,s)},j=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8},H=function(e,t,r){r<<=7&t;var n=t/8|0;e[n]|=r,e[n+1]|=r>>>8,e[n+2]|=r>>>16},W=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return[Y,0];if(1==a){var l=new d(r[0].s+1);return l[r[0].s]=1,[l,1]}r.sort(function(e,t){return e.f-t.f}),r.push({s:-1,f:25001});var o=r[0],u=r[1],s=0,c=1,f=2;for(r[0]={s:-1,f:o.f+u.f,l:o,r:u};c!=a-1;)o=r[r[s].f<r[f].f?s++:f++],u=r[s!=c&&r[s].f<r[f].f?s++:f++],r[c++]={s:-1,f:o.f+u.f,l:o,r:u};for(var p=i[0].s,n=1;n<a;++n)i[n].s>p&&(p=i[n].s);var v=new h(p+1),m=V(r[c-1],v,0);if(m>t){var n=0,g=0,y=m-t,b=1<<y;for(i.sort(function(e,t){return v[t.s]-v[e.s]||e.f-t.f});n<a;++n){var w=i[n].s;if(v[w]>t)g+=b-(1<<m-v[w]),v[w]=t;else break}for(g>>>=y;g>0;){var x=i[n].s;v[x]<t?g-=1<<t-v[x]++-1:++n}for(;n>=0&&g;--n){var _=i[n].s;v[_]==t&&(--v[_],++g)}m=t}return[new d(v),m]},V=function(e,t,r){return -1==e.s?Math.max(V(e.l,t,r+1),V(e.r,t,r+1)):t[e.s]=r},q=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new h(++t),n=0,a=e[0],i=1,l=function(e){r[n++]=e},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[o]}return[r.subarray(0,n),t]},$=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},G=function(e,t,r){var n=r.length,a=B(t+2);e[a]=255&n,e[a+1]=n>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},Q=function(e,t,r,n,a,i,l,o,u,s,c){j(t,c++,r),++a[256];for(var f,d,p,y,b=W(a,15),w=b[0],x=b[1],_=W(i,15),S=_[0],E=_[1],M=q(w),k=M[0],T=M[1],U=q(S),z=U[0],D=U[1],F=new h(19),L=0;L<k.length;++L)F[31&k[L]]++;for(var L=0;L<z.length;++L)F[31&z[L]]++;for(var B=W(F,7),N=B[0],O=B[1],V=19;V>4&&!N[g[V-1]];--V);var Q=s+5<<3,X=$(a,R)+$(i,P)+l,Y=$(a,w)+$(i,S)+l+14+3*V+$(F,N)+(2*F[16]+3*F[17]+7*F[18]);if(Q<=X&&Q<=Y)return G(t,c,e.subarray(u,u+s));if(j(t,c,1+(Y<X)),c+=2,Y<X){f=C(w,x,0),d=w,p=C(S,E,0),y=S;var Z=C(N,O,0);j(t,c,T-257),j(t,c+5,D-1),j(t,c+10,V-4),c+=14;for(var L=0;L<V;++L)j(t,c+3*L,N[g[L]]);c+=3*V;for(var J=[k,z],K=0;K<2;++K)for(var ee=J[K],L=0;L<ee.length;++L){var et=31&ee[L];j(t,c,Z[et]),c+=N[et],et>15&&(j(t,c,ee[L]>>>5&127),c+=ee[L]>>>12)}}else f=A,d=R,p=I,y=P;for(var L=0;L<o;++L)if(n[L]>255){var et=n[L]>>>18&31;H(t,c,f[et+257]),c+=d[et+257],et>7&&(j(t,c,n[L]>>>23&31),c+=v[et]);var er=31&n[L];H(t,c,p[er]),c+=y[er],er>3&&(H(t,c,n[L]>>>5&8191),c+=m[er])}else H(t,c,f[n[L]]),c+=d[n[L]];return H(t,c,f[256]),c+d[256]},X=new p([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Y=new d(0),Z=function(e,t,r,n,a,i){var l=e.length,o=new d(n+l+5*(1+Math.ceil(l/7e3))+a),u=o.subarray(n,o.length-a),s=0;if(!t||l<8)for(var c=0;c<=l;c+=65535){var f=c+65535;f<l?s=G(u,s,e.subarray(c,f)):(u[c]=i,s=G(u,s,e.subarray(c,l)))}else{for(var g=X[t-1],y=g>>>13,b=8191&g,w=(1<<r)-1,_=new h(32768),S=new h(w+1),M=Math.ceil(r/3),k=2*M,T=function(t){return(e[t]^e[t+1]<<M^e[t+2]<<k)&w},C=new p(25e3),R=new h(288),P=new h(32),A=0,U=0,c=0,I=0,z=0,D=0;c<l;++c){var F=T(c),L=32767&c,O=S[F];if(_[L]=O,S[F]=L,z<=c){var j=l-c;if((A>7e3||I>24576)&&j>423){s=Q(e,u,0,C,R,P,U,I,D,c-D,s),I=A=U=0,D=c;for(var H=0;H<286;++H)R[H]=0;for(var H=0;H<30;++H)P[H]=0}var W=2,V=0,q=b,$=L-O&32767;if(j>2&&F==T(c-$))for(var Z=Math.min(y,j)-1,J=Math.min(32767,c),K=Math.min(258,j);$<=J&&--q&&L!=O;){if(e[c+W]==e[c+W-$]){for(var ee=0;ee<K&&e[c+ee]==e[c+ee-$];++ee);if(ee>W){if(W=ee,V=$,ee>Z)break;for(var et=Math.min($,ee-2),er=0,H=0;H<et;++H){var en=c-$+H+32768&32767,ea=_[en],ei=en-ea+32768&32767;ei>er&&(er=ei,O=en)}}}O=_[L=O],$+=L-O+32768&32767}if(V){C[I++]=268435456|x[W]<<18|E[V];var el=31&x[W],eo=31&E[V];U+=v[el]+m[eo],++R[257+el],++P[eo],z=c+W,++A}else C[I++]=e[c],++R[e[c]]}}s=Q(e,u,i,C,R,P,U,I,D,c-D,s),!i&&7&s&&(s=G(u,s+1,Y))}return N(o,0,n+B(s)+a)},J=function(e){if((15&e[0])!=8||e[0]>>>4>7||(e[0]<<8|e[1])%31)throw"invalid zlib data";if(32&e[1])throw"invalid zlib data: preset dictionaries not supported"};function K(e,t){return O((J(e),e.subarray(2,-4)),t)}var ee="undefined"!=typeof TextDecoder&&new TextDecoder,et=0;try{ee.decode(Y,{stream:!0}),et=1}catch(e){}let er="colorSpace"in new o.Texture;class en extends o.DataTextureLoader{constructor(e){super(e),this.type=o.HalfFloatType}parse(e){let t=65536,r=8192,n=14,a=65537,i=16384,l=16383,u=32768,s=65535,c=59,f=63,d=6,h=8,p=4,v=4,m=2,g=1,y=0,b=1,w=0,x=2,_=9.025013291561939;function S(e,r){for(var n=0,a=0;a<t;++a)(0==a||e[a>>3]&1<<(7&a))&&(r[n++]=a);for(var i=n-1;n<t;)r[n++]=0;return i}function E(e){for(var t=0;t<i;t++)e[t]={},e[t].len=0,e[t].lit=0,e[t].p=null}let M={l:0,c:0,lc:0};function k(e,t,r,n,a){for(;r<e;)t=t<<8|em(n,a),r+=8;r-=e,M.l=t>>r&(1<<e)-1,M.c=t,M.lc=r}let T=Array(59);function C(e){for(var t=0;t<=58;++t)T[t]=0;for(var t=0;t<a;++t)T[e[t]]+=1;for(var r=0,t=58;t>0;--t){var n=r+T[t]>>1;T[t]=r,r=n}for(var t=0;t<a;++t){var i=e[t];i>0&&(e[t]=i|T[i]++<<6)}}function R(e,t,r,n,a,i,l){for(var o=r,u=0,s=0;a<=i;a++){if(o.value-r.value>n)return!1;k(6,u,s,e,o);var h=M.l;if(u=M.c,s=M.lc,l[a]=h,h==f){if(o.value-r.value>n)throw"Something wrong with hufUnpackEncTable";k(8,u,s,e,o);var p=M.l+d;if(u=M.c,s=M.lc,a+p>i+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)l[a++]=0;a--}else if(h>=c){var p=h-c+2;if(a+p>i+1)throw"Something wrong with hufUnpackEncTable";for(;p--;)l[a++]=0;a--}}C(l)}function P(e){return 63&e}function A(e){return e>>6}function U(e,t,r,a){for(;t<=r;t++){var i=A(e[t]),l=P(e[t]);if(i>>l)throw"Invalid table entry";if(l>n){var o=a[i>>l-n];if(o.len)throw"Invalid table entry";if(o.lit++,o.p){var u=o.p;o.p=Array(o.lit);for(var s=0;s<o.lit-1;++s)o.p[s]=u[s]}else o.p=[,];o.p[o.lit-1]=t}else if(l)for(var c=0,s=1<<n-l;s>0;s--){var o=a[(i<<n-l)+c];if(o.len||o.p)throw"Invalid table entry";o.len=l,o.lit=t,c++}}return!0}let I={c:0,lc:0};function z(e,t,r,n){e=e<<8|em(r,n),t+=8,I.c=e,I.lc=t}let D={c:0,lc:0};function F(e,t,r,n,a,i,l,o,u,s){if(e==t){n<8&&(z(r,n,a,l),r=I.c,n=I.lc);var c=r>>(n-=8),c=new Uint8Array([c])[0];if(u.value+c>s)return!1;for(var f=o[u.value-1];c-- >0;)o[u.value++]=f}else{if(!(u.value<s))return!1;o[u.value++]=e}D.c=r,D.lc=n}function L(e){return 65535&e}function B(e){var t=L(e);return t>32767?t-65536:t}let N={a:0,b:0};function O(e,t){var r=B(e),n=B(t),a=r+(1&n)+(n>>1),i=a,l=a-n;N.a=i,N.b=l}function j(e,t){var r=L(e),n=L(t),a=r-(n>>1)&s,i=n+a-u&s;N.a=i,N.b=a}function H(e,t,r,n,a,i,l){for(var o=l<16384,u=r>a?a:r,s=1;s<=u;)s<<=1;for(s>>=1,c=s,s>>=1;s>=1;){for(var c,f,d,h,p,v=0,m=0+i*(a-c),g=i*s,y=i*c,b=n*s,w=n*c;v<=m;v+=y){for(var x=v,_=v+n*(r-c);x<=_;x+=w){var S=x+b,E=x+g,M=E+b;o?(O(e[x+t],e[E+t]),f=N.a,h=N.b,O(e[S+t],e[M+t]),d=N.a,p=N.b,O(f,d),e[x+t]=N.a,e[S+t]=N.b,O(h,p)):(j(e[x+t],e[E+t]),f=N.a,h=N.b,j(e[S+t],e[M+t]),d=N.a,p=N.b,j(f,d),e[x+t]=N.a,e[S+t]=N.b,j(h,p)),e[E+t]=N.a,e[M+t]=N.b}if(r&s){var E=x+g;o?O(e[x+t],e[E+t]):j(e[x+t],e[E+t]),f=N.a,e[E+t]=N.b,e[x+t]=f}}if(a&s)for(var x=v,_=v+n*(r-c);x<=_;x+=w){var S=x+b;o?O(e[x+t],e[S+t]):j(e[x+t],e[S+t]),f=N.a,e[S+t]=N.b,e[x+t]=f}c=s,s>>=1}return v}function W(e,t,r,a,i,o,u,s,c,f){for(var d=0,h=0,p=s,v=Math.trunc(i.value+(o+7)/8);i.value<v;)for(z(d,h,r,i),d=I.c,h=I.lc;h>=n;){var m=t[d>>h-n&l];if(m.len)h-=m.len,F(m.lit,u,d,h,r,a,i,c,f,p),d=D.c,h=D.lc;else{if(!m.p)throw"hufDecode issues";for(g=0;g<m.lit;g++){for(var g,y=P(e[m.p[g]]);h<y&&i.value<v;)z(d,h,r,i),d=I.c,h=I.lc;if(h>=y&&A(e[m.p[g]])==(d>>h-y&(1<<y)-1)){h-=y,F(m.p[g],u,d,h,r,a,i,c,f,p),d=D.c,h=D.lc;break}}if(g==m.lit)throw"hufDecode issues"}}var b=8-o&7;for(d>>=b,h-=b;h>0;){var m=t[d<<n-h&l];if(m.len)h-=m.len,F(m.lit,u,d,h,r,a,i,c,f,p),d=D.c,h=D.lc;else throw"hufDecode issues"}return!0}function V(e,t,r,n,l,o){var u={value:0},s=r.value,c=ev(t,r),f=ev(t,r);r.value+=4;var d=ev(t,r);if(r.value+=4,c<0||c>=a||f<0||f>=a)throw"Something wrong with HUF_ENCSIZE";var h=Array(a),p=Array(i);E(p);var v=n-(r.value-s);if(R(e,t,r,v,c,f,h),d>8*(n-(r.value-s)))throw"Something wrong with hufUncompress";U(h,c,f,p),W(h,p,e,t,r,d,f,o,l,u)}function q(e,t,r){for(var n=0;n<r;++n)t[n]=e[t[n]]}function $(e){for(var t=1;t<e.length;t++){var r=e[t-1]+e[t]-128;e[t]=r}}function G(e,t){for(var r=0,n=Math.floor((e.length+1)/2),a=0,i=e.length-1;!(a>i)&&(t[a++]=e[r++],!(a>i));)t[a++]=e[n++]}function Q(e){for(var t=e.byteLength,r=[],n=0,a=new DataView(e);t>0;){var i=a.getInt8(n++);if(i<0){var l=-i;t-=l+1;for(var o=0;o<l;o++)r.push(a.getUint8(n++))}else{var l=i;t-=2;for(var u=a.getUint8(n++),o=0;o<l+1;o++)r.push(u)}}return r}function X(e,t,r,n,a,i){var l=new DataView(i.buffer),o=r[e.idx[0]].width,u=r[e.idx[0]].height,s=3,c=Math.floor(o/8),f=Math.ceil(o/8),d=Math.ceil(u/8),h=o-(f-1)*8,p=u-(d-1)*8,v={value:0},g=[,,,],y=[,,,],b=[,,,],w=Array(s),x=Array(s);for(let r=0;r<s;++r)x[r]=t[e.idx[r]],g[r]=r<1?0:g[r-1]+f*d,y[r]=new Float32Array(64),b[r]=new Uint16Array(64),w[r]=new Uint16Array(64*f);for(let t=0;t<d;++t){var _=8;t==d-1&&(_=p);var S=8;for(let e=0;e<f;++e){e==f-1&&(S=h);for(let e=0;e<s;++e)b[e].fill(0),b[e][0]=a[g[e]++],Y(v,n,b[e]),Z(b[e],y[e]),J(y[e]);ee(y);for(let t=0;t<s;++t)et(y[t],w[t],64*e)}let i=0;for(let n=0;n<s;++n){let a=r[e.idx[n]].type;for(let e=8*t;e<8*t+_;++e){i=x[n][e];for(let t=0;t<c;++t){let r=64*t+(7&e)*8;l.setUint16(i+0*m*a,w[n][r+0],!0),l.setUint16(i+1*m*a,w[n][r+1],!0),l.setUint16(i+2*m*a,w[n][r+2],!0),l.setUint16(i+3*m*a,w[n][r+3],!0),l.setUint16(i+4*m*a,w[n][r+4],!0),l.setUint16(i+5*m*a,w[n][r+5],!0),l.setUint16(i+6*m*a,w[n][r+6],!0),l.setUint16(i+7*m*a,w[n][r+7],!0),i+=8*m*a}}if(c!=f)for(let e=8*t;e<8*t+_;++e){let t=x[n][e]+8*c*m*a,r=64*c+(7&e)*8;for(let e=0;e<S;++e)l.setUint16(t+e*m*a,w[n][r+e],!0)}}}for(var E=new Uint16Array(o),l=new DataView(i.buffer),M=0;M<s;++M){r[e.idx[M]].decoded=!0;var k=r[e.idx[M]].type;if(2==r[M].type)for(var T=0;T<u;++T){let e=x[M][T];for(var C=0;C<o;++C)E[C]=l.getUint16(e+C*m*k,!0);for(var C=0;C<o;++C)l.setFloat32(e+C*m*k,ex(E[C]),!0)}}}function Y(e,t,r){for(var n,a=1;a<64;)65280==(n=t[e.value])?a=64:n>>8==255?a+=255&n:(r[a]=n,a++),e.value++}function Z(e,t){t[0]=ex(e[0]),t[1]=ex(e[1]),t[2]=ex(e[5]),t[3]=ex(e[6]),t[4]=ex(e[14]),t[5]=ex(e[15]),t[6]=ex(e[27]),t[7]=ex(e[28]),t[8]=ex(e[2]),t[9]=ex(e[4]),t[10]=ex(e[7]),t[11]=ex(e[13]),t[12]=ex(e[16]),t[13]=ex(e[26]),t[14]=ex(e[29]),t[15]=ex(e[42]),t[16]=ex(e[3]),t[17]=ex(e[8]),t[18]=ex(e[12]),t[19]=ex(e[17]),t[20]=ex(e[25]),t[21]=ex(e[30]),t[22]=ex(e[41]),t[23]=ex(e[43]),t[24]=ex(e[9]),t[25]=ex(e[11]),t[26]=ex(e[18]),t[27]=ex(e[24]),t[28]=ex(e[31]),t[29]=ex(e[40]),t[30]=ex(e[44]),t[31]=ex(e[53]),t[32]=ex(e[10]),t[33]=ex(e[19]),t[34]=ex(e[23]),t[35]=ex(e[32]),t[36]=ex(e[39]),t[37]=ex(e[45]),t[38]=ex(e[52]),t[39]=ex(e[54]),t[40]=ex(e[20]),t[41]=ex(e[22]),t[42]=ex(e[33]),t[43]=ex(e[38]),t[44]=ex(e[46]),t[45]=ex(e[51]),t[46]=ex(e[55]),t[47]=ex(e[60]),t[48]=ex(e[21]),t[49]=ex(e[34]),t[50]=ex(e[37]),t[51]=ex(e[47]),t[52]=ex(e[50]),t[53]=ex(e[56]),t[54]=ex(e[59]),t[55]=ex(e[61]),t[56]=ex(e[35]),t[57]=ex(e[36]),t[58]=ex(e[48]),t[59]=ex(e[49]),t[60]=ex(e[57]),t[61]=ex(e[58]),t[62]=ex(e[62]),t[63]=ex(e[63])}function J(e){let t=.35355362513961314,r=.5*Math.cos(3.14159/16),n=.5*Math.cos(3.14159/8),a=.5*Math.cos(3*3.14159/16),i=.2777854612564676,l=.5*Math.cos(3*3.14159/8),o=.09754573032714427;for(var u=[,,,,],s=[,,,,],c=[,,,,],f=[,,,,],d=0;d<8;++d){var h=8*d;u[0]=n*e[h+2],u[1]=l*e[h+2],u[2]=n*e[h+6],u[3]=l*e[h+6],s[0]=r*e[h+1]+a*e[h+3]+i*e[h+5]+o*e[h+7],s[1]=a*e[h+1]-o*e[h+3]-r*e[h+5]-i*e[h+7],s[2]=i*e[h+1]-r*e[h+3]+o*e[h+5]+a*e[h+7],s[3]=o*e[h+1]-i*e[h+3]+a*e[h+5]-r*e[h+7],c[0]=t*(e[h+0]+e[h+4]),c[3]=t*(e[h+0]-e[h+4]),c[1]=u[0]+u[3],c[2]=u[1]-u[2],f[0]=c[0]+c[1],f[1]=c[3]+c[2],f[2]=c[3]-c[2],f[3]=c[0]-c[1],e[h+0]=f[0]+s[0],e[h+1]=f[1]+s[1],e[h+2]=f[2]+s[2],e[h+3]=f[3]+s[3],e[h+4]=f[3]-s[3],e[h+5]=f[2]-s[2],e[h+6]=f[1]-s[1],e[h+7]=f[0]-s[0]}for(var p=0;p<8;++p)u[0]=n*e[16+p],u[1]=l*e[16+p],u[2]=n*e[48+p],u[3]=l*e[48+p],s[0]=r*e[8+p]+a*e[24+p]+i*e[40+p]+o*e[56+p],s[1]=a*e[8+p]-o*e[24+p]-r*e[40+p]-i*e[56+p],s[2]=i*e[8+p]-r*e[24+p]+o*e[40+p]+a*e[56+p],s[3]=o*e[8+p]-i*e[24+p]+a*e[40+p]-r*e[56+p],c[0]=t*(e[p]+e[32+p]),c[3]=t*(e[p]-e[32+p]),c[1]=u[0]+u[3],c[2]=u[1]-u[2],f[0]=c[0]+c[1],f[1]=c[3]+c[2],f[2]=c[3]-c[2],f[3]=c[0]-c[1],e[0+p]=f[0]+s[0],e[8+p]=f[1]+s[1],e[16+p]=f[2]+s[2],e[24+p]=f[3]+s[3],e[32+p]=f[3]-s[3],e[40+p]=f[2]-s[2],e[48+p]=f[1]-s[1],e[56+p]=f[0]-s[0]}function ee(e){for(var t=0;t<64;++t){var r=e[0][t],n=e[1][t],a=e[2][t];e[0][t]=r+1.5747*a,e[1][t]=r-.1873*n-.4682*a,e[2][t]=r+1.8556*n}}function et(e,t,r){for(var n=0;n<64;++n)t[r+n]=o.DataUtils.toHalfFloat(en(e[n]))}function en(e){return e<=1?Math.sign(e)*Math.pow(Math.abs(e),2.2):Math.sign(e)*Math.pow(_,Math.abs(e)-1)}function ea(e){return new DataView(e.array.buffer,e.offset.value,e.size)}function ei(e){var t=new Uint8Array(Q(e.viewer.buffer.slice(e.offset.value,e.offset.value+e.size))),r=new Uint8Array(t.length);return $(t),G(t,r),new DataView(r.buffer)}function el(e){var t=K(e.array.slice(e.offset.value,e.offset.value+e.size)),r=new Uint8Array(t.length);return $(t),G(t,r),new DataView(r.buffer)}function eo(e){for(var n=e.viewer,a={value:e.offset.value},i=new Uint16Array(e.width*e.scanlineBlockSize*(e.channels*e.type)),l=new Uint8Array(r),o=0,u=Array(e.channels),s=0;s<e.channels;s++)u[s]={},u[s].start=o,u[s].end=u[s].start,u[s].nx=e.width,u[s].ny=e.lines,u[s].size=e.type,o+=u[s].nx*u[s].ny*u[s].size;var c=e_(n,a),f=e_(n,a);if(f>=r)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(c<=f)for(var s=0;s<f-c+1;s++)l[s+c]=eg(n,a);var d=new Uint16Array(t),h=S(l,d),p=ev(n,a);V(e.array,n,a,p,i,o);for(var s=0;s<e.channels;++s)for(var v=u[s],g=0;g<u[s].size;++g)H(i,v.start+g,v.nx,v.size,v.ny,v.nx*v.size,h);q(d,i,o);for(var y=0,b=new Uint8Array(i.buffer.byteLength),w=0;w<e.lines;w++)for(var x=0;x<e.channels;x++){var v=u[x],_=v.nx*v.size,E=new Uint8Array(i.buffer,v.end*m,_*m);b.set(E,y),y+=_*m,v.end+=_}return new DataView(b.buffer)}function eu(e){var t=K(e.array.slice(e.offset.value,e.offset.value+e.size));let r=e.lines*e.channels*e.width,n=1==e.type?new Uint16Array(r):new Uint32Array(r),a=0,i=0,l=[,,,,];for(let r=0;r<e.lines;r++)for(let r=0;r<e.channels;r++){let r=0;switch(e.type){case 1:l[0]=a,l[1]=l[0]+e.width,a=l[1]+e.width;for(let a=0;a<e.width;++a)r+=t[l[0]++]<<8|t[l[1]++],n[i]=r,i++;break;case 2:l[0]=a,l[1]=l[0]+e.width,l[2]=l[1]+e.width,a=l[2]+e.width;for(let a=0;a<e.width;++a)r+=t[l[0]++]<<24|t[l[1]++]<<16|t[l[2]++]<<8,n[i]=r,i++}}return new DataView(n.buffer)}function es(e){var t=e.viewer,r={value:e.offset.value},n=new Uint8Array(e.width*e.lines*(e.channels*e.type*m)),a={version:ey(t,r),unknownUncompressedSize:ey(t,r),unknownCompressedSize:ey(t,r),acCompressedSize:ey(t,r),dcCompressedSize:ey(t,r),rleCompressedSize:ey(t,r),rleUncompressedSize:ey(t,r),rleRawSize:ey(t,r),totalAcUncompressedCount:ey(t,r),totalDcUncompressedCount:ey(t,r),acCompression:ey(t,r)};if(a.version<2)throw"EXRLoader.parse: "+eL.compression+" version "+a.version+" is unsupported";for(var i=[],l=e_(t,r)-m;l>0;){var o=ec(t.buffer,r),u=eg(t,r),s=u>>2&3,c=new Int8Array([(u>>4)-1])[0],f=eg(t,r);i.push({name:o,index:c,type:f,compression:s}),l-=o.length+3}for(var d=eL.channels,h=Array(e.channels),p=0;p<e.channels;++p){var v=h[p]={},g=d[p];v.name=g.name,v.compression=w,v.decoded=!1,v.type=g.pixelType,v.pLinear=g.pLinear,v.width=e.width,v.height=e.lines}for(var _={idx:[,,,]},S=0;S<e.channels;++S)for(var v=h[S],p=0;p<i.length;++p){var E=i[p];v.name==E.name&&(v.compression=E.compression,E.index>=0&&(_.idx[E.index]=S),v.offset=S)}if(a.acCompressedSize>0)switch(a.acCompression){case y:var M=new Uint16Array(a.totalAcUncompressedCount);V(e.array,t,r,a.acCompressedSize,M,a.totalAcUncompressedCount);break;case b:var k=e.array.slice(r.value,r.value+a.totalAcUncompressedCount),T=K(k),M=new Uint16Array(T.buffer);r.value+=a.totalAcUncompressedCount}if(a.dcCompressedSize>0){var C=new Uint16Array(el({array:e.array,offset:r,size:a.dcCompressedSize}).buffer);r.value+=a.dcCompressedSize}if(a.rleRawSize>0){var k=e.array.slice(r.value,r.value+a.rleCompressedSize),T=K(k),R=Q(T.buffer);r.value+=a.rleCompressedSize}for(var P=0,A=Array(h.length),p=0;p<A.length;++p)A[p]=[];for(var U=0;U<e.lines;++U)for(var I=0;I<h.length;++I)A[I].push(P),P+=h[I].width*e.type*m;X(_,A,h,M,C,n);for(var p=0;p<h.length;++p){var v=h[p];if(!v.decoded){if(v.compression===x)for(var z=0,D=0,U=0;U<e.lines;++U){for(var F=A[p][z],L=0;L<v.width;++L){for(var B=0;B<m*v.type;++B)n[F++]=R[D+B*v.width*v.height];D++}z++}else throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(n.buffer)}function ec(e,t){for(var r=new Uint8Array(e),n=0;0!=r[t.value+n];)n+=1;var a=new TextDecoder().decode(r.slice(t.value,t.value+n));return t.value=t.value+n+1,a}function ef(e,t,r){var n=new TextDecoder().decode(new Uint8Array(e).slice(t.value,t.value+r));return t.value=t.value+r,n}function ed(e,t){return[ep(e,t),ev(e,t)]}function eh(e,t){return[ev(e,t),ev(e,t)]}function ep(e,t){var r=e.getInt32(t.value,!0);return t.value=t.value+v,r}function ev(e,t){var r=e.getUint32(t.value,!0);return t.value=t.value+v,r}function em(e,t){var r=e[t.value];return t.value=t.value+g,r}function eg(e,t){var r=e.getUint8(t.value);return t.value=t.value+g,r}let ey=function(e,t){let r;return"getBigInt64"in DataView.prototype?r=Number(e.getBigInt64(t.value,!0)):r=e.getUint32(t.value+4,!0)+Number(e.getUint32(t.value,!0)<<32),t.value+=h,r};function eb(e,t){var r=e.getFloat32(t.value,!0);return t.value+=p,r}function ew(e,t){return o.DataUtils.toHalfFloat(eb(e,t))}function ex(e){var t=(31744&e)>>10,r=1023&e;return(e>>15?-1:1)*(t?31===t?r?NaN:1/0:Math.pow(2,t-15)*(1+r/1024):r/1024*6103515625e-14)}function e_(e,t){var r=e.getUint16(t.value,!0);return t.value+=m,r}function eS(e,t){return ex(e_(e,t))}function eE(e,t,r,n){for(var a=r.value,i=[];r.value<a+n-1;){var l=ec(t,r),o=ep(e,r),u=eg(e,r);r.value+=3;var s=ep(e,r),c=ep(e,r);i.push({name:l,pixelType:o,pLinear:u,xSampling:s,ySampling:c})}return r.value+=1,i}function eM(e,t){var r=eb(e,t),n=eb(e,t),a=eb(e,t),i=eb(e,t),l=eb(e,t);return{redX:r,redY:n,greenX:a,greenY:i,blueX:l,blueY:eb(e,t),whiteX:eb(e,t),whiteY:eb(e,t)}}function ek(e,t){return["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"][eg(e,t)]}function eT(e,t){var r=ev(e,t);return{xMin:r,yMin:ev(e,t),xMax:ev(e,t),yMax:ev(e,t)}}function eC(e,t){return["INCREASING_Y"][eg(e,t)]}function eR(e,t){return[eb(e,t),eb(e,t)]}function eP(e,t){return[eb(e,t),eb(e,t),eb(e,t)]}function eA(e,t,r,n,a){return"string"===n||"stringvector"===n||"iccProfile"===n?ef(t,r,a):"chlist"===n?eE(e,t,r,a):"chromaticities"===n?eM(e,r):"compression"===n?ek(e,r):"box2i"===n?eT(e,r):"lineOrder"===n?eC(e,r):"float"===n?eb(e,r):"v2f"===n?eR(e,r):"v3f"===n?eP(e,r):"int"===n?ep(e,r):"rational"===n?ed(e,r):"timecode"===n?eh(e,r):"preview"===n?(r.value+=a,"skipped"):void(r.value+=a)}function eU(e,t,r){let n={};if(20000630!=e.getUint32(0,!0))throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";n.version=e.getUint8(4);let a=e.getUint8(5);n.spec={singleTile:!!(2&a),longName:!!(4&a),deepFormat:!!(8&a),multiPart:!!(16&a)},r.value=8;for(var i=!0;i;){var l=ec(t,r);if(0==l)i=!1;else{var o=ec(t,r),u=ev(e,r),s=eA(e,t,r,o,u);void 0===s?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${o}'.`):n[l]=s}}if((-5&a)!=0)throw console.error("EXRHeader:",n),"THREE.EXRLoader: provided file is currently unsupported.";return n}function eI(e,t,r,n,a){let i={size:0,viewer:t,array:r,offset:n,width:e.dataWindow.xMax-e.dataWindow.xMin+1,height:e.dataWindow.yMax-e.dataWindow.yMin+1,channels:e.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:e.channels[0].pixelType,uncompress:null,getter:null,format:null,[er?"colorSpace":"encoding"]:null};switch(e.compression){case"NO_COMPRESSION":i.lines=1,i.uncompress=ea;break;case"RLE_COMPRESSION":i.lines=1,i.uncompress=ei;break;case"ZIPS_COMPRESSION":i.lines=1,i.uncompress=el;break;case"ZIP_COMPRESSION":i.lines=16,i.uncompress=el;break;case"PIZ_COMPRESSION":i.lines=32,i.uncompress=eo;break;case"PXR24_COMPRESSION":i.lines=16,i.uncompress=eu;break;case"DWAA_COMPRESSION":i.lines=32,i.uncompress=es;break;case"DWAB_COMPRESSION":i.lines=256,i.uncompress=es;break;default:throw"EXRLoader.parse: "+e.compression+" is unsupported"}if(i.scanlineBlockSize=i.lines,1==i.type)switch(a){case o.FloatType:i.getter=eS,i.inputSize=m;break;case o.HalfFloatType:i.getter=e_,i.inputSize=m}else if(2==i.type)switch(a){case o.FloatType:i.getter=eb,i.inputSize=p;break;case o.HalfFloatType:i.getter=ew,i.inputSize=p}else throw"EXRLoader.parse: unsupported pixelType "+i.type+" for "+e.compression+".";i.blockCount=(e.dataWindow.yMax+1)/i.scanlineBlockSize;for(var l=0;l<i.blockCount;l++)ey(t,n);i.outputChannels=3==i.channels?4:i.channels;let u=i.width*i.height*i.outputChannels;switch(a){case o.FloatType:i.byteArray=new Float32Array(u),i.channels<i.outputChannels&&i.byteArray.fill(1,0,u);break;case o.HalfFloatType:i.byteArray=new Uint16Array(u),i.channels<i.outputChannels&&i.byteArray.fill(15360,0,u);break;default:console.error("THREE.EXRLoader: unsupported type: ",a)}return i.bytesPerLine=i.width*i.inputSize*i.channels,4==i.outputChannels?i.format=o.RGBAFormat:i.format=o.RedFormat,er?i.colorSpace="srgb-linear":i.encoding=3e3,i}let ez=new DataView(e),eD=new Uint8Array(e),eF={value:0},eL=eU(ez,e,eF),eB=eI(eL,ez,eD,eF,this.type),eN={value:0},eO={R:0,G:1,B:2,A:3,Y:0};for(let e=0;e<eB.height/eB.scanlineBlockSize;e++){let t=ev(ez,eF);eB.size=ev(ez,eF),eB.lines=t+eB.scanlineBlockSize>eB.height?eB.height-t:eB.scanlineBlockSize;let r=eB.size<eB.lines*eB.bytesPerLine?eB.uncompress(eB):ea(eB);eF.value+=eB.size;for(let t=0;t<eB.scanlineBlockSize;t++){let n=t+e*eB.scanlineBlockSize;if(n>=eB.height)break;for(let e=0;e<eB.channels;e++){let a=eO[eL.channels[e].name];for(let i=0;i<eB.width;i++){eN.value=(eB.channels*eB.width*t+e*eB.width+i)*eB.inputSize;let l=(eB.height-1-n)*(eB.width*eB.outputChannels)+i*eB.outputChannels+a;eB.byteArray[l]=eB.getter(r,eN)}}}}return{header:eL,width:eB.width,height:eB.height,data:eB.byteArray,format:eB.format,[er?"colorSpace":"encoding"]:eB[er?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,t,r,n){function a(e,r){er?e.colorSpace=r.colorSpace:e.encoding=r.encoding,e.minFilter=o.LinearFilter,e.magFilter=o.LinearFilter,e.generateMipmaps=!1,e.flipY=!1,t&&t(e,r)}return super.load(e,a,r,n)}}let ea=(e,t,r)=>{let n;switch(e){case o.UnsignedByteType:n=new Uint8ClampedArray(t*r*4);break;case o.HalfFloatType:n=new Uint16Array(t*r*4);break;case o.UnsignedIntType:n=new Uint32Array(t*r*4);break;case o.ByteType:n=new Int8Array(t*r*4);break;case o.ShortType:n=new Int16Array(t*r*4);break;case o.IntType:n=new Int32Array(t*r*4);break;case o.FloatType:n=new Float32Array(t*r*4);break;default:throw Error("Unsupported data type")}return n},ei=(e,t,r,a)=>{if(void 0!==n)return n;let i=new o.WebGLRenderTarget(1,1,a);t.setRenderTarget(i);let l=new o.Mesh(new o.PlaneGeometry,new o.MeshBasicMaterial({color:16777215}));t.render(l,r),t.setRenderTarget(null);let u=ea(e,i.width,i.height);return t.readRenderTargetPixels(i,0,0,i.width,i.height,u),i.dispose(),l.geometry.dispose(),l.material.dispose(),n=0!==u[0]};class el{constructor(e){var t,r,n,a,i,l,u,s,c,f,d,h,p,v,m,g;this._rendererIsDisposable=!1,this._supportsReadPixels=!0,this.render=()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)},this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;let y={format:o.RGBAFormat,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:(null===(t=e.renderTargetOptions)||void 0===t?void 0:t.anisotropy)!==void 0?null===(r=e.renderTargetOptions)||void 0===r?void 0:r.anisotropy:1,generateMipmaps:(null===(n=e.renderTargetOptions)||void 0===n?void 0:n.generateMipmaps)!==void 0&&(null===(a=e.renderTargetOptions)||void 0===a?void 0:a.generateMipmaps),magFilter:(null===(i=e.renderTargetOptions)||void 0===i?void 0:i.magFilter)!==void 0?null===(l=e.renderTargetOptions)||void 0===l?void 0:l.magFilter:o.LinearFilter,minFilter:(null===(u=e.renderTargetOptions)||void 0===u?void 0:u.minFilter)!==void 0?null===(s=e.renderTargetOptions)||void 0===s?void 0:s.minFilter:o.LinearFilter,samples:(null===(c=e.renderTargetOptions)||void 0===c?void 0:c.samples)!==void 0?null===(f=e.renderTargetOptions)||void 0===f?void 0:f.samples:void 0,wrapS:(null===(d=e.renderTargetOptions)||void 0===d?void 0:d.wrapS)!==void 0?null===(h=e.renderTargetOptions)||void 0===h?void 0:h.wrapS:o.ClampToEdgeWrapping,wrapT:(null===(p=e.renderTargetOptions)||void 0===p?void 0:p.wrapT)!==void 0?null===(v=e.renderTargetOptions)||void 0===v?void 0:v.wrapT:o.ClampToEdgeWrapping};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=el.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new o.Scene,this._camera=new o.OrthographicCamera,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!ei(this._type,this._renderer,this._camera,y)){let e;this._type===o.HalfFloatType&&(e=this._renderer.extensions.has("EXT_color_buffer_float")?o.FloatType:void 0),void 0!==e?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${o.FloatType}`),this._type=e):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new o.Mesh(new o.PlaneGeometry,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new o.WebGLRenderTarget(this.width,this.height,y),this._renderTarget.texture.mapping=(null===(m=e.renderTargetOptions)||void 0===m?void 0:m.mapping)!==void 0?null===(g=e.renderTargetOptions)||void 0===g?void 0:g.mapping:o.UVMapping}static instantiateRenderer(){let e=new o.WebGLRenderer;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw Error("Can't read pixels in this browser");let e=ea(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){let t=new o.DataTexture(this.toArray(),this.width,this.height,o.RGBAFormat,this._type,(null==e?void 0:e.mapping)||o.UVMapping,(null==e?void 0:e.wrapS)||o.ClampToEdgeWrapping,(null==e?void 0:e.wrapT)||o.ClampToEdgeWrapping,(null==e?void 0:e.magFilter)||o.LinearFilter,(null==e?void 0:e.minFilter)||o.LinearFilter,(null==e?void 0:e.anisotropy)||1,o.LinearSRGBColorSpace);return t.generateMipmaps=(null==e?void 0:e.generateMipmaps)!==void 0&&(null==e?void 0:e.generateMipmaps),t}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof o.ShaderMaterial&&Object.values(this.material.uniforms).forEach(e=>{e.value instanceof o.Texture&&e.value.dispose()}),Object.values(this.material).forEach(e=>{e instanceof o.Texture&&e.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}let eo=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,eu=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class es extends o.ShaderMaterial{constructor({gamma:e,offsetHdr:t,offsetSdr:r,gainMapMin:n,gainMapMax:a,maxDisplayBoost:i,hdrCapacityMin:l,hdrCapacityMax:u,sdr:s,gainMap:c}){super({name:"GainMapDecoderMaterial",vertexShader:eo,fragmentShader:eu,uniforms:{sdr:{value:s},gainMap:{value:c},gamma:{value:new o.Vector3(1/e[0],1/e[1],1/e[2])},offsetHdr:{value:new o.Vector3().fromArray(t)},offsetSdr:{value:new o.Vector3().fromArray(r)},gainMapMin:{value:new o.Vector3().fromArray(n)},gainMapMax:{value:new o.Vector3().fromArray(a)},weightFactor:{value:(Math.log2(i)-l)/(u-l)}},blending:o.NoBlending,depthTest:!1,depthWrite:!1}),this._maxDisplayBoost=i,this._hdrCapacityMin=l,this._hdrCapacityMax=u,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(e){this.uniforms.sdr.value=e}get gainMap(){return this.uniforms.gainMap.value}set gainMap(e){this.uniforms.gainMap.value=e}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(e){this.uniforms.offsetHdr.value.fromArray(e)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(e){this.uniforms.offsetSdr.value.fromArray(e)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(e){this.uniforms.gainMapMin.value.fromArray(e)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(e){this.uniforms.gainMapMax.value.fromArray(e)}get gamma(){let e=this.uniforms.gamma.value;return[1/e.x,1/e.y,1/e.z]}set gamma(e){let t=this.uniforms.gamma.value;t.x=1/e[0],t.y=1/e[1],t.z=1/e[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(e){this._hdrCapacityMin=e,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(e){this._hdrCapacityMax=e,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(e){this._maxDisplayBoost=Math.max(1,Math.min(65504,e)),this.calculateWeight()}calculateWeight(){let e=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,e))}}class ec extends Error{}class ef extends Error{}let ed=(e,t,r)=>{var n;let a;let i=null===(n=e.attributes.getNamedItem(t))||void 0===n?void 0:n.nodeValue;if(i)a=i;else{let n=e.getElementsByTagName(t)[0];if(n){let e=n.getElementsByTagName("rdf:li");if(3===e.length)a=Array.from(e).map(e=>e.innerHTML);else throw Error(`Gainmap metadata contains an array of items for ${t} but its length is not 3`)}else{if(r)return r;throw Error(`Can't find ${t} in gainmap metadata`)}}return a},eh=e=>{var t,r;let n;"undefined"!=typeof TextDecoder?n=new TextDecoder().decode(e):n=e.toString();let a=n.indexOf("<x:xmpmeta"),i=new DOMParser;for(;-1!==a;){let e=n.indexOf("x:xmpmeta>",a);n.slice(a,e+10);let l=n.slice(a,e+10);try{let e=i.parseFromString(l,"text/xml").getElementsByTagName("rdf:Description")[0],n=ed(e,"hdrgm:GainMapMin","0"),a=ed(e,"hdrgm:GainMapMax"),o=ed(e,"hdrgm:Gamma","1"),u=ed(e,"hdrgm:OffsetSDR","0.015625"),s=ed(e,"hdrgm:OffsetHDR","0.015625"),c=null===(t=e.attributes.getNamedItem("hdrgm:HDRCapacityMin"))||void 0===t?void 0:t.nodeValue;c||(c="0");let f=null===(r=e.attributes.getNamedItem("hdrgm:HDRCapacityMax"))||void 0===r?void 0:r.nodeValue;if(!f)throw Error("Incomplete gainmap metadata");return{gainMapMin:Array.isArray(n)?n.map(e=>parseFloat(e)):[parseFloat(n),parseFloat(n),parseFloat(n)],gainMapMax:Array.isArray(a)?a.map(e=>parseFloat(e)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(e=>parseFloat(e)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(u)?u.map(e=>parseFloat(e)):[parseFloat(u),parseFloat(u),parseFloat(u)],offsetHdr:Array.isArray(s)?s.map(e=>parseFloat(e)):[parseFloat(s),parseFloat(s),parseFloat(s)],hdrCapacityMin:parseFloat(c),hdrCapacityMax:parseFloat(f)}}catch(e){}a=n.indexOf("<x:xmpmeta",e)}};class ep{constructor(e){this.options={debug:!!e&&void 0!==e.debug&&e.debug,extractFII:!e||void 0===e.extractFII||e.extractFII,extractNonFII:!e||void 0===e.extractNonFII||e.extractNonFII}}extract(e){return new Promise((t,r)=>{let n;let a=this.options.debug,i=new DataView(e.buffer);if(65496!==i.getUint16(0)){r(Error("Not a valid jpeg"));return}let l=i.byteLength,o=2,u=0;for(;o<l;){if(++u>250){r(Error(`Found no marker after ${u} loops 😵`));return}if(255!==i.getUint8(o)){r(Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${i.getUint8(o).toString(16)}`));return}if(n=i.getUint8(o+1),a&&console.log(`Marker: ${n.toString(16)}`),226===n){a&&console.log("Found APP2 marker (0xffe2)");let e=o+4;if(1297106432===i.getUint32(e)){let n;let a=e+4;if(18761===i.getUint16(a))n=!1;else if(19789===i.getUint16(a))n=!0;else{r(Error("No valid endianness marker found in TIFF header"));return}if(42!==i.getUint16(a+2,!n)){r(Error("Not valid TIFF data! (no 0x002A marker)"));return}let l=i.getUint32(a+4,!n);if(l<8){r(Error("Not valid TIFF data! (First offset less than 8)"));return}let o=a+l,u=i.getUint16(o,!n),s=o+2,c=0;for(let e=s;e<s+12*u;e+=12)45057===i.getUint16(e,!n)&&(c=i.getUint32(e+8,!n));let f=o+2+12*u+4,d=[];for(let e=f;e<f+16*c;e+=16){let t={MPType:i.getUint32(e,!n),size:i.getUint32(e+4,!n),dataOffset:i.getUint32(e+8,!n),dependantImages:i.getUint32(e+12,!n),start:-1,end:-1,isFII:!1};t.dataOffset?(t.start=a+t.dataOffset,t.isFII=!1):(t.start=0,t.isFII=!0),t.end=t.start+t.size,d.push(t)}if(this.options.extractNonFII&&d.length){let e=new Blob([i]),r=[];for(let t of d){if(t.isFII&&!this.options.extractFII)continue;let n=e.slice(t.start,t.end+1,"image/jpeg");r.push(n)}t(r)}}}o+=2+i.getUint16(o+2)}})}}let ev=async e=>{let t=eh(e);if(!t)throw new ef("Gain map XMP metadata not found");let r=new ep({extractFII:!0,extractNonFII:!0}),n=await r.extract(e);if(2!==n.length)throw new ec("Gain map recovery image not found");return{sdr:new Uint8Array(await n[0].arrayBuffer()),gainMap:new Uint8Array(await n[1].arrayBuffer()),metadata:t}},em=e=>new Promise((t,r)=>{let n=document.createElement("img");n.onload=()=>{t(n)},n.onerror=e=>{r(e)},n.src=URL.createObjectURL(e)});class eg extends o.Loader{constructor(e,t){super(t),e&&(this._renderer=e),this._internalLoadingManager=new o.LoadingManager}setRenderer(e){return this._renderer=e,this}setRenderTargetOptions(e){return this._renderTargetOptions=e,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: An existing WebGL Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");let e=new es({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new o.Texture,sdr:new o.Texture});return new el({width:16,height:16,type:o.HalfFloatType,colorSpace:o.LinearSRGBColorSpace,material:e,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async render(e,t,r,n){let a,i;let l=n?new Blob([n],{type:"image/jpeg"}):void 0,u=new Blob([r],{type:"image/jpeg"}),s=!1;if("undefined"==typeof createImageBitmap){let e=await Promise.all([l?em(l):Promise.resolve(void 0),em(u)]);i=e[0],a=e[1],s=!0}else{let e=await Promise.all([l?createImageBitmap(l,{imageOrientation:"flipY"}):Promise.resolve(void 0),createImageBitmap(u,{imageOrientation:"flipY"})]);i=e[0],a=e[1]}let c=new o.Texture(i||new ImageData(2,2),o.UVMapping,o.ClampToEdgeWrapping,o.ClampToEdgeWrapping,o.LinearFilter,o.LinearMipMapLinearFilter,o.RGBAFormat,o.UnsignedByteType,1,o.LinearSRGBColorSpace);c.flipY=s,c.needsUpdate=!0;let f=new o.Texture(a,o.UVMapping,o.ClampToEdgeWrapping,o.ClampToEdgeWrapping,o.LinearFilter,o.LinearMipMapLinearFilter,o.RGBAFormat,o.UnsignedByteType,1,o.SRGBColorSpace);f.flipY=s,f.needsUpdate=!0,e.width=a.width,e.height=a.height,e.material.gainMap=c,e.material.sdr=f,e.material.gainMapMin=t.gainMapMin,e.material.gainMapMax=t.gainMapMax,e.material.offsetHdr=t.offsetHdr,e.material.offsetSdr=t.offsetSdr,e.material.gamma=t.gamma,e.material.hdrCapacityMin=t.hdrCapacityMin,e.material.hdrCapacityMax=t.hdrCapacityMax,e.material.maxDisplayBoost=Math.pow(2,t.hdrCapacityMax),e.material.needsUpdate=!0,e.render()}}class ey extends eg{load([e,t,r],n,a,i){let l,u,s;let c=this.prepareQuadRenderer(),f=async()=>{if(l&&u&&s){try{await this.render(c,s,l,u)}catch(n){this.manager.itemError(e),this.manager.itemError(t),this.manager.itemError(r),"function"==typeof i&&i(n),c.disposeOnDemandRenderer();return}"function"==typeof n&&n(c),this.manager.itemEnd(e),this.manager.itemEnd(t),this.manager.itemEnd(r),c.disposeOnDemandRenderer()}},d=!0,h=0,p=0,v=!0,m=0,g=0,y=!0,b=0,w=0,x=()=>{"function"==typeof a&&a(new ProgressEvent("progress",{lengthComputable:d&&v&&y,loaded:p+g+w,total:h+m+b}))};this.manager.itemStart(e),this.manager.itemStart(t),this.manager.itemStart(r);let _=new o.FileLoader(this._internalLoadingManager);_.setResponseType("arraybuffer"),_.setRequestHeader(this.requestHeader),_.setPath(this.path),_.setWithCredentials(this.withCredentials),_.load(e,async e=>{if("string"==typeof e)throw Error("Invalid sdr buffer");l=e,await f()},e=>{d=e.lengthComputable,p=e.loaded,h=e.total,x()},t=>{this.manager.itemError(e),"function"==typeof i&&i(t)});let S=new o.FileLoader(this._internalLoadingManager);S.setResponseType("arraybuffer"),S.setRequestHeader(this.requestHeader),S.setPath(this.path),S.setWithCredentials(this.withCredentials),S.load(t,async e=>{if("string"==typeof e)throw Error("Invalid gainmap buffer");u=e,await f()},e=>{v=e.lengthComputable,g=e.loaded,m=e.total,x()},e=>{this.manager.itemError(t),"function"==typeof i&&i(e)});let E=new o.FileLoader(this._internalLoadingManager);return E.setRequestHeader(this.requestHeader),E.setPath(this.path),E.setWithCredentials(this.withCredentials),E.load(r,async e=>{if("string"!=typeof e)throw Error("Invalid metadata string");s=JSON.parse(e),await f()},e=>{y=e.lengthComputable,w=e.loaded,b=e.total,x()},e=>{this.manager.itemError(r),"function"==typeof i&&i(e)}),c}}class eb extends eg{load(e,t,r,n){let a=this.prepareQuadRenderer(),i=new o.FileLoader(this._internalLoadingManager);return i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setPath(this.path),i.setWithCredentials(this.withCredentials),this.manager.itemStart(e),i.load(e,async r=>{let i,l,o;if("string"==typeof r)throw Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");let u=new Uint8Array(r);try{let e=await ev(u);i=e.sdr,l=e.gainMap,o=e.metadata}catch(t){if(t instanceof ef||t instanceof ec)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),o={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},i=u;else throw t}try{await this.render(a,o,i,l)}catch(t){this.manager.itemError(e),"function"==typeof n&&n(t),a.disposeOnDemandRenderer();return}"function"==typeof t&&t(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,t=>{this.manager.itemError(e),"function"==typeof n&&n(t)}),a}}let ew={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},ex=3e3,e_=3001,eS="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",eE=e=>Array.isArray(e);function eM({files:e=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:t="",preset:r,encoding:n,extensions:a}={}){var i,u;let s;let f=null,d=!1;if(r){if(!(r in ew))throw Error("Preset must be one of: "+Object.keys(ew).join(", "));e=ew[r],t=eS}let h=eE(e)&&6===e.length,p=eE(e)&&3===e.length&&e.some(e=>e.endsWith("json")),v=eE(e)?e[0]:e;if(d=eE(e),!(f="cube"===(s=h?"cube":p?"webp":v.startsWith("data:application/exr")?"exr":v.startsWith("data:application/hdr")?"hdr":v.startsWith("data:image/jpeg")?"jpg":null==(i=v.split(".").pop())||null==(i=i.split("?"))||null==(i=i.shift())?void 0:i.toLowerCase())?o.CubeTextureLoader:"hdr"===s?c:"exr"===s?en:"jpg"===s||"jpeg"===s?eb:"webp"===s?ey:null))throw Error("useEnvironment: Unrecognized file extension: "+e);let m=(0,l.A)(e=>e.gl),g=(0,l.F)(f,d?[e]:e,e=>{("webp"===s||"jpg"===s||"jpeg"===s)&&e.setRenderer(m),null==e.setPath||e.setPath(t),a&&a(e)}),y=d?g[0]:g;return("jpg"===s||"jpeg"===s||"webp"===s)&&(y=null==(u=y.renderTarget)?void 0:u.texture),y.mapping=h?o.CubeReflectionMapping:o.EquirectangularReflectionMapping,"colorSpace"in y?y.colorSpace=(null!=n?n:h)?"srgb":"srgb-linear":y.encoding=(null!=n?n:h)?e_:ex,y}let ek=e=>e.current&&e.current.isScene,eT=e=>ek(e)?e.current:e;function eC(e,t,r,n,a={}){var i,o,u,s,c;a={backgroundBlurriness:null!==(i=a.blur)&&void 0!==i?i:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...a};let f=eT(t||r),d=f.background,h=f.environment,p={backgroundBlurriness:f.backgroundBlurriness,backgroundIntensity:f.backgroundIntensity,backgroundRotation:null!==(o=null==(u=f.backgroundRotation)||null==u.clone?void 0:u.clone())&&void 0!==o?o:[0,0,0],environmentIntensity:f.environmentIntensity,environmentRotation:null!==(s=null==(c=f.environmentRotation)||null==c.clone?void 0:c.clone())&&void 0!==s?s:[0,0,0]};return"only"!==e&&(f.environment=n),e&&(f.background=n),(0,l.j)(f,a),()=>{"only"!==e&&(f.environment=h),e&&(f.background=d),(0,l.j)(f,p)}}function eR({scene:e,background:t=!1,map:r,...n}){let a=(0,l.A)(e=>e.scene);return i.useLayoutEffect(()=>{if(r)return eC(t,e,a,r,n)}),null}function eP({background:e=!1,scene:t,blur:r,backgroundBlurriness:n,backgroundIntensity:a,backgroundRotation:o,environmentIntensity:u,environmentRotation:s,...c}){let f=eM(c),d=(0,l.A)(e=>e.scene);return i.useLayoutEffect(()=>eC(e,t,d,f,{blur:r,backgroundBlurriness:n,backgroundIntensity:a,backgroundRotation:o,environmentIntensity:u,environmentRotation:s})),null}function eA({children:e,near:t=1,far:r=1e3,resolution:n=256,frames:a=1,map:u,background:s=!1,blur:c,backgroundBlurriness:f,backgroundIntensity:d,backgroundRotation:h,environmentIntensity:p,environmentRotation:v,scene:m,files:g,path:y,preset:b,extensions:w}){let x=(0,l.A)(e=>e.gl),_=(0,l.A)(e=>e.scene),S=i.useRef(null),[E]=i.useState(()=>new o.Scene),M=i.useMemo(()=>{let e=new o.WebGLCubeRenderTarget(n);return e.texture.type=o.HalfFloatType,e},[n]);i.useLayoutEffect(()=>(1===a&&S.current.update(x,E),eC(s,m,_,M.texture,{blur:c,backgroundBlurriness:f,backgroundIntensity:d,backgroundRotation:h,environmentIntensity:p,environmentRotation:v})),[e,E,M.texture,m,_,s,a,x]);let k=1;return(0,l.C)(()=>{(a===1/0||k<a)&&(S.current.update(x,E),k++)}),i.createElement(i.Fragment,null,(0,l.g)(i.createElement(i.Fragment,null,e,i.createElement("cubeCamera",{ref:S,args:[t,r,M]}),g||b?i.createElement(eP,{background:!0,files:g,preset:b,path:y,extensions:w}):u?i.createElement(eR,{background:!0,map:u,extensions:w}):null),E))}function eU(e){var t,r,n,o;let u=eM(e),c=e.map||u;i.useMemo(()=>(0,l.e)({GroundProjectedEnvImpl:s}),[]);let f=i.useMemo(()=>[c],[c]),d=null==(t=e.ground)?void 0:t.height,h=null==(r=e.ground)?void 0:r.radius,p=null!==(n=null==(o=e.ground)?void 0:o.scale)&&void 0!==n?n:1e3;return i.createElement(i.Fragment,null,i.createElement(eR,(0,a.Z)({},e,{map:c})),i.createElement("groundProjectedEnvImpl",{args:f,scale:p,height:d,radius:h}))}function eI(e){return e.ground?i.createElement(eU,e):e.map?i.createElement(eR,e):e.children?i.createElement(eA,e):i.createElement(eP,e)}},5985:function(e,t,r){"use strict";r.d(t,{E:function(){return v}});var n=r(2988),a=r(2265),i=r(7776),l=r(6986);function o(e,t,r,n){let a=class extends i.ShaderMaterial{constructor(a={}){let l=Object.entries(e);super({uniforms:l.reduce((e,[t,r])=>{let n=i.UniformsUtils.clone({[t]:{value:r}});return{...e,...n}},{}),vertexShader:t,fragmentShader:r}),this.key="",l.forEach(([e])=>Object.defineProperty(this,e,{get:()=>this.uniforms[e].value,set:t=>this.uniforms[e].value=t})),Object.assign(this,a),n&&n(this)}};return a.key=i.MathUtils.generateUUID(),a}let u=e=>e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;function s(e,t){let r=(0,l.A)(e=>e.gl),n=(0,l.F)(i.TextureLoader,u(e)?Object.values(e):e);return(0,a.useLayoutEffect)(()=>{null==t||t(n)},[t]),(0,a.useEffect)(()=>{if("initTexture"in r){let e=[];Array.isArray(n)?e=n:n instanceof i.Texture?e=[n]:u(n)&&(e=Object.values(n)),e.forEach(e=>{e instanceof i.Texture&&r.initTexture(e)})}},[r,n]),(0,a.useMemo)(()=>{if(!u(e))return n;{let t={},r=0;for(let a in e)t[a]=n[r++];return console.log("keyed",t),t}},[e,n])}s.preload=e=>l.F.preload(i.TextureLoader,e),s.clear=e=>l.F.clear(i.TextureLoader,e);var c=r(9449);let f=o({color:new i.Color("white"),scale:new i.Vector2(1,1),imageBounds:new i.Vector2(1,1),resolution:1024,map:null,zoom:1,radius:0,grayscale:0,opacity:1},`
  varying vec2 vUv;
  varying vec2 vPos;
  void main() {
    gl_Position = projectionMatrix * viewMatrix * modelMatrix * vec4(position, 1.);
    vUv = uv;
    vPos = position.xy;
  }
`,`
  // mostly from https://gist.github.com/statico/df64c5d167362ecf7b34fca0b1459a44
  varying vec2 vUv;
  varying vec2 vPos;
  uniform vec2 scale;
  uniform vec2 imageBounds;
  uniform float resolution;
  uniform vec3 color;
  uniform sampler2D map;
  uniform float radius;
  uniform float zoom;
  uniform float grayscale;
  uniform float opacity;
  const vec3 luma = vec3(.299, 0.587, 0.114);
  vec4 toGrayscale(vec4 color, float intensity) {
    return vec4(mix(color.rgb, vec3(dot(color.rgb, luma)), intensity), color.a);
  }
  vec2 aspect(vec2 size) {
    return size / min(size.x, size.y);
  }
  
  const float PI = 3.14159265;
    
  // from https://iquilezles.org/articles/distfunctions
  float udRoundBox( vec2 p, vec2 b, float r ) {
    return length(max(abs(p)-b+r,0.0))-r;
  }

  void main() {
    vec2 s = aspect(scale);
    vec2 i = aspect(imageBounds);
    float rs = s.x / s.y;
    float ri = i.x / i.y;
    vec2 new = rs < ri ? vec2(i.x * s.y / i.y, s.y) : vec2(s.x, i.y * s.x / i.x);
    vec2 offset = (rs < ri ? vec2((new.x - s.x) / 2.0, 0.0) : vec2(0.0, (new.y - s.y) / 2.0)) / new;
    vec2 uv = vUv * s / new + offset;
    vec2 zUv = (uv - vec2(0.5, 0.5)) / zoom + vec2(0.5, 0.5);

    vec2 res = vec2(scale * resolution);
    vec2 halfRes = 0.5 * res;
    float b = udRoundBox(vUv.xy * res - halfRes, halfRes, resolution * radius);    
	  vec3 a = mix(vec3(1.0,0.0,0.0), vec3(0.0,0.0,0.0), smoothstep(0.0, 1.0, b));
    gl_FragColor = toGrayscale(texture2D(map, zUv) * vec4(color, opacity * a), grayscale);
    
    #include <tonemapping_fragment>
    #include <${c.i>=154?"colorspace_fragment":"encodings_fragment"}>
  }
`),d=a.forwardRef(({children:e,color:t,segments:r=1,scale:i=1,zoom:o=1,grayscale:u=0,opacity:s=1,radius:c=0,texture:d,toneMapped:h,transparent:p,side:v,...m},g)=>{(0,l.e)({ImageMaterial:f});let y=a.useRef(null),b=(0,l.A)(e=>e.size),w=Array.isArray(i)?[i[0],i[1]]:[i,i],x=[d.image.width,d.image.height],_=Math.max(b.width,b.height);return a.useImperativeHandle(g,()=>y.current,[]),a.useLayoutEffect(()=>{y.current.geometry.parameters&&y.current.material.scale.set(w[0]*y.current.geometry.parameters.width,w[1]*y.current.geometry.parameters.height)},[]),a.createElement("mesh",(0,n.Z)({ref:y,scale:Array.isArray(i)?[...i,1]:i},m),a.createElement("planeGeometry",{args:[1,1,r,r]}),a.createElement("imageMaterial",{color:t,map:d,zoom:o,grayscale:u,opacity:s,scale:w,imageBounds:x,resolution:_,radius:c,toneMapped:h,transparent:p,side:v,key:f.key}),e)}),h=a.forwardRef(({url:e,...t},r)=>{let i=s(e);return a.createElement(d,(0,n.Z)({},t,{texture:i,ref:r}))}),p=a.forwardRef(({url:e,...t},r)=>a.createElement(d,(0,n.Z)({},t,{ref:r}))),v=a.forwardRef((e,t)=>{if(e.url)return a.createElement(h,(0,n.Z)({},e,{ref:t}));if(e.texture)return a.createElement(p,(0,n.Z)({},e,{ref:t}));throw Error("<Image /> requires a url or texture")})},421:function(e,t,r){"use strict";r.d(t,{Q:function(){return f}});var n=r(2988),a=r(2265),i=r(7776),l=r(6986),o=r(9449);class u extends i.ShaderMaterial{constructor(e=new i.Vector2){super({uniforms:{inputBuffer:new i.Uniform(null),depthBuffer:new i.Uniform(null),resolution:new i.Uniform(new i.Vector2),texelSize:new i.Uniform(new i.Vector2),halfTexelSize:new i.Uniform(new i.Vector2),kernel:new i.Uniform(0),scale:new i.Uniform(1),cameraNear:new i.Uniform(0),cameraFar:new i.Uniform(1),minDepthThreshold:new i.Uniform(0),maxDepthThreshold:new i.Uniform(1),depthScale:new i.Uniform(0),depthToBlurRatioBias:new i.Uniform(.25)},fragmentShader:`#include <common>
        #include <dithering_pars_fragment>      
        uniform sampler2D inputBuffer;
        uniform sampler2D depthBuffer;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          float depthFactor = 0.0;
          
          #ifdef USE_DEPTH
            vec4 depth = texture2D(depthBuffer, vUv);
            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
            depthFactor *= depthScale;
            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));
          #endif
          
          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));
          gl_FragColor = sum * 0.25 ;

          #include <dithering_fragment>
          #include <tonemapping_fragment>
          #include <${o.i>=154?"colorspace_fragment":"encodings_fragment"}>
        }`,vertexShader:`uniform vec2 texelSize;
        uniform vec2 halfTexelSize;
        uniform float kernel;
        uniform float scale;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          vec2 uv = position.xy * 0.5 + 0.5;
          vUv = uv;

          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;
          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);
          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);
          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);
          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);

          gl_Position = vec4(position.xy, 1.0, 1.0);
        }`,blending:i.NoBlending,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(e.x,e.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setResolution(e){this.uniforms.resolution.value.copy(e)}}class s{constructor({gl:e,resolution:t,width:r=500,height:n=500,minDepthThreshold:a=0,maxDepthThreshold:l=1,depthScale:o=0,depthToBlurRatioBias:s=.25}){this.renderToScreen=!1,this.renderTargetA=new i.WebGLRenderTarget(t,t,{minFilter:i.LinearFilter,magFilter:i.LinearFilter,stencilBuffer:!1,depthBuffer:!1,type:i.HalfFloatType}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new u,this.convolutionMaterial.setTexelSize(1/r,1/n),this.convolutionMaterial.setResolution(new i.Vector2(r,n)),this.scene=new i.Scene,this.camera=new i.Camera,this.convolutionMaterial.uniforms.minDepthThreshold.value=a,this.convolutionMaterial.uniforms.maxDepthThreshold.value=l,this.convolutionMaterial.uniforms.depthScale.value=o,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=s,this.convolutionMaterial.defines.USE_DEPTH=o>0;let c=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),f=new Float32Array([0,0,2,0,0,2]),d=new i.BufferGeometry;d.setAttribute("position",new i.BufferAttribute(c,3)),d.setAttribute("uv",new i.BufferAttribute(f,2)),this.screen=new i.Mesh(d,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(e,t,r){let n,a,i;let l=this.scene,o=this.camera,u=this.renderTargetA,s=this.renderTargetB,c=this.convolutionMaterial,f=c.uniforms;f.depthBuffer.value=t.depthTexture;let d=c.kernel,h=t;for(a=0,i=d.length-1;a<i;++a)n=(1&a)==0?u:s,f.kernel.value=d[a],f.inputBuffer.value=h.texture,e.setRenderTarget(n),e.render(l,o),h=n;f.kernel.value=d[a],f.inputBuffer.value=h.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(l,o)}}class c extends i.MeshStandardMaterial{constructor(e={}){super(e),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(e)}onBeforeCompile(e){var t;null!=(t=e.defines)&&t.USE_UV||(e.defines.USE_UV=""),e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader=`
        uniform mat4 textureMatrix;
        varying vec4 my_vUv;
      ${e.vertexShader}`,e.vertexShader=e.vertexShader.replace("#include <project_vertex>",`#include <project_vertex>
        my_vUv = textureMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`),e.fragmentShader=`
        uniform sampler2D tDiffuse;
        uniform sampler2D tDiffuseBlur;
        uniform sampler2D tDepth;
        uniform sampler2D distortionMap;
        uniform float distortion;
        uniform float cameraNear;
			  uniform float cameraFar;
        uniform bool hasBlur;
        uniform float mixBlur;
        uniform float mirror;
        uniform float mixStrength;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float mixContrast;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec4 my_vUv;
        ${e.fragmentShader}`,e.fragmentShader=e.fragmentShader.replace("#include <emissivemap_fragment>",`#include <emissivemap_fragment>

      float distortionFactor = 0.0;
      #ifdef USE_DISTORTION
        distortionFactor = texture2D(distortionMap, vUv).r * distortion;
      #endif

      vec4 new_vUv = my_vUv;
      new_vUv.x += distortionFactor;
      new_vUv.y += distortionFactor;

      vec4 base = texture2DProj(tDiffuse, new_vUv);
      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);

      vec4 merge = base;

      #ifdef USE_NORMALMAP
        vec2 normal_uv = vec2(0.0);
        vec4 normalColor = texture2D(normalMap, vUv * normalScale);
        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );
        vec3 coord = new_vUv.xyz / new_vUv.w;
        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;
        vec4 base_normal = texture2D(tDiffuse, normal_uv);
        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);
        merge = base_normal;
        blur = blur_normal;
      #endif

      float depthFactor = 0.0001;
      float blurFactor = 0.0;

      #ifdef USE_DEPTH
        vec4 depth = texture2DProj(tDepth, new_vUv);
        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
        depthFactor *= depthScale;
        depthFactor = max(0.0001, min(1.0, depthFactor));

        #ifdef USE_BLUR
          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);
          merge = merge * min(1.0, depthFactor + 0.5);
        #else
          merge = merge * depthFactor;
        #endif

      #endif

      float reflectorRoughnessFactor = roughness;
      #ifdef USE_ROUGHNESSMAP
        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );
        reflectorRoughnessFactor *= reflectorTexelRoughness.g;
      #endif

      #ifdef USE_BLUR
        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);
        merge = mix(merge, blur, blurFactor);
      #endif

      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);
      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;
      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;
      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;

      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);
      `)}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(e){this._tDiffuse.value=e}get tDepth(){return this._tDepth.value}set tDepth(e){this._tDepth.value=e}get distortionMap(){return this._distortionMap.value}set distortionMap(e){this._distortionMap.value=e}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(e){this._tDiffuseBlur.value=e}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(e){this._textureMatrix.value=e}get hasBlur(){return this._hasBlur.value}set hasBlur(e){this._hasBlur.value=e}get mirror(){return this._mirror.value}set mirror(e){this._mirror.value=e}get mixBlur(){return this._mixBlur.value}set mixBlur(e){this._mixBlur.value=e}get mixStrength(){return this._blurStrength.value}set mixStrength(e){this._blurStrength.value=e}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(e){this._minDepthThreshold.value=e}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(e){this._maxDepthThreshold.value=e}get depthScale(){return this._depthScale.value}set depthScale(e){this._depthScale.value=e}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(e){this._depthToBlurRatioBias.value=e}get distortion(){return this._distortion.value}set distortion(e){this._distortion.value=e}get mixContrast(){return this._mixContrast.value}set mixContrast(e){this._mixContrast.value=e}}let f=a.forwardRef(({mixBlur:e=0,mixStrength:t=1,resolution:r=256,blur:o=[0,0],minDepthThreshold:u=.9,maxDepthThreshold:f=1,depthScale:d=0,depthToBlurRatioBias:h=.25,mirror:p=0,distortion:v=1,mixContrast:m=1,distortionMap:g,reflectorOffset:y=0,...b},w)=>{(0,l.e)({MeshReflectorMaterialImpl:c});let x=(0,l.A)(({gl:e})=>e),_=(0,l.A)(({camera:e})=>e),S=(0,l.A)(({scene:e})=>e),E=(o=Array.isArray(o)?o:[o,o])[0]+o[1]>0,M=a.useRef(null);a.useImperativeHandle(w,()=>M.current,[]);let[k]=a.useState(()=>new i.Plane),[T]=a.useState(()=>new i.Vector3),[C]=a.useState(()=>new i.Vector3),[R]=a.useState(()=>new i.Vector3),[P]=a.useState(()=>new i.Matrix4),[A]=a.useState(()=>new i.Vector3(0,0,-1)),[U]=a.useState(()=>new i.Vector4),[I]=a.useState(()=>new i.Vector3),[z]=a.useState(()=>new i.Vector3),[D]=a.useState(()=>new i.Vector4),[F]=a.useState(()=>new i.Matrix4),[L]=a.useState(()=>new i.PerspectiveCamera),B=a.useCallback(()=>{var e;let t=M.current.parent||(null==(e=M.current)?void 0:e.__r3f.parent);if(!t||(C.setFromMatrixPosition(t.matrixWorld),R.setFromMatrixPosition(_.matrixWorld),P.extractRotation(t.matrixWorld),T.set(0,0,1),T.applyMatrix4(P),C.addScaledVector(T,y),I.subVectors(C,R),I.dot(T)>0))return;I.reflect(T).negate(),I.add(C),P.extractRotation(_.matrixWorld),A.set(0,0,-1),A.applyMatrix4(P),A.add(R),z.subVectors(C,A),z.reflect(T).negate(),z.add(C),L.position.copy(I),L.up.set(0,1,0),L.up.applyMatrix4(P),L.up.reflect(T),L.lookAt(z),L.far=_.far,L.updateMatrixWorld(),L.projectionMatrix.copy(_.projectionMatrix),F.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),F.multiply(L.projectionMatrix),F.multiply(L.matrixWorldInverse),F.multiply(t.matrixWorld),k.setFromNormalAndCoplanarPoint(T,C),k.applyMatrix4(L.matrixWorldInverse),U.set(k.normal.x,k.normal.y,k.normal.z,k.constant);let r=L.projectionMatrix;D.x=(Math.sign(U.x)+r.elements[8])/r.elements[0],D.y=(Math.sign(U.y)+r.elements[9])/r.elements[5],D.z=-1,D.w=(1+r.elements[10])/r.elements[14],U.multiplyScalar(2/U.dot(D)),r.elements[2]=U.x,r.elements[6]=U.y,r.elements[10]=U.z+1,r.elements[14]=U.w},[_,y]),[N,O,j,H]=a.useMemo(()=>{let n={minFilter:i.LinearFilter,magFilter:i.LinearFilter,type:i.HalfFloatType},a=new i.WebGLRenderTarget(r,r,n);a.depthBuffer=!0,a.depthTexture=new i.DepthTexture(r,r),a.depthTexture.format=i.DepthFormat,a.depthTexture.type=i.UnsignedShortType;let l=new i.WebGLRenderTarget(r,r,n),c=new s({gl:x,resolution:r,width:o[0],height:o[1],minDepthThreshold:u,maxDepthThreshold:f,depthScale:d,depthToBlurRatioBias:h}),y={mirror:p,textureMatrix:F,mixBlur:e,tDiffuse:a.texture,tDepth:a.depthTexture,tDiffuseBlur:l.texture,hasBlur:E,mixStrength:t,minDepthThreshold:u,maxDepthThreshold:f,depthScale:d,depthToBlurRatioBias:h,distortion:v,distortionMap:g,mixContrast:m,"defines-USE_BLUR":E?"":void 0,"defines-USE_DEPTH":d>0?"":void 0,"defines-USE_DISTORTION":g?"":void 0};return[a,l,c,y]},[x,o,F,r,p,E,e,t,u,f,d,h,v,g,m]);return(0,l.C)(()=>{var e;let t=M.current.parent||(null==(e=M.current)?void 0:e.__r3f.parent);if(!t)return;t.visible=!1;let r=x.xr.enabled,n=x.shadowMap.autoUpdate;B(),x.xr.enabled=!1,x.shadowMap.autoUpdate=!1,x.setRenderTarget(N),x.state.buffers.depth.setMask(!0),x.autoClear||x.clear(),x.render(S,L),E&&j.render(x,N,O),x.xr.enabled=r,x.shadowMap.autoUpdate=n,t.visible=!0,x.setRenderTarget(null)}),a.createElement("meshReflectorMaterialImpl",(0,n.Z)({attach:"material",key:"key"+H["defines-USE_BLUR"]+H["defines-USE_DEPTH"]+H["defines-USE_DISTORTION"],ref:M},H,b))})},4379:function(e,t,r){"use strict";r.d(t,{x:function(){return u}});var n=r(2988),a=r(2265),i=r(5212),l=r(6986),o=r(9429);let u=a.forwardRef(({sdfGlyphSize:e=64,anchorX:t="center",anchorY:r="middle",font:u,fontSize:s=1,children:c,characters:f,onSync:d,...h},p)=>{let v=(0,l.A)(({invalidate:e})=>e),[m]=a.useState(()=>new i.xv),[g,y]=a.useMemo(()=>{let e=[],t="";return a.Children.forEach(c,r=>{"string"==typeof r||"number"==typeof r?t+=r:e.push(r)}),[e,t]},[c]);return(0,o.Rq)(()=>new Promise(e=>(0,i.C5)({font:u,characters:f},e)),["troika-text",u,f]),a.useLayoutEffect(()=>void m.sync(()=>{v(),d&&d(m)})),a.useEffect(()=>()=>m.dispose(),[m]),a.createElement("primitive",(0,n.Z)({object:m,ref:p,font:u,text:y,anchorX:t,anchorY:r,fontSize:s,sdfGlyphSize:e},h),g)})},9449:function(e,t,r){"use strict";r.d(t,{i:function(){return n}});let n=parseInt(r(7776).REVISION.replace(/\D+/g,""))},9174:function(e,t,r){"use strict";r.d(t,{j:function(){return a}});var n=r(2265);function a(e,t="pointer",r="auto",a=document.body){n.useEffect(()=>{if(e)return a.style.cursor=t,()=>void(a.style.cursor=r)},[e])}},6986:function(e,t,r){"use strict";let n,a,i;r.d(t,{A:function(){return ep},B:function(){return R},C:function(){return ev},E:function(){return P},F:function(){return ey},a:function(){return T},b:function(){return eT},c:function(){return et},d:function(){return eR},e:function(){return x},g:function(){return eP},i:function(){return k},j:function(){return eS},u:function(){return C}});var l,o,u=r(7776),s=r(2265),c=r(2777);function f(e){let t;let r=new Set,n=(e,n)=>{let a="function"==typeof e?e(t):e;if(a!==t){let e=t;t=n?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i=(e,n=a,i=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let l=n(t);function o(){let r=n(t);if(!i(l,r)){let t=l;e(l=r,t)}}return r.add(o),()=>r.delete(o)},l={setState:n,getState:a,subscribe:(e,t,n)=>t||n?i(e,t,n):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()};return t=e(n,a,l),l}let d="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?s.useEffect:s.useLayoutEffect;function h(e){let t="function"==typeof e?f(e):e,r=(e=t.getState,r=Object.is)=>{let n;let[,a]=(0,s.useReducer)(e=>e+1,0),i=t.getState(),l=(0,s.useRef)(i),o=(0,s.useRef)(e),u=(0,s.useRef)(r),c=(0,s.useRef)(!1),f=(0,s.useRef)();void 0===f.current&&(f.current=e(i));let h=!1;(l.current!==i||o.current!==e||u.current!==r||c.current)&&(n=e(i),h=!r(f.current,n)),d(()=>{h&&(f.current=n),l.current=i,o.current=e,u.current=r,c.current=!1});let p=(0,s.useRef)(i);d(()=>{let e=()=>{try{let e=t.getState(),r=o.current(e);u.current(f.current,r)||(l.current=e,f.current=r,a())}catch(e){c.current=!0,a()}},r=t.subscribe(e);return t.getState()!==p.current&&e(),r},[]);let v=h?n:f.current;return(0,s.useDebugValue)(v),v};return Object.assign(r,t),r[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[r,t];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},r}var p=r(1543),v=r.n(p),m=r(8276),g=r(9429),y=r(7437),b=r(357);let w={},x=e=>void Object.assign(w,e);function _(e,t){function r(e,{args:t=[],attach:r,...n},a){let i,l=`${e[0].toUpperCase()}${e.slice(1)}`;if("primitive"===e){if(void 0===n.object)throw Error("R3F: Primitives without 'object' are invalid!");i=O(n.object,{type:e,root:a,attach:r,primitive:!0})}else{let n=w[l];if(!n)throw Error(`R3F: ${l} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(t))throw Error("R3F: The args prop must be an array!");i=O(new n(...t),{type:e,root:a,attach:r,memoizedProps:{args:t}})}return void 0===i.__r3f.attach&&(i instanceof u.BufferGeometry?i.__r3f.attach="geometry":i instanceof u.Material&&(i.__r3f.attach="material")),"inject"!==l&&G(i,n),i}function n(e,t){let r=!1;if(t){var n,a;null!=(n=t.__r3f)&&n.attach?W(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),r=!0),r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||O(t,{}),t.__r3f.parent=e,X(t),Q(t)}}function a(e,t,r){let n=!1;if(t){var a,i;if(null!=(a=t.__r3f)&&a.attach)W(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"}),e.dispatchEvent({type:"childadded",child:t});let a=e.children.filter(e=>e!==t),i=a.indexOf(r);e.children=[...a.slice(0,i),t,...a.slice(i)],n=!0}n||null==(i=e.__r3f)||i.objects.push(t),t.__r3f||O(t,{}),t.__r3f.parent=e,X(t),Q(t)}}function i(e,t,r=!1){e&&[...e].forEach(e=>l(t,e,r))}function l(e,t,r){if(t){var n,a,l,o,u;t.__r3f&&(t.__r3f.parent=null),null!=(n=e.__r3f)&&n.objects&&(e.__r3f.objects=e.__r3f.objects.filter(e=>e!==t)),null!=(a=t.__r3f)&&a.attach?V(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.remove(t),null!=(o=t.__r3f)&&o.root&&ee(F(t),t));let s=null==(l=t.__r3f)?void 0:l.primitive,c=!s&&(void 0===r?null!==t.dispose:r);if(s||(i(null==(u=t.__r3f)?void 0:u.objects,t,c),i(t.children,t,c)),delete t.__r3f,c&&t.dispose&&"Scene"!==t.type){let e=()=>{try{t.dispose()}catch(e){}};"undefined"==typeof IS_REACT_ACT_ENVIRONMENT?(0,m.unstable_scheduleCallback)(m.unstable_IdlePriority,e):e()}Q(e)}}function o(e,t,a,i){var o;let u=null==(o=e.__r3f)?void 0:o.parent;if(!u)return;let s=r(t,a,e.__r3f.root);if(e.children){for(let t of e.children)t.__r3f&&n(s,t);e.children=e.children.filter(e=>!e.__r3f)}e.__r3f.objects.forEach(e=>n(s,e)),e.__r3f.objects=[],e.__r3f.autoRemovedBeforeAppend||l(u,e),s.parent&&(s.__r3f.autoRemovedBeforeAppend=!0),n(u,s),s.raycast&&s.__r3f.eventCount&&F(s).getState().internal.interaction.push(s),[i,i.alternate].forEach(e=>{null!==e&&(e.stateNode=s,e.ref&&("function"==typeof e.ref?e.ref(s):e.ref.current=s))})}let s=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:v()({createInstance:r,removeChild:l,appendChild:n,appendInitialChild:n,insertBefore:a,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(e,t)=>{if(!t)return;let r=e.getState().scene;r.__r3f&&(r.__r3f.root=e,n(r,t))},removeChildFromContainer:(e,t)=>{t&&l(e.getState().scene,t)},insertInContainerBefore:(e,t,r)=>{if(!t||!r)return;let n=e.getState().scene;n.__r3f&&a(n,t,r)},getRootHostContext:()=>null,getChildHostContext:e=>e,finalizeInitialChildren(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate(e,t,r,n){var a;if((null!=(a=null==e?void 0:e.__r3f)?a:{}).primitive&&n.object&&n.object!==e)return[!0];{let{args:t=[],children:a,...i}=n,{args:l=[],children:o,...u}=r;if(!Array.isArray(t))throw Error("R3F: the args prop must be an array!");if(t.some((e,t)=>e!==l[t]))return[!0];let s=q(e,i,u,!0);return s.changes.length?[!1,s]:null}},commitUpdate(e,[t,r],n,a,i,l){t?o(e,n,i,l):G(e,r)},commitMount(e,t,r,n){var a;let i=null!=(a=e.__r3f)?a:{};e.raycast&&i.handlers&&i.eventCount&&F(e).getState().internal.interaction.push(e)},getPublicInstance:e=>e,prepareForCommit:()=>null,preparePortalMount:e=>O(e.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(e){var t;let{attach:r,parent:n}=null!=(t=e.__r3f)?t:{};r&&n&&V(n,e,r),e.isObject3D&&(e.visible=!1),Q(e)},unhideInstance(e,t){var r;let{attach:n,parent:a}=null!=(r=e.__r3f)?r:{};n&&a&&W(a,e,n),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),Q(e)},createTextInstance:s,hideTextInstance:s,unhideTextInstance:s,getCurrentEventPriority:()=>t?t():c.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:"undefined"!=typeof performance&&L.fun(performance.now)?performance.now:L.fun(Date.now)?Date.now:()=>0,scheduleTimeout:L.fun(setTimeout)?setTimeout:void 0,cancelTimeout:L.fun(clearTimeout)?clearTimeout:void 0}),applyProps:G}}let S=e=>"colorSpace"in e||"outputColorSpace"in e,E=()=>{var e;return null!=(e=w.ColorManagement)?e:null},M=e=>e&&e.isOrthographicCamera,k=e=>e&&e.hasOwnProperty("current"),T="undefined"!=typeof window&&(null!=(l=window.document)&&l.createElement||(null==(o=window.navigator)?void 0:o.product)==="ReactNative")?s.useLayoutEffect:s.useEffect;function C(e){let t=s.useRef(e);return T(()=>void(t.current=e),[e]),t}function R({set:e}){return T(()=>(e(new Promise(()=>null)),()=>e(!1)),[e]),null}class P extends s.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}P.getDerivedStateFromError=()=>({error:!0});let A="__default",U=new Map,I=e=>e&&!!e.memoized&&!!e.changes;function z(e){var t;let r="undefined"!=typeof window?null!=(t=window.devicePixelRatio)?t:2:1;return Array.isArray(e)?Math.min(Math.max(e[0],r),e[1]):e}let D=e=>{var t;return null==(t=e.__r3f)?void 0:t.root.getState()};function F(e){let t=e.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}let L={obj:e=>e===Object(e)&&!L.arr(e)&&"function"!=typeof e,fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,boo:e=>"boolean"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t,{arrays:r="shallow",objects:n="reference",strict:a=!0}={}){let i;if(typeof e!=typeof t||!!e!=!!t)return!1;if(L.str(e)||L.num(e)||L.boo(e))return e===t;let l=L.obj(e);if(l&&"reference"===n)return e===t;let o=L.arr(e);if(o&&"reference"===r)return e===t;if((o||l)&&e===t)return!0;for(i in e)if(!(i in t))return!1;if(l&&"shallow"===r&&"shallow"===n){for(i in a?t:e)if(!L.equ(e[i],t[i],{strict:a,objects:"reference"}))return!1}else for(i in a?t:e)if(e[i]!==t[i])return!1;if(L.und(i)){if(o&&0===e.length&&0===t.length||l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function B(e){let t={nodes:{},materials:{}};return e&&e.traverse(e=>{e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)}),t}function N(e){for(let t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}function O(e,t){return e.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},e}function j(e,t){let r=e;if(!t.includes("-"))return{target:r,key:t};{let n=t.split("-"),a=n.pop();return{target:r=n.reduce((e,t)=>e[t],e),key:a}}}let H=/-\d+$/;function W(e,t,r){if(L.str(r)){if(H.test(r)){let{target:t,key:n}=j(e,r.replace(H,""));Array.isArray(t[n])||(t[n]=[])}let{target:n,key:a}=j(e,r);t.__r3f.previousAttach=n[a],n[a]=t}else t.__r3f.previousAttach=r(e,t)}function V(e,t,r){var n,a;if(L.str(r)){let{target:n,key:a}=j(e,r),i=t.__r3f.previousAttach;void 0===i?delete n[a]:n[a]=i}else null==(n=t.__r3f)||null==n.previousAttach||n.previousAttach(e,t);null==(a=t.__r3f)||delete a.previousAttach}function q(e,{children:t,key:r,ref:n,...a},{children:i,key:l,ref:o,...u}={},s=!1){let c=e.__r3f,f=Object.entries(a),d=[];if(s){let e=Object.keys(u);for(let t=0;t<e.length;t++)a.hasOwnProperty(e[t])||f.unshift([e[t],A+"remove"])}f.forEach(([t,r])=>{var n;if(null!=(n=e.__r3f)&&n.primitive&&"object"===t||L.equ(r,u[t]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(t))return d.push([t,r,!0,[]]);let i=[];for(let e in t.includes("-")&&(i=t.split("-")),d.push([t,r,!1,i]),a){let r=a[e];e.startsWith(`${t}-`)&&d.push([e,r,!1,e.split("-")])}});let h={...a};return null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.args&&(h.args=c.memoizedProps.args),null!=c&&c.memoizedProps&&null!=c&&c.memoizedProps.attach&&(h.attach=c.memoizedProps.attach),{memoized:h,changes:d}}let $=void 0!==b&&!1;function G(e,t){var r;let n=e.__r3f,a=null==n?void 0:n.root,i=null==a?void 0:null==a.getState?void 0:a.getState(),{memoized:l,changes:o}=I(t)?t:q(e,t),s=null==n?void 0:n.eventCount;e.__r3f&&(e.__r3f.memoizedProps=l);for(let t=0;t<o.length;t++){let[r,a,l,s]=o[t];if(S(e)){let e=3001,t="srgb",n="srgb-linear";"encoding"===r?(r="colorSpace",a=a===e?t:n):"outputEncoding"===r&&(r="outputColorSpace",a=a===e?t:n)}let c=e,f=c[r];if(s.length&&!((f=s.reduce((e,t)=>e[t],e))&&f.set)){let[t,...n]=s.reverse();c=n.reverse().reduce((e,t)=>e[t],e),r=t}if(a===A+"remove"){if(c.constructor){let e=U.get(c.constructor);e||(e=new c.constructor,U.set(c.constructor,e)),a=e[r]}else a=0}if(l&&n)a?n.handlers[r]=a:delete n.handlers[r],n.eventCount=Object.keys(n.handlers).length;else if(f&&f.set&&(f.copy||f instanceof u.Layers)){if(Array.isArray(a))f.fromArray?f.fromArray(a):f.set(...a);else if(f.copy&&a&&a.constructor&&($?f.constructor.name===a.constructor.name:f.constructor===a.constructor))f.copy(a);else if(void 0!==a){let e=f instanceof u.Color;!e&&f.setScalar?f.setScalar(a):f instanceof u.Layers&&a instanceof u.Layers?f.mask=a.mask:f.set(a),!E()&&i&&!i.linear&&e&&f.convertSRGBToLinear()}}else if(c[r]=a,c[r]instanceof u.Texture&&c[r].format===u.RGBAFormat&&c[r].type===u.UnsignedByteType&&i){let e=c[r];S(e)&&S(i.gl)?e.colorSpace=i.gl.outputColorSpace:e.encoding=i.gl.outputEncoding}Q(e)}if(n&&n.parent&&e.raycast&&s!==n.eventCount){let t=F(e).getState().internal,r=t.interaction.indexOf(e);r>-1&&t.interaction.splice(r,1),n.eventCount&&t.interaction.push(e)}return!(1===o.length&&"onUpdate"===o[0][0])&&o.length&&null!=(r=e.__r3f)&&r.parent&&X(e),e}function Q(e){var t,r;let n=null==(t=e.__r3f)?void 0:null==(r=t.root)?void 0:null==r.getState?void 0:r.getState();n&&0===n.internal.frames&&n.invalidate()}function X(e){null==e.onUpdate||e.onUpdate(e)}function Y(e,t){e.manual||(M(e)?(e.left=-(t.width/2),e.right=t.width/2,e.top=t.height/2,e.bottom=-(t.height/2)):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function Z(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function J(){var e;let t="undefined"!=typeof self&&self||"undefined"!=typeof window&&window;if(!t)return c.DefaultEventPriority;switch(null==(e=t.event)?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return c.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return c.ContinuousEventPriority;default:return c.DefaultEventPriority}}function K(e,t,r,n){let a=r.get(t);a&&(r.delete(t),0===r.size&&(e.delete(n),a.target.releasePointerCapture(n)))}function ee(e,t){let{internal:r}=e.getState();r.interaction=r.interaction.filter(e=>e!==t),r.initialHits=r.initialHits.filter(e=>e!==t),r.hovered.forEach((e,n)=>{(e.eventObject===t||e.object===t)&&r.hovered.delete(n)}),r.capturedMap.forEach((e,n)=>{K(r.capturedMap,t,e,n)})}function et(e){function t(t){let{internal:r}=e.getState(),n=t.offsetX-r.initialClick[0],a=t.offsetY-r.initialClick[1];return Math.round(Math.sqrt(n*n+a*a))}function r(e){return e.filter(e=>["Move","Over","Enter","Out","Leave"].some(t=>{var r;return null==(r=e.__r3f)?void 0:r.handlers["onPointer"+t]}))}function n(t,r){let n=e.getState(),a=new Set,i=[],l=r?r(n.internal.interaction):n.internal.interaction;for(let e=0;e<l.length;e++){let t=D(l[e]);t&&(t.raycaster.camera=void 0)}function o(e){let r=D(e);if(!r||!r.events.enabled||null===r.raycaster.camera)return[];if(void 0===r.raycaster.camera){var n;null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)}return r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]}n.previousRoot||null==n.events.compute||n.events.compute(t,n);let u=l.flatMap(o).sort((e,t)=>{let r=D(e.object),n=D(t.object);return r&&n&&n.events.priority-r.events.priority||e.distance-t.distance}).filter(e=>{let t=Z(e);return!a.has(t)&&(a.add(t),!0)});for(let e of(n.events.filter&&(u=n.events.filter(u,n)),u)){let t=e.object;for(;t;){var s;null!=(s=t.__r3f)&&s.eventCount&&i.push({...e,eventObject:t}),t=t.parent}}if("pointerId"in t&&n.internal.capturedMap.has(t.pointerId))for(let e of n.internal.capturedMap.get(t.pointerId).values())a.has(Z(e.intersection))||i.push(e.intersection);return i}function a(t,r,n,a){let l=e.getState();if(t.length){let e={stopped:!1};for(let o of t){let{raycaster:s,pointer:c,camera:f,internal:d}=D(o.object)||l,h=new u.Vector3(c.x,c.y,0).unproject(f),p=e=>{var t,r;return null!=(t=null==(r=d.capturedMap.get(e))?void 0:r.has(o.eventObject))&&t},v=e=>{let t={intersection:o,target:r.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(o.eventObject,t):d.capturedMap.set(e,new Map([[o.eventObject,t]])),r.target.setPointerCapture(e)},m=e=>{let t=d.capturedMap.get(e);t&&K(d.capturedMap,o.eventObject,t,e)},g={};for(let e in r){let t=r[e];"function"!=typeof t&&(g[e]=t)}let y={...o,...g,pointer:c,intersections:t,stopped:e.stopped,delta:n,unprojectedPoint:h,ray:s.ray,camera:f,stopPropagation(){let n="pointerId"in r&&d.capturedMap.get(r.pointerId);(!n||n.has(o.eventObject))&&(y.stopped=e.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find(e=>e.eventObject===o.eventObject)&&i([...t.slice(0,t.indexOf(o)),o]))},target:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:m},currentTarget:{hasPointerCapture:p,setPointerCapture:v,releasePointerCapture:m},nativeEvent:r};if(a(y),!0===e.stopped)break}}return t}function i(t){let{internal:r}=e.getState();for(let e of r.hovered.values())if(!t.length||!t.find(t=>t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId)){let n=e.eventObject.__r3f,a=null==n?void 0:n.handlers;if(r.hovered.delete(Z(e)),null!=n&&n.eventCount){let r={...e,intersections:t};null==a.onPointerOut||a.onPointerOut(r),null==a.onPointerLeave||a.onPointerLeave(r)}}}function l(e,t){for(let r=0;r<t.length;r++){let n=t[r].__r3f;null==n||null==n.handlers.onPointerMissed||n.handlers.onPointerMissed(e)}}return{handlePointer:function(o){switch(o){case"onPointerLeave":case"onPointerCancel":return()=>i([]);case"onLostPointerCapture":return t=>{let{internal:r}=e.getState();"pointerId"in t&&r.capturedMap.has(t.pointerId)&&requestAnimationFrame(()=>{r.capturedMap.has(t.pointerId)&&(r.capturedMap.delete(t.pointerId),i([]))})}}return function(u){let{onPointerMissed:s,internal:c}=e.getState();c.lastEvent.current=u;let f="onPointerMove"===o,d="onClick"===o||"onContextMenu"===o||"onDoubleClick"===o,h=n(u,f?r:void 0),p=d?t(u):0;function v(e){let t=e.eventObject,r=t.__r3f,n=null==r?void 0:r.handlers;if(null!=r&&r.eventCount){if(f){if(n.onPointerOver||n.onPointerEnter||n.onPointerOut||n.onPointerLeave){let t=Z(e),r=c.hovered.get(t);r?r.stopped&&e.stopPropagation():(c.hovered.set(t,e),null==n.onPointerOver||n.onPointerOver(e),null==n.onPointerEnter||n.onPointerEnter(e))}null==n.onPointerMove||n.onPointerMove(e)}else{let r=n[o];r?(!d||c.initialHits.includes(t))&&(l(u,c.interaction.filter(e=>!c.initialHits.includes(e))),r(e)):d&&c.initialHits.includes(t)&&l(u,c.interaction.filter(e=>!c.initialHits.includes(e)))}}}"onPointerDown"===o&&(c.initialClick=[u.offsetX,u.offsetY],c.initialHits=h.map(e=>e.eventObject)),d&&!h.length&&p<=2&&(l(u,c.interaction),s&&s(u)),f&&i(h),a(h,u,p,v)}}}}let er=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],en=e=>!!(null!=e&&e.render),ea=s.createContext(null),ei=(e,t)=>{let r=h((r,n)=>{let a;let i=new u.Vector3,l=new u.Vector3,o=new u.Vector3;function c(e=n().camera,t=l,r=n().size){let{width:a,height:s,top:c,left:f}=r,d=a/s;t instanceof u.Vector3?o.copy(t):o.set(...t);let h=e.getWorldPosition(i).distanceTo(o);if(M(e))return{width:a/e.zoom,height:s/e.zoom,top:c,left:f,factor:1,distance:h,aspect:d};{let t=2*Math.tan(e.fov*Math.PI/180/2)*h,r=a/s*t;return{width:r,height:t,top:c,left:f,factor:a/r,distance:h,aspect:d}}}let f=e=>r(t=>({performance:{...t.performance,current:e}})),d=new u.Vector2;return{set:r,get:n,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(t=1)=>e(n(),t),advance:(e,r)=>t(e,r,n()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new u.Clock,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{let e=n();a&&clearTimeout(a),e.performance.current!==e.performance.min&&f(e.performance.min),a=setTimeout(()=>f(n().performance.max),e.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:c},setEvents:e=>r(t=>({...t,events:{...t.events,...e}})),setSize:(e,t,a,i,o)=>{let u=n().camera,s={width:e,height:t,top:i||0,left:o||0,updateStyle:a};r(e=>({size:s,viewport:{...e.viewport,...c(u,l,s)}}))},setDpr:e=>r(t=>{let r=z(e);return{viewport:{...t.viewport,dpr:r,initialDpr:t.viewport.initialDpr||r}}}),setFrameloop:(e="always")=>{let t=n().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),r(()=>({frameloop:e}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:s.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(e,t,r)=>{let a=n().internal;return a.priority=a.priority+(t>0?1:0),a.subscribers.push({ref:e,priority:t,store:r}),a.subscribers=a.subscribers.sort((e,t)=>e.priority-t.priority),()=>{let r=n().internal;null!=r&&r.subscribers&&(r.priority=r.priority-(t>0?1:0),r.subscribers=r.subscribers.filter(t=>t.ref!==e))}}}}}),n=r.getState(),a=n.size,i=n.viewport.dpr,l=n.camera;return r.subscribe(()=>{let{camera:e,size:t,viewport:n,gl:o,set:u}=r.getState();if(t.width!==a.width||t.height!==a.height||n.dpr!==i){var s;a=t,i=n.dpr,Y(e,t),o.setPixelRatio(n.dpr);let r=null!=(s=t.updateStyle)?s:"undefined"!=typeof HTMLCanvasElement&&o.domElement instanceof HTMLCanvasElement;o.setSize(t.width,t.height,r)}e!==l&&(l=e,u(t=>({viewport:{...t.viewport,...t.viewport.getCurrentViewport(e)}})))}),r.subscribe(t=>e(t)),r},el=new Set,eo=new Set,eu=new Set;function es(e,t){if(e.size)for(let{callback:r}of e.values())r(t)}function ec(e,t){switch(e){case"before":return es(el,t);case"after":return es(eo,t);case"tail":return es(eu,t)}}function ef(e,t,r){let l=t.clock.getDelta();for("never"===t.frameloop&&"number"==typeof e&&(l=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),a=t.internal.subscribers,n=0;n<a.length;n++)(i=a[n]).ref.current(i.store.getState(),l,r);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function ed(e){let t,r,n,a=!1,i=!1;function l(o){for(let s of(r=requestAnimationFrame(l),a=!0,t=0,ec("before",o),i=!0,e.values())){var u;(n=s.store.getState()).internal.active&&("always"===n.frameloop||n.internal.frames>0)&&!(null!=(u=n.gl.xr)&&u.isPresenting)&&(t+=ef(o,n))}if(i=!1,ec("after",o),0===t)return ec("tail",o),a=!1,cancelAnimationFrame(r)}function o(t,r=1){var n;if(!t)return e.forEach(e=>o(e.store.getState(),r));null!=(n=t.gl.xr)&&n.isPresenting||!t.internal.active||"never"===t.frameloop||(r>1?t.internal.frames=Math.min(60,t.internal.frames+r):i?t.internal.frames=2:t.internal.frames=1,a||(a=!0,requestAnimationFrame(l)))}return{loop:l,invalidate:o,advance:function(t,r=!0,n,a){if(r&&ec("before",t),n)ef(t,n,a);else for(let r of e.values())ef(t,r.store.getState());r&&ec("after",t)}}}function eh(){let e=s.useContext(ea);if(!e)throw Error("R3F: Hooks can only be used within the Canvas component!");return e}function ep(e=e=>e,t){return eh()(e,t)}function ev(e,t=0){let r=eh(),n=r.getState().internal.subscribe,a=C(e);return T(()=>n(a,t,r),[t,n,r]),null}let em=new WeakMap;function eg(e,t){return function(r,...n){let a=em.get(r);return a||(a=new r,em.set(r,a)),e&&e(a),Promise.all(n.map(e=>new Promise((r,n)=>a.load(e,e=>{e.scene&&Object.assign(e,B(e.scene)),r(e)},t,t=>n(Error(`Could not load ${e}: ${null==t?void 0:t.message}`))))))}}function ey(e,t,r,n){let a=Array.isArray(t)?t:[t],i=(0,g.Rq)(eg(r,n),[e,...a],{equal:L.equ});return Array.isArray(t)?i:i[0]}ey.preload=function(e,t,r){let n=Array.isArray(t)?t:[t];return(0,g.MA)(eg(r),[e,...n])},ey.clear=function(e,t){let r=Array.isArray(t)?t:[t];return(0,g.ZH)([e,...r])};let eb=new Map,{invalidate:ew,advance:ex}=ed(eb),{reconciler:e_,applyProps:eS}=_(eb,J),eE={objects:"shallow",strict:!1},eM=(e,t)=>{let r="function"==typeof e?e(t):e;return en(r)?r:new u.WebGLRenderer({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...e})};function ek(e,t){let r="undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement;if(t){let{width:e,height:n,top:a,left:i,updateStyle:l=r}=t;return{width:e,height:n,top:a,left:i,updateStyle:l}}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement&&e.parentElement){let{width:t,height:n,top:a,left:i}=e.parentElement.getBoundingClientRect();return{width:t,height:n,top:a,left:i,updateStyle:r}}return"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?{width:e.width,height:e.height,top:0,left:0,updateStyle:r}:{width:0,height:0,top:0,left:0}}function eT(e){let t,r;let n=eb.get(e),a=null==n?void 0:n.fiber,i=null==n?void 0:n.store;n&&console.warn("R3F.createRoot should only be called once!");let l="function"==typeof reportError?reportError:console.error,o=i||ei(ew,ex),s=a||e_.createContainer(o,c.ConcurrentRoot,null,!1,null,"",l,null);n||eb.set(e,{fiber:s,store:o});let f=!1;return{configure(n={}){var a,i;let{gl:l,size:s,scene:c,events:d,onCreated:h,shadows:p=!1,linear:v=!1,flat:m=!1,legacy:g=!1,orthographic:y=!1,frameloop:b="always",dpr:w=[1,2],performance:x,raycaster:_,camera:S,onPointerMissed:M}=n,k=o.getState(),T=k.gl;k.gl||k.set({gl:T=eM(l,e)});let C=k.raycaster;C||k.set({raycaster:C=new u.Raycaster});let{params:R,...P}=_||{};if(L.equ(P,C,eE)||eS(C,{...P}),L.equ(R,C.params,eE)||eS(C,{params:{...C.params,...R}}),!k.camera||k.camera===r&&!L.equ(r,S,eE)){r=S;let e=S instanceof u.Camera,t=e?S:y?new u.OrthographicCamera(0,0,0,0,.1,1e3):new u.PerspectiveCamera(75,0,.1,1e3);e||(t.position.z=5,S&&(eS(t,S),("aspect"in S||"left"in S||"right"in S||"bottom"in S||"top"in S)&&(t.manual=!0,t.updateProjectionMatrix())),k.camera||null!=S&&S.rotation||t.lookAt(0,0,0)),k.set({camera:t}),C.camera=t}if(!k.scene){let e;c instanceof u.Scene?e=c:(e=new u.Scene,c&&eS(e,c)),k.set({scene:O(e)})}if(!k.xr){let e=(e,t)=>{let r=o.getState();"never"!==r.frameloop&&ex(e,!0,r,t)},t=()=>{let t=o.getState();t.gl.xr.enabled=t.gl.xr.isPresenting,t.gl.xr.setAnimationLoop(t.gl.xr.isPresenting?e:null),t.gl.xr.isPresenting||ew(t)},r={connect(){let e=o.getState().gl;e.xr.addEventListener("sessionstart",t),e.xr.addEventListener("sessionend",t)},disconnect(){let e=o.getState().gl;e.xr.removeEventListener("sessionstart",t),e.xr.removeEventListener("sessionend",t)}};"function"==typeof(null==(a=T.xr)?void 0:a.addEventListener)&&r.connect(),k.set({xr:r})}if(T.shadowMap){let e=T.shadowMap.enabled,t=T.shadowMap.type;if(T.shadowMap.enabled=!!p,L.boo(p))T.shadowMap.type=u.PCFSoftShadowMap;else if(L.str(p)){let e={basic:u.BasicShadowMap,percentage:u.PCFShadowMap,soft:u.PCFSoftShadowMap,variance:u.VSMShadowMap};T.shadowMap.type=null!=(i=e[p])?i:u.PCFSoftShadowMap}else L.obj(p)&&Object.assign(T.shadowMap,p);(e!==T.shadowMap.enabled||t!==T.shadowMap.type)&&(T.shadowMap.needsUpdate=!0)}let A=E();if(A&&("enabled"in A?A.enabled=!g:"legacyMode"in A&&(A.legacyMode=g)),!f){let e=3e3,t=3001;eS(T,{outputEncoding:v?e:t,toneMapping:m?u.NoToneMapping:u.ACESFilmicToneMapping})}k.legacy!==g&&k.set(()=>({legacy:g})),k.linear!==v&&k.set(()=>({linear:v})),k.flat!==m&&k.set(()=>({flat:m})),!l||L.fun(l)||en(l)||L.equ(l,T,eE)||eS(T,l),d&&!k.events.handlers&&k.set({events:d(o)});let U=ek(e,s);return L.equ(U,k.size,eE)||k.setSize(U.width,U.height,U.updateStyle,U.top,U.left),w&&k.viewport.dpr!==z(w)&&k.setDpr(w),k.frameloop!==b&&k.setFrameloop(b),k.onPointerMissed||k.set({onPointerMissed:M}),x&&!L.equ(x,k.performance,eE)&&k.set(e=>({performance:{...e.performance,...x}})),t=h,f=!0,this},render(r){return f||this.configure(),e_.updateContainer((0,y.jsx)(eC,{store:o,children:r,onCreated:t,rootElement:e}),s,null,()=>void 0),o},unmount(){eR(e)}}}function eC({store:e,children:t,onCreated:r,rootElement:n}){return T(()=>{let t=e.getState();t.set(e=>({internal:{...e.internal,active:!0}})),r&&r(t),e.getState().events.connected||null==t.events.connect||t.events.connect(n)},[]),(0,y.jsx)(ea.Provider,{value:e,children:t})}function eR(e,t){let r=eb.get(e),n=null==r?void 0:r.fiber;if(n){let a=null==r?void 0:r.store.getState();a&&(a.internal.active=!1),e_.updateContainer(null,n,null,()=>{a&&setTimeout(()=>{try{var r,n,i,l;null==a.events.disconnect||a.events.disconnect(),null==(r=a.gl)||null==(n=r.renderLists)||null==n.dispose||n.dispose(),null==(i=a.gl)||null==i.forceContextLoss||i.forceContextLoss(),null!=(l=a.gl)&&l.xr&&a.xr.disconnect(),N(a),eb.delete(e),t&&t(e)}catch(e){}},500)})}}function eP(e,t,r){return(0,y.jsx)(eA,{children:e,container:t,state:r},t.uuid)}function eA({state:e={},children:t,container:r}){let{events:n,size:a,...i}=e,l=eh(),[o]=s.useState(()=>new u.Raycaster),[c]=s.useState(()=>new u.Vector2),f=s.useCallback((e,t)=>{let s;let f={...e};if(Object.keys(e).forEach(r=>{(er.includes(r)||e[r]!==t[r]&&t[r])&&delete f[r]}),t&&a){let r=t.camera;s=e.viewport.getCurrentViewport(r,new u.Vector3,a),r!==e.camera&&Y(r,a)}return{...f,scene:r,raycaster:o,pointer:c,mouse:c,previousRoot:l,events:{...e.events,...null==t?void 0:t.events,...n},size:{...e.size,...a},viewport:{...e.viewport,...s},...i}},[e]),[d]=s.useState(()=>{let e=l.getState();return h((t,u)=>({...e,scene:r,raycaster:o,pointer:c,mouse:c,previousRoot:l,events:{...e.events,...n},size:{...e.size,...a},...i,set:t,get:u,setEvents:e=>t(t=>({...t,events:{...t.events,...e}}))}))});return s.useEffect(()=>{let e=l.subscribe(e=>d.setState(t=>f(e,t)));return()=>{e()}},[f]),s.useEffect(()=>{d.setState(e=>f(l.getState(),e))},[f]),s.useEffect(()=>()=>{d.destroy()},[]),(0,y.jsx)(y.Fragment,{children:e_.createPortal((0,y.jsx)(ea.Provider,{value:d,children:t}),d,null)})}e_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:s.version}),s.unstable_act},3149:function(e,t,r){"use strict";r.d(t,{Xz:function(){return L}});var n,a,i=r(6986),l=r(2265),o=r(7776),u=r(4692),s=r.n(u);function c(e){let{debounce:t,scroll:r,polyfill:n,offsetSize:a}=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,i=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!i)throw Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");let[o,u]=(0,l.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),c=(0,l.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),p=t?"number"==typeof t?t:t.scroll:null,m=t?"number"==typeof t?t:t.resize:null,g=(0,l.useRef)(!1);(0,l.useEffect)(()=>(g.current=!0,()=>void(g.current=!1)));let[y,b,w]=(0,l.useMemo)(()=>{let e=()=>{if(!c.current.element)return;let{left:e,top:t,width:r,height:n,bottom:i,right:l,x:o,y:s}=c.current.element.getBoundingClientRect(),f={left:e,top:t,width:r,height:n,bottom:i,right:l,x:o,y:s};c.current.element instanceof HTMLElement&&a&&(f.height=c.current.element.offsetHeight,f.width=c.current.element.offsetWidth),Object.freeze(f),g.current&&!v(c.current.lastBounds,f)&&u(c.current.lastBounds=f)};return[e,m?s()(e,m):e,p?s()(e,p):e]},[u,a,p,m]);function x(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(e=>e.removeEventListener("scroll",w,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null)}function _(){c.current.element&&(c.current.resizeObserver=new i(w),c.current.resizeObserver.observe(c.current.element),r&&c.current.scrollContainers&&c.current.scrollContainers.forEach(e=>e.addEventListener("scroll",w,{capture:!0,passive:!0})))}let S=e=>{e&&e!==c.current.element&&(x(),c.current.element=e,c.current.scrollContainers=h(e),_())};return d(w,!!r),f(b),(0,l.useEffect)(()=>{x(),_()},[r,w,b]),(0,l.useEffect)(()=>x,[]),[S,o,y]}function f(e){(0,l.useEffect)(()=>{let t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function d(e,t){(0,l.useEffect)(()=>{if(t){let t=e;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[e,t])}function h(e){let t=[];if(!e||e===document.body)return t;let{overflow:r,overflowX:n,overflowY:a}=window.getComputedStyle(e);return[r,n,a].some(e=>"auto"===e||"scroll"===e)&&t.push(e),[...t,...h(e.parentElement)]}let p=["x","y","top","bottom","left","right","width","height"],v=(e,t)=>p.every(r=>e[r]===t[r]);var m=Object.defineProperty,g=Object.defineProperties,y=Object.getOwnPropertyDescriptors,b=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,S=(e,t)=>{for(var r in t||(t={}))w.call(t,r)&&_(e,r,t[r]);if(b)for(var r of b(t))x.call(t,r)&&_(e,r,t[r]);return e},E=(e,t)=>g(e,y(t));function M(e,t,r){if(!e)return;if(!0===r(e))return e;let n=t?e.return:e.child;for(;n;){let e=M(n,t,r);if(e)return e;n=t?null:n.sibling}}function k(e){try{return Object.defineProperties(e,{_currentRenderer:{get:()=>null,set(){}},_currentRenderer2:{get:()=>null,set(){}}})}catch(t){return e}}"undefined"!=typeof window&&((null==(n=window.document)?void 0:n.createElement)||(null==(a=window.navigator)?void 0:a.product)==="ReactNative")?l.useLayoutEffect:l.useEffect;let T=console.error;console.error=function(){let e=[...arguments].join("");if((null==e?void 0:e.startsWith("Warning:"))&&e.includes("useContext")){console.error=T;return}return T.apply(this,arguments)};let C=k(l.createContext(null));class R extends l.Component{render(){return l.createElement(C.Provider,{value:this._reactInternals},this.props.children)}}function P(){let e=l.useContext(C);if(null===e)throw Error("its-fine: useFiber must be called within a <FiberProvider />!");let t=l.useId();return l.useMemo(()=>{for(let r of[e,null==e?void 0:e.alternate]){if(!r)continue;let e=M(r,!1,e=>{let r=e.memoizedState;for(;r;){if(r.memoizedState===t)return!0;r=r.next}});if(e)return e}},[e,t])}function A(){let e=P(),[t]=l.useState(()=>new Map);t.clear();let r=e;for(;r;){if(r.type&&"object"==typeof r.type){let e=void 0===r.type._context&&r.type.Provider===r.type?r.type:r.type._context;e&&e!==C&&!t.has(e)&&t.set(e,l.useContext(k(e)))}r=r.return}return t}function U(){let e=A();return l.useMemo(()=>Array.from(e.keys()).reduce((t,r)=>n=>l.createElement(t,null,l.createElement(r.Provider,E(S({},n),{value:e.get(r)}))),e=>l.createElement(R,S({},e))),[e])}var I=r(7437);r(2777),r(1543),r(8276);let z={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function D(e){let{handlePointer:t}=(0,i.c)(e);return{priority:1,enabled:!0,compute(e,t,r){t.pointer.set(e.offsetX/t.size.width*2-1,-(e.offsetY/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys(z).reduce((e,r)=>({...e,[r]:t(r)}),{}),update:()=>{var t;let{events:r,internal:n}=e.getState();null!=(t=n.lastEvent)&&t.current&&r.handlers&&r.handlers.onPointerMove(n.lastEvent.current)},connect:t=>{var r;let{set:n,events:a}=e.getState();null==a.disconnect||a.disconnect(),n(e=>({events:{...e.events,connected:t}})),Object.entries(null!=(r=a.handlers)?r:[]).forEach(([e,r])=>{let[n,a]=z[e];t.addEventListener(n,r,{passive:a})})},disconnect:()=>{let{set:t,events:r}=e.getState();if(r.connected){var n;Object.entries(null!=(n=r.handlers)?n:[]).forEach(([e,t])=>{if(r&&r.connected instanceof HTMLElement){let[n]=z[e];r.connected.removeEventListener(n,t)}}),t(e=>({events:{...e.events,connected:void 0}}))}}}}let F=l.forwardRef(function({children:e,fallback:t,resize:r,style:n,gl:a,events:u=D,eventSource:s,eventPrefix:f,shadows:d,linear:h,flat:p,legacy:v,orthographic:m,frameloop:g,dpr:y,performance:b,raycaster:w,camera:x,scene:_,onPointerMissed:S,onCreated:E,...M},k){l.useMemo(()=>(0,i.e)(o),[]);let T=U(),[C,R]=c({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=l.useRef(null),A=l.useRef(null);l.useImperativeHandle(k,()=>P.current);let z=(0,i.u)(S),[F,L]=l.useState(!1),[B,N]=l.useState(!1);if(F)throw F;if(B)throw B;let O=l.useRef(null);(0,i.a)(()=>{let t=P.current;R.width>0&&R.height>0&&t&&(O.current||(O.current=(0,i.b)(t)),O.current.configure({gl:a,events:u,shadows:d,linear:h,flat:p,legacy:v,orthographic:m,frameloop:g,dpr:y,performance:b,raycaster:w,camera:x,scene:_,size:R,onPointerMissed:(...e)=>null==z.current?void 0:z.current(...e),onCreated:e=>{null==e.events.connect||e.events.connect(s?(0,i.i)(s)?s.current:s:A.current),f&&e.setEvents({compute:(e,t)=>{let r=e[f+"X"],n=e[f+"Y"];t.pointer.set(r/t.size.width*2-1,-(n/t.size.height*2)+1),t.raycaster.setFromCamera(t.pointer,t.camera)}}),null==E||E(e)}}),O.current.render((0,I.jsx)(T,{children:(0,I.jsx)(i.E,{set:N,children:(0,I.jsx)(l.Suspense,{fallback:(0,I.jsx)(i.B,{set:L}),children:e})})})))}),l.useEffect(()=>{let e=P.current;if(e)return()=>(0,i.d)(e)},[]);let j=s?"none":"auto";return(0,I.jsx)("div",{ref:A,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...n},...M,children:(0,I.jsx)("div",{ref:C,style:{width:"100%",height:"100%"},children:(0,I.jsx)("canvas",{ref:P,style:{display:"block"},children:t})})})}),L=l.forwardRef(function(e,t){return(0,I.jsx)(R,{children:(0,I.jsx)(F,{...e,ref:t})})})},9540:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,a=e[n];if(0<i(a,t))e[n]=t,e[r]=a,r=n;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,a=e.length,l=a>>>1;n<l;){var o=2*(n+1)-1,u=e[o],s=o+1,c=e[s];if(0>i(u,r))s<a&&0>i(c,u)?(e[n]=c,e[s]=r,n=s):(e[n]=u,e[o]=r,n=o);else if(s<a&&0>i(c,r))e[n]=c,e[s]=r,n=s;else break}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l,o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],f=[],d=1,h=null,p=3,v=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=n(f);null!==t;){if(null===t.callback)a(f);else if(t.startTime<=e)a(f),t.sortIndex=t.expirationTime,r(c,t);else break;t=n(f)}}function _(e){if(g=!1,x(e),!m){if(null!==n(c))m=!0,I(S);else{var t=n(f);null!==t&&z(_,t.startTime-e)}}}function S(e,r){m=!1,g&&(g=!1,b(k),k=-1),v=!0;var i=p;try{for(x(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!R());){var l=h.callback;if("function"==typeof l){h.callback=null,p=h.priorityLevel;var o=l(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof o?h.callback=o:h===n(c)&&a(c),x(r)}else a(c);h=n(c)}if(null!==h)var u=!0;else{var s=n(f);null!==s&&z(_,s.startTime-r),u=!1}return u}finally{h=null,p=i,v=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E=!1,M=null,k=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function P(){if(null!==M){var e=t.unstable_now();C=e;var r=!0;try{r=M(!0,e)}finally{r?l():(E=!1,M=null)}}else E=!1}if("function"==typeof w)l=function(){w(P)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,U=A.port2;A.port1.onmessage=P,l=function(){U.postMessage(null)}}else l=function(){y(P,0)};function I(e){M=e,E||(E=!0,l())}function z(e,r){k=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||v||(m=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,i){var l=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=i+o,e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o,sortIndex:-1},i>l?(e.sortIndex=i,r(f,e),null===n(c)&&e===n(f)&&(g?(b(k),k=-1):g=!0,z(_,i-l))):(e.sortIndex=o,r(c,e),m||v||(m=!0,I(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},8276:function(e,t,r){"use strict";e.exports=r(9540)},4692:function(e){function t(e,t,r){function n(){var s=Date.now()-o;s<t&&s>=0?a=setTimeout(n,t-s):(a=null,r||(u=e.apply(l,i),l=i=null))}null==t&&(t=100);var a,i,l,o,u,s=function(){l=this,i=arguments,o=Date.now();var s=r&&!a;return a||(a=setTimeout(n,t)),s&&(u=e.apply(l,i),l=i=null),u};return s.clear=function(){a&&(clearTimeout(a),a=null)},s.flush=function(){a&&(u=e.apply(l,i),l=i=null,clearTimeout(a),a=null)},s}t.debounce=t,e.exports=t},2300:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,process=__webpack_require__(357);!function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_MD5_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var buffer8,COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[];if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(e){return"object"==typeof e&&e.buffer&&e.buffer.constructor===ArrayBuffer});var createOutputMethod=function(e){return function(t){return new Md5(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Md5},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];e[r]=createOutputMethod(r)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("md5").update(e,"utf8").digest("hex");if(null==e)throw ERROR;return e.constructor===ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||ArrayBuffer.isView(e)||e.constructor===Buffer?crypto.createHash("md5").update(new Buffer(e)).digest("hex"):method(e)};return nodeMethod};function Md5(e){if(e)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(e){if(!this.finalized){var t,r=typeof e;if("string"!==r){if("object"===r){if(null===e)throw ERROR;if(ARRAY_BUFFER&&e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(!Array.isArray(e)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(e)))throw ERROR}else throw ERROR;t=!0}for(var n,a,i=0,l=e.length,o=this.blocks,u=this.buffer8;i<l;){if(this.hashed&&(this.hashed=!1,o[0]=o[16],o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),t){if(ARRAY_BUFFER)for(a=this.start;i<l&&a<64;++i)u[a++]=e[i];else for(a=this.start;i<l&&a<64;++i)o[a>>2]|=e[i]<<SHIFT[3&a++]}else if(ARRAY_BUFFER)for(a=this.start;i<l&&a<64;++i)(n=e.charCodeAt(i))<128?u[a++]=n:(n<2048?u[a++]=192|n>>6:(n<55296||n>=57344?u[a++]=224|n>>12:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),u[a++]=240|n>>18,u[a++]=128|n>>12&63),u[a++]=128|n>>6&63),u[a++]=128|63&n);else for(a=this.start;i<l&&a<64;++i)(n=e.charCodeAt(i))<128?o[a>>2]|=n<<SHIFT[3&a++]:(n<2048?o[a>>2]|=(192|n>>6)<<SHIFT[3&a++]:(n<55296||n>=57344?o[a>>2]|=(224|n>>12)<<SHIFT[3&a++]:(n=65536+((1023&n)<<10|1023&e.charCodeAt(++i)),o[a>>2]|=(240|n>>18)<<SHIFT[3&a++],o[a>>2]|=(128|n>>12&63)<<SHIFT[3&a++]),o[a>>2]|=(128|n>>6&63)<<SHIFT[3&a++]),o[a>>2]|=(128|63&n)<<SHIFT[3&a++]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=64?(this.start=a-64,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=EXTRA[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,e[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var e,t,r,n,a,i,l=this.blocks;this.first?(r=((r=(-271733879^(n=((n=(-1732584194^2004318071&(e=((e=l[0]-680876937)<<7|e>>>25)-271733879<<0))+l[1]-117830708)<<12|n>>>20)+e<<0)&(-271733879^e))+l[2]-1126478375)<<17|r>>>15)+n<<0,t=((t=(e^r&(n^e))+l[3]-1316259209)<<22|t>>>10)+r<<0):(e=this.h0,t=this.h1,r=this.h2,e+=((n=this.h3)^t&(r^n))+l[0]-680876936,n+=(r^(e=(e<<7|e>>>25)+t<<0)&(t^r))+l[1]-389564586,r+=(t^(n=(n<<12|n>>>20)+e<<0)&(e^t))+l[2]+606105819,t+=(e^(r=(r<<17|r>>>15)+n<<0)&(n^e))+l[3]-1044525330,t=(t<<22|t>>>10)+r<<0),e+=(n^t&(r^n))+l[4]-176418897,n+=(r^(e=(e<<7|e>>>25)+t<<0)&(t^r))+l[5]+1200080426,r+=(t^(n=(n<<12|n>>>20)+e<<0)&(e^t))+l[6]-1473231341,t+=(e^(r=(r<<17|r>>>15)+n<<0)&(n^e))+l[7]-45705983,e+=(n^(t=(t<<22|t>>>10)+r<<0)&(r^n))+l[8]+1770035416,n+=(r^(e=(e<<7|e>>>25)+t<<0)&(t^r))+l[9]-1958414417,r+=(t^(n=(n<<12|n>>>20)+e<<0)&(e^t))+l[10]-42063,t+=(e^(r=(r<<17|r>>>15)+n<<0)&(n^e))+l[11]-1990404162,e+=(n^(t=(t<<22|t>>>10)+r<<0)&(r^n))+l[12]+1804603682,n+=(r^(e=(e<<7|e>>>25)+t<<0)&(t^r))+l[13]-40341101,r+=(t^(n=(n<<12|n>>>20)+e<<0)&(e^t))+l[14]-1502002290,t+=(e^(r=(r<<17|r>>>15)+n<<0)&(n^e))+l[15]+1236535329,t=(t<<22|t>>>10)+r<<0,e+=(r^n&(t^r))+l[1]-165796510,e=(e<<5|e>>>27)+t<<0,n+=(t^r&(e^t))+l[6]-1069501632,n=(n<<9|n>>>23)+e<<0,r+=(e^t&(n^e))+l[11]+643717713,r=(r<<14|r>>>18)+n<<0,t+=(n^e&(r^n))+l[0]-373897302,t=(t<<20|t>>>12)+r<<0,e+=(r^n&(t^r))+l[5]-701558691,e=(e<<5|e>>>27)+t<<0,n+=(t^r&(e^t))+l[10]+38016083,n=(n<<9|n>>>23)+e<<0,r+=(e^t&(n^e))+l[15]-660478335,r=(r<<14|r>>>18)+n<<0,t+=(n^e&(r^n))+l[4]-405537848,t=(t<<20|t>>>12)+r<<0,e+=(r^n&(t^r))+l[9]+568446438,e=(e<<5|e>>>27)+t<<0,n+=(t^r&(e^t))+l[14]-1019803690,n=(n<<9|n>>>23)+e<<0,r+=(e^t&(n^e))+l[3]-187363961,r=(r<<14|r>>>18)+n<<0,t+=(n^e&(r^n))+l[8]+1163531501,t=(t<<20|t>>>12)+r<<0,e+=(r^n&(t^r))+l[13]-1444681467,e=(e<<5|e>>>27)+t<<0,n+=(t^r&(e^t))+l[2]-51403784,n=(n<<9|n>>>23)+e<<0,r+=(e^t&(n^e))+l[7]+1735328473,r=(r<<14|r>>>18)+n<<0,t+=(n^e&(r^n))+l[12]-1926607734,e+=((a=(t=(t<<20|t>>>12)+r<<0)^r)^n)+l[5]-378558,n+=(a^(e=(e<<4|e>>>28)+t<<0))+l[8]-2022574463,r+=((i=(n=(n<<11|n>>>21)+e<<0)^e)^t)+l[11]+1839030562,t+=(i^(r=(r<<16|r>>>16)+n<<0))+l[14]-35309556,e+=((a=(t=(t<<23|t>>>9)+r<<0)^r)^n)+l[1]-1530992060,n+=(a^(e=(e<<4|e>>>28)+t<<0))+l[4]+1272893353,r+=((i=(n=(n<<11|n>>>21)+e<<0)^e)^t)+l[7]-155497632,t+=(i^(r=(r<<16|r>>>16)+n<<0))+l[10]-1094730640,e+=((a=(t=(t<<23|t>>>9)+r<<0)^r)^n)+l[13]+681279174,n+=(a^(e=(e<<4|e>>>28)+t<<0))+l[0]-358537222,r+=((i=(n=(n<<11|n>>>21)+e<<0)^e)^t)+l[3]-722521979,t+=(i^(r=(r<<16|r>>>16)+n<<0))+l[6]+76029189,e+=((a=(t=(t<<23|t>>>9)+r<<0)^r)^n)+l[9]-640364487,n+=(a^(e=(e<<4|e>>>28)+t<<0))+l[12]-421815835,r+=((i=(n=(n<<11|n>>>21)+e<<0)^e)^t)+l[15]+530742520,t+=(i^(r=(r<<16|r>>>16)+n<<0))+l[2]-995338651,t=(t<<23|t>>>9)+r<<0,e+=(r^(t|~n))+l[0]-198630844,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~r))+l[7]+1126891415,n=(n<<10|n>>>22)+e<<0,r+=(e^(n|~t))+l[14]-1416354905,r=(r<<15|r>>>17)+n<<0,t+=(n^(r|~e))+l[5]-57434055,t=(t<<21|t>>>11)+r<<0,e+=(r^(t|~n))+l[12]+1700485571,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~r))+l[3]-1894986606,n=(n<<10|n>>>22)+e<<0,r+=(e^(n|~t))+l[10]-1051523,r=(r<<15|r>>>17)+n<<0,t+=(n^(r|~e))+l[1]-2054922799,t=(t<<21|t>>>11)+r<<0,e+=(r^(t|~n))+l[8]+1873313359,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~r))+l[15]-30611744,n=(n<<10|n>>>22)+e<<0,r+=(e^(n|~t))+l[6]-1560198380,r=(r<<15|r>>>17)+n<<0,t+=(n^(r|~e))+l[13]+1309151649,t=(t<<21|t>>>11)+r<<0,e+=(r^(t|~n))+l[4]-145523070,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~r))+l[11]-1120210379,n=(n<<10|n>>>22)+e<<0,r+=(e^(n|~t))+l[2]+718787259,r=(r<<15|r>>>17)+n<<0,t+=(n^(r|~e))+l[9]-343485551,t=(t<<21|t>>>11)+r<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=r-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+r<<0,this.h3=this.h3+n<<0)},Md5.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&r,r>>8&255,r>>16&255,r>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var e,t,r,n="",a=this.array(),i=0;i<15;)e=a[i++],t=a[i++],r=a[i++],n+=BASE64_ENCODE_CHAR[e>>>2]+BASE64_ENCODE_CHAR[(e<<4|t>>>4)&63]+BASE64_ENCODE_CHAR[(t<<2|r>>>6)&63]+BASE64_ENCODE_CHAR[63&r];return n+(BASE64_ENCODE_CHAR[(e=a[i])>>>2]+BASE64_ENCODE_CHAR[e<<4&63]+"==")};var exports=createMethod();COMMON_JS?module.exports=exports:(root.md5=exports,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return exports}).call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},5795:function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,process=__webpack_require__(357);!function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=__webpack_require__.g);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(e){return function(t){return new Sha1(!0).update(t)[e]()}},createMethod=function(){var e=createOutputMethod("hex");NODE_JS&&(e=nodeWrap(e)),e.create=function(){return new Sha1},e.update=function(t){return e.create().update(t)};for(var t=0;t<OUTPUT_TYPES.length;++t){var r=OUTPUT_TYPES[t];e[r]=createOutputMethod(r)}return e},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(e){if("string"==typeof e)return crypto.createHash("sha1").update(e,"utf8").digest("hex");if(e.constructor===ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return method(e);return crypto.createHash("sha1").update(new Buffer(e)).digest("hex")};return nodeMethod};function Sha1(e){e?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===root.ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,a=0,i=e.length||0,l=this.blocks;a<i;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),t)for(n=this.start;a<i&&n<64;++a)l[n>>2]|=e[a]<<SHIFT[3&n++];else for(n=this.start;a<i&&n<64;++a)(r=e.charCodeAt(a))<128?l[n>>2]|=r<<SHIFT[3&n++]:(r<2048?l[n>>2]|=(192|r>>6)<<SHIFT[3&n++]:(r<55296||r>=57344?l[n>>2]|=(224|r>>12)<<SHIFT[3&n++]:(r=65536+((1023&r)<<10|1023&e.charCodeAt(++a)),l[n>>2]|=(240|r>>18)<<SHIFT[3&n++],l[n>>2]|=(128|r>>12&63)<<SHIFT[3&n++]),l[n>>2]|=(128|r>>6&63)<<SHIFT[3&n++]),l[n>>2]|=(128|63&r)<<SHIFT[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=l[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=EXTRA[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var e,t,r,n=this.h0,a=this.h1,i=this.h2,l=this.h3,o=this.h4,u=this.blocks;for(t=16;t<80;++t)r=u[t-3]^u[t-8]^u[t-14]^u[t-16],u[t]=r<<1|r>>>31;for(t=0;t<20;t+=5)e=a&i|~a&l,o=(r=n<<5|n>>>27)+e+o+1518500249+u[t]<<0,e=n&(a=a<<30|a>>>2)|~n&i,l=(r=o<<5|o>>>27)+e+l+1518500249+u[t+1]<<0,e=o&(n=n<<30|n>>>2)|~o&a,i=(r=l<<5|l>>>27)+e+i+1518500249+u[t+2]<<0,e=l&(o=o<<30|o>>>2)|~l&n,a=(r=i<<5|i>>>27)+e+a+1518500249+u[t+3]<<0,e=i&(l=l<<30|l>>>2)|~i&o,n=(r=a<<5|a>>>27)+e+n+1518500249+u[t+4]<<0,i=i<<30|i>>>2;for(;t<40;t+=5)e=a^i^l,o=(r=n<<5|n>>>27)+e+o+1859775393+u[t]<<0,e=n^(a=a<<30|a>>>2)^i,l=(r=o<<5|o>>>27)+e+l+1859775393+u[t+1]<<0,e=o^(n=n<<30|n>>>2)^a,i=(r=l<<5|l>>>27)+e+i+1859775393+u[t+2]<<0,e=l^(o=o<<30|o>>>2)^n,a=(r=i<<5|i>>>27)+e+a+1859775393+u[t+3]<<0,e=i^(l=l<<30|l>>>2)^o,n=(r=a<<5|a>>>27)+e+n+1859775393+u[t+4]<<0,i=i<<30|i>>>2;for(;t<60;t+=5)e=a&i|a&l|i&l,o=(r=n<<5|n>>>27)+e+o-1894007588+u[t]<<0,e=n&(a=a<<30|a>>>2)|n&i|a&i,l=(r=o<<5|o>>>27)+e+l-1894007588+u[t+1]<<0,e=o&(n=n<<30|n>>>2)|o&a|n&a,i=(r=l<<5|l>>>27)+e+i-1894007588+u[t+2]<<0,e=l&(o=o<<30|o>>>2)|l&n|o&n,a=(r=i<<5|i>>>27)+e+a-1894007588+u[t+3]<<0,e=i&(l=l<<30|l>>>2)|i&o|l&o,n=(r=a<<5|a>>>27)+e+n-1894007588+u[t+4]<<0,i=i<<30|i>>>2;for(;t<80;t+=5)e=a^i^l,o=(r=n<<5|n>>>27)+e+o-899497514+u[t]<<0,e=n^(a=a<<30|a>>>2)^i,l=(r=o<<5|o>>>27)+e+l-899497514+u[t+1]<<0,e=o^(n=n<<30|n>>>2)^a,i=(r=l<<5|l>>>27)+e+i-899497514+u[t+2]<<0,e=l^(o=o<<30|o>>>2)^n,a=(r=i<<5|i>>>27)+e+a-899497514+u[t+3]<<0,e=i^(l=l<<30|l>>>2)^o,n=(r=a<<5|a>>>27)+e+n-899497514+u[t+4]<<0,i=i<<30|i>>>2;this.h0=this.h0+n<<0,this.h1=this.h1+a<<0,this.h2=this.h2+i<<0,this.h3=this.h3+l<<0,this.h4=this.h4+o<<0},Sha1.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,a=this.h4;return HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[n>>28&15]+HEX_CHARS[n>>24&15]+HEX_CHARS[n>>20&15]+HEX_CHARS[n>>16&15]+HEX_CHARS[n>>12&15]+HEX_CHARS[n>>8&15]+HEX_CHARS[n>>4&15]+HEX_CHARS[15&n]+HEX_CHARS[a>>28&15]+HEX_CHARS[a>>24&15]+HEX_CHARS[a>>20&15]+HEX_CHARS[a>>16&15]+HEX_CHARS[a>>12&15]+HEX_CHARS[a>>8&15]+HEX_CHARS[a>>4&15]+HEX_CHARS[15&a]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,r=this.h2,n=this.h3,a=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n,a>>24&255,a>>16&255,a>>8&255,255&a]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=(function(){return exports}).call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}()},3857:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}r.d(t,{Ui:function(){return eH}});var l,o,u,s,c,f,d,h,p,v,m,g,y,b,w,x,_,S,E,M,k,T,C,R,P,A=r(7776);function U(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],i=t[2],l=t[3],o=t[4],u=t[5],s=t[6],c=t[7],f=t[8];return n*o*f+a*u*s+i*l*c-i*o*s-a*l*f-n*u*c}function I(e){if(Array.isArray(e))return e}function z(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var i=[],l=!0,o=!1;try{for(a=a.call(e);!(l=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);l=!0);}catch(e){o=!0,n=e}finally{try{l||null==a.return||a.return()}finally{if(o)throw n}}return i}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){if(e){if("string"==typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}}function L(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e,t){return I(e)||z(e,t)||F(e,t)||L()}function N(e){if(Array.isArray(e))return D(e)}function O(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function j(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e){return N(e)||O(e)||F(e)||j()}function W(e){var t=B(e[0],2),r=t[0],n=t[1],a=B(e[1],2),i=a[0],l=a[1],o=B(e[2],2);return U(r,n,1,i,l,1,o[0],o[1],1)}function V(e,t,r){return Math.max(t,Math.min(r,e))}function q(e,t){return V(e-Math.floor(e/t)*t,0,t)}function $(e,t){var r=q(t-e,2*Math.PI);return r>Math.PI&&(r-=2*Math.PI),r}function G(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}new A.Vector2,new A.Vector2;var Q=function e(t,r,a){var i=this;G(this,e),n(this,"dot2",function(e,t){return i.x*e+i.y*t}),n(this,"dot3",function(e,t,r){return i.x*e+i.y*t+i.z*r}),this.x=t,this.y=r,this.z=a},X=[new Q(1,1,0),new Q(-1,1,0),new Q(1,-1,0),new Q(-1,-1,0),new Q(1,0,1),new Q(-1,0,1),new Q(1,0,-1),new Q(-1,0,-1),new Q(0,1,1),new Q(0,-1,1),new Q(0,1,-1),new Q(0,-1,-1)],Y=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Z=Array(512),J=Array(512);function K(e){if("number"==typeof e)e=Math.abs(e);else if("string"==typeof e){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+t.charCodeAt(r)%96*(r+1))%2147483647}return 0===e&&(e=311),e}function ee(e){var t=K(e);return function(){var e=48271*t%2147483647;return t=e,e/2147483647}}!function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t,r=0;r<256;r++)t=1&r?Y[r]^255&e:Y[r]^e>>8&255,Z[r]=Z[r+256]=t,J[r]=J[r+256]=X[t%12]}(0),new function e(t){var r=this;G(this,e),n(this,"seed",0),n(this,"init",function(e){r.seed=e,r.value=ee(e)}),n(this,"value",ee(this.seed)),this.init(t)}(Math.random());var et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*n)/t)},er=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)},en=function(e){return e},ea={in:function(e){return 1-Math.cos(e*Math.PI/2)},out:function(e){return Math.sin(e*Math.PI/2)},inOut:function(e){return-(Math.cos(Math.PI*e)-1)/2}},ei={in:function(e){return e*e*e},out:function(e){return 1-Math.pow(1-e,3)},inOut:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2}},el={in:function(e){return e*e*e*e*e},out:function(e){return 1-Math.pow(1-e,5)},inOut:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2}},eo={in:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},out:function(e){return Math.sqrt(1-Math.pow(e-1,2))},inOut:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2}},eu={in:function(e){return e*e*e*e},out:function(e){return 1- --e*e*e*e},inOut:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e}},es={in:function(e){return 0===e?0:Math.pow(2,10*e-10)},out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},inOut:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}};function ec(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.25,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.01,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1/0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:er,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:.001,u="velocity_"+t;if(void 0===e.__damp&&(e.__damp={}),void 0===e.__damp[u]&&(e.__damp[u]=0),Math.abs(e[t]-r)<=o)return e[t]=r,!1;var s=2/(n=Math.max(1e-4,n)),c=l(s*a),f=e[t]-r,d=r,h=i*n;f=Math.min(Math.max(f,-h),h),r=e[t]-f;var p=(e.__damp[u]+s*f)*a;e.__damp[u]=(e.__damp[u]-s*p)*c;var v=r+(f+p)*c;return d-e[t]>0==v>d&&(v=d,e.__damp[u]=(v-d)/a),e[t]=v,!0}var ef=function(e){return e&&e.isCamera},ed=function(e){return e&&e.isLight},eh=new A.Vector3,ep=new A.Quaternion,ev=new A.Quaternion,em=new A.Matrix4,eg=new A.Vector3;function ey(e,t,r,n,a,i,l){"number"==typeof t?eh.setScalar(t):Array.isArray(t)?eh.set(t[0],t[1],t[2]):eh.copy(t);var o=e.parent;e.updateWorldMatrix(!0,!1),eg.setFromMatrixPosition(e.matrixWorld),ef(e)||ed(e)?em.lookAt(eg,eh,e.up):em.lookAt(eh,eg,e.up),ez(e.quaternion,ev.setFromRotationMatrix(em),r,n,a,i,l),o&&(em.extractRotation(o.matrixWorld),ep.setFromRotationMatrix(em),ez(e.quaternion,ev.copy(e.quaternion).premultiply(ep.invert()),r,n,a,i,l))}function eb(e,t,r,n,a,i,l,o){return ec(e,t,e[t]+$(e[t],r),n,a,i,l,o)}var ew=new A.Vector2;function ex(e,t,r,n,a,i,u){return"number"==typeof t?ew.setScalar(t):Array.isArray(t)?ew.set(t[0],t[1]):ew.copy(t),l=ec(e,"x",ew.x,r,n,a,i,u),o=ec(e,"y",ew.y,r,n,a,i,u),l||o}var e_=new A.Vector3;function eS(e,t,r,n,a,i,l){return"number"==typeof t?e_.setScalar(t):Array.isArray(t)?e_.set(t[0],t[1],t[2]):e_.copy(t),u=ec(e,"x",e_.x,r,n,a,i,l),s=ec(e,"y",e_.y,r,n,a,i,l),c=ec(e,"z",e_.z,r,n,a,i,l),u||s||c}var eE=new A.Vector4;function eM(e,t,r,n,a,i,l){return"number"==typeof t?eE.setScalar(t):Array.isArray(t)?eE.set(t[0],t[1],t[2],t[3]):eE.copy(t),f=ec(e,"x",eE.x,r,n,a,i,l),d=ec(e,"y",eE.y,r,n,a,i,l),h=ec(e,"z",eE.z,r,n,a,i,l),p=ec(e,"w",eE.w,r,n,a,i,l),f||d||h||p}var ek=new A.Euler;function eT(e,t,r,n,a,i,l){return Array.isArray(t)?ek.set(t[0],t[1],t[2],t[3]):ek.copy(t),v=eb(e,"x",ek.x,r,n,a,i,l),m=eb(e,"y",ek.y,r,n,a,i,l),g=eb(e,"z",ek.z,r,n,a,i,l),v||m||g}var eC=new A.Color;function eR(e,t,r,n,a,i,l){return t instanceof A.Color?eC.copy(t):Array.isArray(t)?eC.setRGB(t[0],t[1],t[2]):eC.set(t),y=ec(e,"r",eC.r,r,n,a,i,l),b=ec(e,"g",eC.g,r,n,a,i,l),w=ec(e,"b",eC.b,r,n,a,i,l),y||b||w}var eP=new A.Quaternion,eA=new A.Vector4,eU=new A.Vector4,eI=new A.Vector4;function ez(e,t,r,n,a,i,l){var o=e;Array.isArray(t)?eP.set(t[0],t[1],t[2],t[3]):eP.copy(t);var u=e.dot(eP)>0?1:-1;return eP.x*=u,eP.y*=u,eP.z*=u,eP.w*=u,x=ec(e,"x",eP.x,r,n,a,i,l),_=ec(e,"y",eP.y,r,n,a,i,l),S=ec(e,"z",eP.z,r,n,a,i,l),E=ec(e,"w",eP.w,r,n,a,i,l),eA.set(e.x,e.y,e.z,e.w).normalize(),eU.set(o.__damp.velocity_x,o.__damp.velocity_y,o.__damp.velocity_z,o.__damp.velocity_w),eI.copy(eA).multiplyScalar(eU.dot(eA)/eA.dot(eA)),o.__damp.velocity_x-=eI.x,o.__damp.velocity_y-=eI.y,o.__damp.velocity_z-=eI.z,o.__damp.velocity_w-=eI.w,e.set(eA.x,eA.y,eA.z,eA.w),x||_||S||E}var eD=new A.Spherical;function eF(e,t,r,n,a,i,l){return Array.isArray(t)?eD.set(t[0],t[1],t[2]):eD.copy(t),M=ec(e,"radius",eD.radius,r,n,a,i,l),k=eb(e,"phi",eD.phi,r,n,a,i,l),T=eb(e,"theta",eD.theta,r,n,a,i,l),M||k||T}var eL=new A.Matrix4,eB=new A.Vector3,eN=new A.Quaternion,eO=new A.Vector3;function ej(e,t,r,n,a,i,l){var o=e;return void 0===o.__damp&&(o.__damp={position:new A.Vector3,rotation:new A.Quaternion,scale:new A.Vector3},e.decompose(o.__damp.position,o.__damp.rotation,o.__damp.scale)),Array.isArray(t)?eL.set.apply(eL,H(t)):eL.copy(t),eL.decompose(eB,eN,eO),C=eS(o.__damp.position,eB,r,n,a,i,l),R=ez(o.__damp.rotation,eN,r,n,a,i,l),P=eS(o.__damp.scale,eO,r,n,a,i,l),e.compose(o.__damp.position,o.__damp.rotation,o.__damp.scale),C||R||P}var eH=Object.freeze({__proto__:null,rsqw:et,exp:er,linear:en,sine:ea,cubic:ei,quint:el,circ:eo,quart:eu,expo:es,damp:ec,dampLookAt:ey,dampAngle:eb,damp2:ex,damp3:eS,damp4:eM,dampE:eT,dampC:eR,dampQ:ez,dampS:eF,dampM:ej});function eW(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}A.BufferGeometry},357:function(e,t,r){"use strict";var n,a;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(a=r.g.process)?void 0:a.env)?r.g.process:r(8081)},8081:function(e){var t="/";!function(){var r={229:function(e){var t,r,n,a=e.exports={};function i(){throw Error("setTimeout has not been defined")}function l(){throw Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}function u(e){if(r===clearTimeout)return clearTimeout(e);if((r===l||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:l}catch(e){r=l}}();var s=[],c=!1,f=-1;function d(){c&&n&&(c=!1,n.length?s=n.concat(s):f=-1,s.length&&h())}function h(){if(!c){var e=o(d);c=!0;for(var t=s.length;t;){for(n=s,s=[];++f<t;)n&&n[f].run();f=-1,t=s.length}n=null,c=!1,u(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new p(e,t)),1!==s.length||c||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw Error("process.chdir is not supported")},a.umask=function(){return 0}}},n={};function a(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}},l=!0;try{r[e](i,i.exports,a),l=!1}finally{l&&delete n[e]}return i.exports}a.ab=t+"/";var i=a(229);e.exports=i}()},4008:function(e,t){"use strict";/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},4185:function(e,t,r){/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */e.exports=function(e){var t,n,a,i,l,o={};"use strict";var u=r(2265),s=r(3932),c=Object.assign;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d=u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h=Symbol.for("react.element"),p=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var k=Symbol.iterator;function T(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=k&&e[k]||e["@@iterator"])?e:null}function C(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case v:return"Fragment";case p:return"Portal";case g:return"Profiler";case m:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case b:return(e.displayName||"Context")+".Consumer";case y:return(e._context.displayName||"Context")+".Provider";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:C(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return C(e(t))}catch(e){}}return null}function R(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C(t);case 8:return t===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function P(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(r=t.return),e=t.return;while(e)}return 3===t.tag?r:null}function A(e){if(P(e)!==e)throw Error(f(188))}function U(e){var t=e.alternate;if(!t){if(null===(t=P(e)))throw Error(f(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(n=a.return)){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return A(a),e;if(i===n)return A(a),t;i=i.sibling}throw Error(f(188))}if(r.return!==n.return)r=a,n=i;else{for(var l=!1,o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l)throw Error(f(189))}}if(r.alternate!==n)throw Error(f(190))}if(3!==r.tag)throw Error(f(188));return r.stateNode.current===r?e:t}function I(e){return null!==(e=U(e))?z(e):null}function z(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=z(e);if(null!==t)return t;e=e.sibling}return null}function D(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=D(e);if(null!==t)return t}e=e.sibling}return null}var F,L=Array.isArray,B=e.getPublicInstance,N=e.getRootHostContext,O=e.getChildHostContext,j=e.prepareForCommit,H=e.resetAfterCommit,W=e.createInstance,V=e.appendInitialChild,q=e.finalizeInitialChildren,$=e.prepareUpdate,G=e.shouldSetTextContent,Q=e.createTextInstance,X=e.scheduleTimeout,Y=e.cancelTimeout,Z=e.noTimeout,J=e.isPrimaryRenderer,K=e.supportsMutation,ee=e.supportsPersistence,et=e.supportsHydration,er=e.getInstanceFromNode,en=e.preparePortalMount,ea=e.getCurrentEventPriority,ei=e.detachDeletedInstance,el=e.supportsMicrotasks,eo=e.scheduleMicrotask,eu=e.supportsTestSelectors,es=e.findFiberRoot,ec=e.getBoundingRect,ef=e.getTextContent,ed=e.isHiddenSubtree,eh=e.matchAccessibilityRole,ep=e.setFocusIfFocusable,ev=e.setupIntersectionObserver,em=e.appendChild,eg=e.appendChildToContainer,ey=e.commitTextUpdate,eb=e.commitMount,ew=e.commitUpdate,ex=e.insertBefore,e_=e.insertInContainerBefore,eS=e.removeChild,eE=e.removeChildFromContainer,eM=e.resetTextContent,ek=e.hideInstance,eT=e.hideTextInstance,eC=e.unhideInstance,eR=e.unhideTextInstance,eP=e.clearContainer,eA=e.cloneInstance,eU=e.createContainerChildSet,eI=e.appendChildToContainerChildSet,ez=e.finalizeContainerChildren,eD=e.replaceContainerChildren,eF=e.cloneHiddenInstance,eL=e.cloneHiddenTextInstance,eB=e.canHydrateInstance,eN=e.canHydrateTextInstance,eO=e.canHydrateSuspenseInstance,ej=e.isSuspenseInstancePending,eH=e.isSuspenseInstanceFallback,eW=e.registerSuspenseInstanceRetry,eV=e.getNextHydratableSibling,eq=e.getFirstHydratableChild,e$=e.getFirstHydratableChildWithinContainer,eG=e.getFirstHydratableChildWithinSuspenseInstance,eQ=e.hydrateInstance,eX=e.hydrateTextInstance,eY=e.hydrateSuspenseInstance,eZ=e.getNextHydratableInstanceAfterSuspenseInstance,eJ=e.commitHydratedContainer,eK=e.commitHydratedSuspenseInstance,e1=e.clearSuspenseBoundary,e0=e.clearSuspenseBoundaryFromContainer,e2=e.shouldDeleteUnhydratedTailInstances,e3=e.didNotMatchHydratedContainerTextInstance,e5=e.didNotMatchHydratedTextInstance;function e4(e){if(void 0===F)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var e6=!1;function e8(e,t){if(!e||e6)return"";e6=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var n=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){n=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),i=n.stack.split("\n"),l=a.length-1,o=i.length-1;1<=l&&0<=o&&a[l]!==i[o];)o--;for(;1<=l&&0<=o;l--,o--)if(a[l]!==i[o]){if(1!==l||1!==o)do if(l--,0>--o||a[l]!==i[o]){var u="\n"+a[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{e6=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?e4(e):""}var e7=Object.prototype.hasOwnProperty,e9=[],te=-1;function tt(e){return{current:e}}function tr(e){0>te||(e.current=e9[te],e9[te]=null,te--)}function tn(e,t){e9[++te]=e.current,e.current=t}var ta={},ti=tt(ta),tl=tt(!1),to=ta;function tu(e,t){var r=e.type.contextTypes;if(!r)return ta;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in r)i[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ts(e){return null!=(e=e.childContextTypes)}function tc(){tr(tl),tr(ti)}function tf(e,t,r){if(ti.current!==ta)throw Error(f(168));tn(ti,t),tn(tl,r)}function td(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(f(108,R(e)||"Unknown",a));return c({},r,n)}function th(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ta,to=ti.current,tn(ti,e),tn(tl,tl.current),!0}function tp(e,t,r){var n=e.stateNode;if(!n)throw Error(f(169));r?(e=td(e,t,to),n.__reactInternalMemoizedMergedChildContext=e,tr(tl),tr(ti),tn(ti,e)):tr(tl),tn(tl,r)}var tv=Math.clz32?Math.clz32:ty,tm=Math.log,tg=Math.LN2;function ty(e){return 0==(e>>>=0)?32:31-(tm(e)/tg|0)|0}var tb=64,tw=4194304;function tx(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function t_(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,l=268435455&r;if(0!==l){var o=l&~a;0!==o?n=tx(o):0!=(i&=l)&&(n=tx(i))}else 0!=(l=r&~a)?n=tx(l):0!==i&&(n=tx(i));if(0===n)return 0;if(0!==t&&t!==n&&0==(t&a)&&((a=n&-n)>=(i=t&-t)||16===a&&0!=(4194240&i)))return t;if(0!=(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-tv(t)),n|=e[r],t&=~a;return n}function tS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}function tE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-tv(i),o=1<<l,u=a[l];-1===u?(0==(o&r)||0!=(o&n))&&(a[l]=tS(o,t)):u<=t&&(e.expiredLanes|=o),i&=~o}}function tM(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function tk(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tT(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tv(t)]=r}function tC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-tv(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function tR(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tv(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var tP=0;function tA(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tU=s.unstable_scheduleCallback,tI=s.unstable_cancelCallback,tz=s.unstable_shouldYield,tD=s.unstable_requestPaint,tF=s.unstable_now,tL=s.unstable_ImmediatePriority,tB=s.unstable_UserBlockingPriority,tN=s.unstable_NormalPriority,tO=s.unstable_IdlePriority,tj=null,tH=null;function tW(e){if(tH&&"function"==typeof tH.onCommitFiberRoot)try{tH.onCommitFiberRoot(tj,e,void 0,128==(128&e.current.flags))}catch(e){}}function tV(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var tq="function"==typeof Object.is?Object.is:tV,t$=null,tG=!1,tQ=!1;function tX(e){null===t$?t$=[e]:t$.push(e)}function tY(e){tG=!0,tX(e)}function tZ(){if(!tQ&&null!==t$){tQ=!0;var e=0,t=tP;try{var r=t$;for(tP=1;e<r.length;e++){var n=r[e];do n=n(!0);while(null!==n)}t$=null,tG=!1}catch(t){throw null!==t$&&(t$=t$.slice(e+1)),tU(tL,tZ),t}finally{tP=t,tQ=!1}}return null}var tJ=d.ReactCurrentBatchConfig;function tK(e,t){if(tq(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!e7.call(t,a)||!tq(e[a],t[a]))return!1}return!0}function t1(e){switch(e.tag){case 5:return e4(e.type);case 16:return e4("Lazy");case 13:return e4("Suspense");case 19:return e4("SuspenseList");case 0:case 2:case 15:return e=e8(e.type,!1);case 11:return e=e8(e.type.render,!1);case 1:return e=e8(e.type,!0);default:return""}}function t0(e,t){if(e&&e.defaultProps)for(var r in t=c({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var t2=tt(null),t3=null,t5=null,t4=null;function t6(){t4=t5=t3=null}function t8(e,t,r){J?(tn(t2,t._currentValue),t._currentValue=r):(tn(t2,t._currentValue2),t._currentValue2=r)}function t7(e){var t=t2.current;tr(t2),J?e._currentValue=t:e._currentValue2=t}function t9(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function re(e,t){t3=e,t4=t5=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ar=!0),e.firstContext=null)}function rt(e){var t=J?e._currentValue:e._currentValue2;if(t4!==e){if(e={context:e,memoizedValue:t,next:null},null===t5){if(null===t3)throw Error(f(308));t5=e,t3.dependencies={lanes:0,firstContext:e}}else t5=t5.next=e}return t}var rr=null,rn=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ri(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function rl(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ro(e,t){var r=e.updateQueue;null!==r&&(r=r.shared,null!==iu&&0!=(1&e.mode)&&0==(2&io)?(null===(e=r.interleaved)?(t.next=t,null===rr?rr=[r]:rr.push(r)):(t.next=e.next,e.next=t),r.interleaved=t):(null===(e=r.pending)?t.next=t:(t.next=e.next,e.next=t),r.pending=t))}function ru(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&r))){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tR(e,r)}}function rs(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,i=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===i?a=i=l:i=i.next=l,r=r.next}while(null!==r);null===i?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rc(e,t,r,n){var a=e.updateQueue;rn=!1;var i=a.firstBaseUpdate,l=a.lastBaseUpdate,o=a.shared.pending;if(null!==o){a.shared.pending=null;var u=o,s=u.next;u.next=null,null===l?i=s:l.next=s,l=u;var f=e.alternate;null!==f&&(o=(f=f.updateQueue).lastBaseUpdate)!==l&&(null===o?f.firstBaseUpdate=s:o.next=s,f.lastBaseUpdate=u)}if(null!==i){var d=a.baseState;for(l=0,f=s=u=null,o=i;;){var h=o.lane,p=o.eventTime;if((n&h)===h){null!==f&&(f=f.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,m=o;switch(h=t,p=r,m.tag){case 1:if("function"==typeof(v=m.payload)){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null==(h="function"==typeof(v=m.payload)?v.call(p,d,h):v))break e;d=c({},d,h);break e;case 2:rn=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(s=f=p,u=d):f=f.next=p,l|=h;if(null===(o=o.next)){if(null===(o=a.shared.pending))break;o=(h=o).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===f&&(u=d),a.baseState=u,a.firstBaseUpdate=s,a.lastBaseUpdate=f,null!==(t=a.shared.interleaved)){a=t;do l|=a.lane,a=a.next;while(a!==t)}else null===i&&(a.shared.lanes=0);im|=l,e.lanes=l,e.memoizedState=d}}function rf(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!=typeof a)throw Error(f(191,a));a.call(n)}}}var rd=(new u.Component).refs;function rh(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:c({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var rp={isMounted:function(e){return!!(e=e._reactInternals)&&P(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=iz(),a=iD(e),i=rl(n,a);i.payload=t,null!=r&&(i.callback=r),ro(e,i),null!==(t=iF(e,a,n))&&ru(t,e,a)},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=iz(),a=iD(e),i=rl(n,a);i.tag=1,i.payload=t,null!=r&&(i.callback=r),ro(e,i),null!==(t=iF(e,a,n))&&ru(t,e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=iz(),n=iD(e),a=rl(r,n);a.tag=2,null!=t&&(a.callback=t),ro(e,a),null!==(t=iF(e,n,r))&&ru(t,e,n)}};function rv(e,t,r,n,a,i,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,i,l):!t.prototype||!t.prototype.isPureReactComponent||!tK(r,n)||!tK(a,i)}function rm(e,t,r){var n=!1,a=ta,i=t.contextType;return"object"==typeof i&&null!==i?i=rt(i):(a=ts(t)?to:ti.current,i=(n=null!=(n=t.contextTypes))?tu(e,a):ta),t=new t(r,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rp,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function rg(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rp.enqueueReplaceState(t,t.state,null)}function ry(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs=rd,ra(e);var i=t.contextType;"object"==typeof i&&null!==i?a.context=rt(i):(i=ts(t)?to:ti.current,a.context=tu(e,i)),a.state=e.memoizedState,"function"==typeof(i=t.getDerivedStateFromProps)&&(rh(e,t,i,r),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&rp.enqueueReplaceState(a,a.state,null),rc(e,r,a,n),a.state=e.memoizedState),"function"==typeof a.componentDidMount&&(e.flags|=4194308)}var rb=[],rw=0,rx=null,r_=0,rS=[],rE=0,rM=null,rk=1,rT="";function rC(e,t){rb[rw++]=r_,rb[rw++]=rx,rx=e,r_=t}function rR(e,t,r){rS[rE++]=rk,rS[rE++]=rT,rS[rE++]=rM,rM=e;var n=rk;e=rT;var a=32-tv(n)-1;n&=~(1<<a),r+=1;var i=32-tv(t)+a;if(30<i){var l=a-a%5;i=(n&(1<<l)-1).toString(32),n>>=l,a-=l,rk=1<<32-tv(t)+a|r<<a|n,rT=i+e}else rk=1<<i|r<<a|n,rT=e}function rP(e){null!==e.return&&(rC(e,1),rR(e,1,0))}function rA(e){for(;e===rx;)rx=rb[--rw],rb[rw]=null,r_=rb[--rw],rb[rw]=null;for(;e===rM;)rM=rS[--rE],rS[rE]=null,rT=rS[--rE],rS[rE]=null,rk=rS[--rE],rS[rE]=null}var rU=null,rI=null,rz=!1,rD=!1,rF=null;function rL(e,t){var r=ln(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function rB(e,t){switch(e.tag){case 5:return null!==(t=eB(t,e.type,e.pendingProps))&&(e.stateNode=t,rU=e,rI=eq(t),!0);case 6:return null!==(t=eN(t,e.pendingProps))&&(e.stateNode=t,rU=e,rI=null,!0);case 13:if(null!==(t=eO(t))){var r=null!==rM?{id:rk,overflow:rT}:null;return e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=ln(18,null,null,0)).stateNode=t,r.return=e,e.child=r,rU=e,rI=null,!0}return!1;default:return!1}}function rN(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function rO(e){if(rz){var t=rI;if(t){var r=t;if(!rB(e,t)){if(rN(e))throw Error(f(418));t=eV(r);var n=rU;t&&rB(e,t)?rL(n,r):(e.flags=-4097&e.flags|2,rz=!1,rU=e)}}else{if(rN(e))throw Error(f(418));e.flags=-4097&e.flags|2,rz=!1,rU=e}}}function rj(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rU=e}function rH(e){if(!et||e!==rU)return!1;if(!rz)return rj(e),rz=!0,!1;if(3!==e.tag&&(5!==e.tag||e2(e.type)&&!G(e.type,e.memoizedProps))){var t=rI;if(t){if(rN(e)){for(e=rI;e;)e=eV(e);throw Error(f(418))}for(;t;)rL(e,t),t=eV(t)}}if(rj(e),13===e.tag){if(!et)throw Error(f(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(f(317));rI=eZ(e)}else rI=rU?eV(e.stateNode):null;return!0}function rW(){et&&(rI=rU=null,rD=rz=!1)}function rV(e){null===rF?rF=[e]:rF.push(e)}function rq(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(f(309));var n=r.stateNode}if(!n)throw Error(f(147,e));var a=n,i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=a.refs;t===rd&&(t=a.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(f(284));if(!r._owner)throw Error(f(290,e))}return e}function r$(e,t){throw Error(f(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rG(e){return(0,e._init)(e._payload)}function rQ(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=ll(e,t)).index=0,e.sibling=null,e}function i(t,r,n){return(t.index=n,e)?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,r,n){return null===t||6!==t.tag?(t=lc(r,e.mode,n)).return=e:(t=a(t,r)).return=e,t}function u(e,t,r,n){var i=r.type;return i===v?c(e,t,r.props.children,n,r.key):(null!==t&&(t.elementType===i||"object"==typeof i&&null!==i&&i.$$typeof===E&&rG(i)===t.type)?(n=a(t,r.props)).ref=rq(e,t,r):(n=lo(r.type,r.key,r.props,null,e.mode,n)).ref=rq(e,t,r),n.return=e,n)}function s(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?(t=lf(r,e.mode,n)).return=e:(t=a(t,r.children||[])).return=e,t}function c(e,t,r,n,i){return null===t||7!==t.tag?(t=lu(r,e.mode,n,i)).return=e:(t=a(t,r)).return=e,t}function d(e,t,r){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lc(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case h:return(r=lo(t.type,t.key,t.props,null,e.mode,r)).ref=rq(e,null,t),r.return=e,r;case p:return(t=lf(t,e.mode,r)).return=e,t;case E:return d(e,(0,t._init)(t._payload),r)}if(L(t)||T(t))return(t=lu(t,e.mode,r,null)).return=e,t;r$(e,t)}return null}function m(e,t,r,n){var a=null!==t?t.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==a?null:o(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case h:return r.key===a?u(e,t,r,n):null;case p:return r.key===a?s(e,t,r,n):null;case E:return m(e,t,(a=r._init)(r._payload),n)}if(L(r)||T(r))return null!==a?null:c(e,t,r,n,null);r$(e,r)}return null}function g(e,t,r,n,a){if("string"==typeof n&&""!==n||"number"==typeof n)return o(t,e=e.get(r)||null,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case h:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case p:return s(t,e=e.get(null===n.key?r:n.key)||null,n,a);case E:return g(e,t,r,(0,n._init)(n._payload),a)}if(L(n)||T(n))return c(t,e=e.get(r)||null,n,a,null);r$(t,n)}return null}function y(a,l,o,u){for(var s=null,c=null,f=l,h=l=0,p=null;null!==f&&h<o.length;h++){f.index>h?(p=f,f=null):p=f.sibling;var v=m(a,f,o[h],u);if(null===v){null===f&&(f=p);break}e&&f&&null===v.alternate&&t(a,f),l=i(v,l,h),null===c?s=v:c.sibling=v,c=v,f=p}if(h===o.length)return r(a,f),rz&&rC(a,h),s;if(null===f){for(;h<o.length;h++)null!==(f=d(a,o[h],u))&&(l=i(f,l,h),null===c?s=f:c.sibling=f,c=f);return rz&&rC(a,h),s}for(f=n(a,f);h<o.length;h++)null!==(p=g(f,a,h,o[h],u))&&(e&&null!==p.alternate&&f.delete(null===p.key?h:p.key),l=i(p,l,h),null===c?s=p:c.sibling=p,c=p);return e&&f.forEach(function(e){return t(a,e)}),rz&&rC(a,h),s}function b(a,l,o,u){var s=T(o);if("function"!=typeof s)throw Error(f(150));if(null==(o=s.call(o)))throw Error(f(151));for(var c=s=null,h=l,p=l=0,v=null,y=o.next();null!==h&&!y.done;p++,y=o.next()){h.index>p?(v=h,h=null):v=h.sibling;var b=m(a,h,y.value,u);if(null===b){null===h&&(h=v);break}e&&h&&null===b.alternate&&t(a,h),l=i(b,l,p),null===c?s=b:c.sibling=b,c=b,h=v}if(y.done)return r(a,h),rz&&rC(a,p),s;if(null===h){for(;!y.done;p++,y=o.next())null!==(y=d(a,y.value,u))&&(l=i(y,l,p),null===c?s=y:c.sibling=y,c=y);return rz&&rC(a,p),s}for(h=n(a,h);!y.done;p++,y=o.next())null!==(y=g(h,a,p,y.value,u))&&(e&&null!==y.alternate&&h.delete(null===y.key?p:y.key),l=i(y,l,p),null===c?s=y:c.sibling=y,c=y);return e&&h.forEach(function(e){return t(a,e)}),rz&&rC(a,p),s}function w(e,n,i,o){if("object"==typeof i&&null!==i&&i.type===v&&null===i.key&&(i=i.props.children),"object"==typeof i&&null!==i){switch(i.$$typeof){case h:e:{for(var u=i.key,s=n;null!==s;){if(s.key===u){if((u=i.type)===v){if(7===s.tag){r(e,s.sibling),(n=a(s,i.props.children)).return=e,e=n;break e}}else if(s.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===E&&rG(u)===s.type){r(e,s.sibling),(n=a(s,i.props)).ref=rq(e,s,i),n.return=e,e=n;break e}r(e,s);break}t(e,s),s=s.sibling}i.type===v?((n=lu(i.props.children,e.mode,o,i.key)).return=e,e=n):((o=lo(i.type,i.key,i.props,null,e.mode,o)).ref=rq(e,n,i),o.return=e,e=o)}return l(e);case p:e:{for(s=i.key;null!==n;){if(n.key===s){if(4===n.tag&&n.stateNode.containerInfo===i.containerInfo&&n.stateNode.implementation===i.implementation){r(e,n.sibling),(n=a(n,i.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=lf(i,e.mode,o)).return=e,e=n}return l(e);case E:return w(e,n,(s=i._init)(i._payload),o)}if(L(i))return y(e,n,i,o);if(T(i))return b(e,n,i,o);r$(e,i)}return"string"==typeof i&&""!==i||"number"==typeof i?(i=""+i,null!==n&&6===n.tag?(r(e,n.sibling),(n=a(n,i)).return=e):(r(e,n),(n=lc(i,e.mode,o)).return=e),l(e=n)):r(e,n)}return w}var rX=rQ(!0),rY=rQ(!1),rZ={},rJ=tt(rZ),rK=tt(rZ),r1=tt(rZ);function r0(e){if(e===rZ)throw Error(f(174));return e}function r2(e,t){tn(r1,t),tn(rK,e),tn(rJ,rZ),e=N(t),tr(rJ),tn(rJ,e)}function r3(){tr(rJ),tr(rK),tr(r1)}function r5(e){var t=r0(r1.current),r=r0(rJ.current);t=O(r,e.type,t),r!==t&&(tn(rK,e),tn(rJ,t))}function r4(e){rK.current===e&&(tr(rJ),tr(rK))}var r6=tt(0);function r8(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||ej(r)||eH(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var r7=[];function r9(){for(var e=0;e<r7.length;e++){var t=r7[e];J?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}r7.length=0}var ne=d.ReactCurrentDispatcher,nt=d.ReactCurrentBatchConfig,nr=0,nn=null,na=null,ni=null,nl=!1,no=!1,nu=0,ns=0;function nc(){throw Error(f(321))}function nf(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tq(e[r],t[r]))return!1;return!0}function nd(e,t,r,n,a,i){if(nr=i,nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ne.current=null===e||null===e.memoizedState?nQ:nX,e=r(n,a),no){i=0;do{if(no=!1,nu=0,25<=i)throw Error(f(301));i+=1,ni=na=null,t.updateQueue=null,ne.current=nY,e=r(n,a)}while(no)}if(ne.current=nG,t=null!==na&&null!==na.next,nr=0,ni=na=nn=null,nl=!1,t)throw Error(f(300));return e}function nh(){var e=0!==nu;return nu=0,e}function np(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ni?nn.memoizedState=ni=e:ni=ni.next=e,ni}function nv(){if(null===na){var e=nn.alternate;e=null!==e?e.memoizedState:null}else e=na.next;var t=null===ni?nn.memoizedState:ni.next;if(null!==t)ni=t,na=e;else{if(null===e)throw Error(f(310));e={memoizedState:(na=e).memoizedState,baseState:na.baseState,baseQueue:na.baseQueue,queue:na.queue,next:null},null===ni?nn.memoizedState=ni=e:ni=ni.next=e}return ni}function nm(e,t){return"function"==typeof t?t(e):t}function ng(e){var t=nv(),r=t.queue;if(null===r)throw Error(f(311));r.lastRenderedReducer=e;var n=na,a=n.baseQueue,i=r.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}n.baseQueue=a=i,r.pending=null}if(null!==a){i=a.next,n=n.baseState;var o=l=null,u=null,s=i;do{var c=s.lane;if((nr&c)===c)null!==u&&(u=u.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),n=s.hasEagerState?s.eagerState:e(n,s.action);else{var d={lane:c,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};null===u?(o=u=d,l=n):u=u.next=d,nn.lanes|=c,im|=c}s=s.next}while(null!==s&&s!==i);null===u?l=n:u.next=o,tq(n,t.memoizedState)||(ar=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=u,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do i=a.lane,nn.lanes|=i,im|=i,a=a.next;while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ny(e){var t=nv(),r=t.queue;if(null===r)throw Error(f(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(null!==a){r.pending=null;var l=a=a.next;do i=e(i,l.action),l=l.next;while(l!==a);tq(i,t.memoizedState)||(ar=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function nb(){}function nw(e,t){var r=nn,n=nv(),a=t(),i=!tq(n.memoizedState,a);if(i&&(n.memoizedState=a,ar=!0),n=n.queue,nA(nS.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||null!==ni&&1&ni.memoizedState.tag){if(r.flags|=2048,nk(9,n_.bind(null,r,n,a,t),void 0,null),null===iu)throw Error(f(349));0!=(30&nr)||nx(r,t,a)}return a}function nx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=nn.updateQueue)?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function n_(e,t,r,n){t.value=r,t.getSnapshot=n,nE(t)&&iF(e,1,-1)}function nS(e,t,r){return r(function(){nE(t)&&iF(e,1,-1)})}function nE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tq(e,r)}catch(e){return!0}}function nM(e){var t=np();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nm,lastRenderedState:e},t.queue=e,e=e.dispatch=nH.bind(null,nn,e),[t.memoizedState,e]}function nk(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=nn.updateQueue)?(t={lastEffect:null,stores:null},nn.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function nT(){return nv().memoizedState}function nC(e,t,r,n){var a=np();nn.flags|=e,a.memoizedState=nk(1|t,r,void 0,void 0===n?null:n)}function nR(e,t,r,n){var a=nv();n=void 0===n?null:n;var i=void 0;if(null!==na){var l=na.memoizedState;if(i=l.destroy,null!==n&&nf(n,l.deps)){a.memoizedState=nk(t,r,i,n);return}}nn.flags|=e,a.memoizedState=nk(1|t,r,i,n)}function nP(e,t){return nC(8390656,8,e,t)}function nA(e,t){return nR(2048,8,e,t)}function nU(e,t){return nR(4,2,e,t)}function nI(e,t){return nR(4,4,e,t)}function nz(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function nD(e,t,r){return r=null!=r?r.concat([e]):null,nR(4,4,nz.bind(null,t,e),r)}function nF(){}function nL(e,t){var r=nv();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&nf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function nB(e,t){var r=nv();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&nf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function nN(e,t){var r=tP;tP=0!==r&&4>r?r:4,e(!0);var n=nt.transition;nt.transition={};try{e(!1),t()}finally{tP=r,nt.transition=n}}function nO(){return nv().memoizedState}function nj(e,t,r){var n=iD(e);r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nW(e)?nV(t,r):(nq(e,t,r),null!==(e=iF(e,n,r=iz()))&&n$(e,t,n))}function nH(e,t,r){var n=iD(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nW(e))nV(t,a);else{nq(e,t,a);var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var l=t.lastRenderedState,o=i(l,r);if(a.hasEagerState=!0,a.eagerState=o,tq(o,l))return}catch(e){}finally{}null!==(e=iF(e,n,r=iz()))&&n$(e,t,n)}}function nW(e){var t=e.alternate;return e===nn||null!==t&&t===nn}function nV(e,t){no=nl=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nq(e,t,r){null!==iu&&0!=(1&e.mode)&&0==(2&io)?(null===(e=t.interleaved)?(r.next=r,null===rr?rr=[t]:rr.push(t)):(r.next=e.next,e.next=r),t.interleaved=r):(null===(e=t.pending)?r.next=r:(r.next=e.next,e.next=r),t.pending=r)}function n$(e,t,r){if(0!=(4194240&r)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,tR(e,r)}}var nG={readContext:rt,useCallback:nc,useContext:nc,useEffect:nc,useImperativeHandle:nc,useInsertionEffect:nc,useLayoutEffect:nc,useMemo:nc,useReducer:nc,useRef:nc,useState:nc,useDebugValue:nc,useDeferredValue:nc,useTransition:nc,useMutableSource:nc,useSyncExternalStore:nc,useId:nc,unstable_isNewReconciler:!1},nQ={readContext:rt,useCallback:function(e,t){return np().memoizedState=[e,void 0===t?null:t],e},useContext:rt,useEffect:nP,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,nC(4194308,4,nz.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nC(4194308,4,e,t)},useInsertionEffect:function(e,t){return nC(4,2,e,t)},useMemo:function(e,t){var r=np();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=np();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=nj.bind(null,nn,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},np().memoizedState=e},useState:nM,useDebugValue:nF,useDeferredValue:function(e){var t=nM(e),r=t[0],n=t[1];return nP(function(){var t=nt.transition;nt.transition={};try{n(e)}finally{nt.transition=t}},[e]),r},useTransition:function(){var e=nM(!1),t=e[0];return e=nN.bind(null,e[1]),np().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nn,a=np();if(rz){if(void 0===r)throw Error(f(407));r=r()}else{if(r=t(),null===iu)throw Error(f(349));0!=(30&nr)||nx(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,nP(nS.bind(null,n,i,e),[e]),n.flags|=2048,nk(9,n_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=np(),t=iu.identifierPrefix;if(rz){var r=rT,n=rk;t=":"+t+"R"+(r=(n&~(1<<32-tv(n)-1)).toString(32)+r),0<(r=nu++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=ns++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nX={readContext:rt,useCallback:nL,useContext:rt,useEffect:nA,useImperativeHandle:nD,useInsertionEffect:nU,useLayoutEffect:nI,useMemo:nB,useReducer:ng,useRef:nT,useState:function(){return ng(nm)},useDebugValue:nF,useDeferredValue:function(e){var t=ng(nm),r=t[0],n=t[1];return nA(function(){var t=nt.transition;nt.transition={};try{n(e)}finally{nt.transition=t}},[e]),r},useTransition:function(){return[ng(nm)[0],nv().memoizedState]},useMutableSource:nb,useSyncExternalStore:nw,useId:nO,unstable_isNewReconciler:!1},nY={readContext:rt,useCallback:nL,useContext:rt,useEffect:nA,useImperativeHandle:nD,useInsertionEffect:nU,useLayoutEffect:nI,useMemo:nB,useReducer:ny,useRef:nT,useState:function(){return ny(nm)},useDebugValue:nF,useDeferredValue:function(e){var t=ny(nm),r=t[0],n=t[1];return nA(function(){var t=nt.transition;nt.transition={};try{n(e)}finally{nt.transition=t}},[e]),r},useTransition:function(){return[ny(nm)[0],nv().memoizedState]},useMutableSource:nb,useSyncExternalStore:nw,useId:nO,unstable_isNewReconciler:!1};function nZ(e,t){try{var r="",n=t;do r+=t1(n),n=n.return;while(n);var a=r}catch(e){a="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:a}}function nJ(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var nK="function"==typeof WeakMap?WeakMap:Map;function n1(e,t,r){(r=rl(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){iE||(iE=!0,iM=n),nJ(e,t)},r}function n0(e,t,r){(r=rl(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){nJ(e,t)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(r.callback=function(){nJ(e,t),"function"!=typeof n&&(null===ik?ik=new Set([this]):ik.add(this));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}function n2(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new nK;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=i8.bind(null,e,t,r),t.then(e,e))}function n3(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function n5(e,t,r,n,a){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=rl(-1,1)).tag=2,ro(r,t))),r.lanes|=1):(e.flags|=65536,e.lanes=a),e}function n4(e){e.flags|=4}function n6(e,t){if(null!==e&&e.child===t.child)return!0;if(0!=(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!=(12854&e.flags)||0!=(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(K)t=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)V(e,r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},n=function(){},a=function(e,t,r,n,a){(e=e.memoizedProps)!==n&&(r=$(t.stateNode,r,e,n,a,r0(rJ.current)),(t.updateQueue=r)&&n4(t))},i=function(e,t,r,n){r!==n&&n4(t)};else if(ee){t=function(e,r,n,a){for(var i=r.child;null!==i;){if(5===i.tag){var l=i.stateNode;n&&a&&(l=eF(l,i.type,i.memoizedProps,i)),V(e,l)}else if(6===i.tag)l=i.stateNode,n&&a&&(l=eL(l,i.memoizedProps,i)),V(e,l);else if(4!==i.tag){if(22===i.tag&&null!==i.memoizedState)null!==(l=i.child)&&(l.return=i),t(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===r)break;for(;null===i.sibling;){if(null===i.return||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var n8=function(e,t,r,n){for(var a=t.child;null!==a;){if(5===a.tag){var i=a.stateNode;r&&n&&(i=eF(i,a.type,a.memoizedProps,a)),eI(e,i)}else if(6===a.tag)i=a.stateNode,r&&n&&(i=eL(i,a.memoizedProps,a)),eI(e,i);else if(4!==a.tag){if(22===a.tag&&null!==a.memoizedState)null!==(i=a.child)&&(i.return=a),n8(e,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};n=function(e,t){var r=t.stateNode;if(!n6(e,t)){var n=eU(e=r.containerInfo);n8(n,t,!1,!1),r.pendingChildren=n,n4(t),ez(e,n)}},a=function(e,r,n,a,i){var l=e.stateNode,o=e.memoizedProps;if((e=n6(e,r))&&o===a)r.stateNode=l;else{var u=r.stateNode,s=r0(rJ.current),c=null;o!==a&&(c=$(u,n,o,a,i,s)),e&&null===c?r.stateNode=l:(q(l=eA(l,c,n,o,a,r,e,u),n,a,i,s)&&n4(r),r.stateNode=l,e?n4(r):t(l,r,!1,!1))}},i=function(e,t,r,n){r!==n?(e=r0(r1.current),r=r0(rJ.current),t.stateNode=Q(n,e,r,t),n4(t)):t.stateNode=e.stateNode}}else n=function(){},a=function(){},i=function(){};function n7(e,t){if(!rz)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function n9(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function ae(e,r,l){var o=r.pendingProps;switch(rA(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return n9(r),null;case 1:case 17:return ts(r.type)&&tc(),n9(r),null;case 3:return o=r.stateNode,r3(),tr(tl),tr(ti),r9(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===e||null===e.child)&&(rH(r)?n4(r):null===e||e.memoizedState.isDehydrated&&0==(256&r.flags)||(r.flags|=1024,null!==rF&&(ij(rF),rF=null))),n(e,r),n9(r),null;case 5:r4(r),l=r0(r1.current);var u=r.type;if(null!==e&&null!=r.stateNode)a(e,r,u,o,l),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(null===r.stateNode)throw Error(f(166));return n9(r),null}if(e=r0(rJ.current),rH(r)){if(!et)throw Error(f(175));e=eQ(r.stateNode,r.type,r.memoizedProps,l,e,r,!rD),r.updateQueue=e,null!==e&&n4(r)}else{var s=W(u,o,l,e,r);t(s,r,!1,!1),r.stateNode=s,q(s,u,o,l,e)&&n4(r)}null!==r.ref&&(r.flags|=512,r.flags|=2097152)}return n9(r),null;case 6:if(e&&null!=r.stateNode)i(e,r,e.memoizedProps,o);else{if("string"!=typeof o&&null===r.stateNode)throw Error(f(166));if(e=r0(r1.current),l=r0(rJ.current),rH(r)){if(!et)throw Error(f(176));if((l=eX(e=r.stateNode,o=r.memoizedProps,r,!rD))&&null!==(u=rU))switch(s=0!=(1&u.mode),u.tag){case 3:e3(u.stateNode.containerInfo,e,o,s);break;case 5:e5(u.type,u.memoizedProps,u.stateNode,e,o,s)}l&&n4(r)}else r.stateNode=Q(o,e,l,r)}return n9(r),null;case 13:if(tr(r6),o=r.memoizedState,rz&&null!==rI&&0!=(1&r.mode)&&0==(128&r.flags)){for(e=rI;e;)e=eV(e);return rW(),r.flags|=98560,r}if(null!==o&&null!==o.dehydrated){if(o=rH(r),null===e){if(!o)throw Error(f(318));if(!et)throw Error(f(344));if(!(e=null!==(e=r.memoizedState)?e.dehydrated:null))throw Error(f(317));eY(e,r)}else rW(),0==(128&r.flags)&&(r.memoizedState=null),r.flags|=4;return n9(r),null}if(null!==rF&&(ij(rF),rF=null),0!=(128&r.flags))return r.lanes=l,r;return o=null!==o,l=!1,null===e?rH(r):l=null!==e.memoizedState,o&&!l&&(r.child.flags|=8192,0!=(1&r.mode)&&(null===e||0!=(1&r6.current)?0===ip&&(ip=3):iY())),null!==r.updateQueue&&(r.flags|=4),n9(r),null;case 4:return r3(),n(e,r),null===e&&en(r.stateNode.containerInfo),n9(r),null;case 10:return t7(r.type._context),n9(r),null;case 19:if(tr(r6),null===(u=r.memoizedState))return n9(r),null;if(o=0!=(128&r.flags),null===(s=u.rendering)){if(o)n7(u,!1);else{if(0!==ip||null!==e&&0!=(128&e.flags))for(e=r.child;null!==e;){if(null!==(s=r8(e))){for(r.flags|=128,n7(u,!1),null!==(e=s.updateQueue)&&(r.updateQueue=e,r.flags|=4),r.subtreeFlags=0,e=l,o=r.child;null!==o;)l=o,u=e,l.flags&=14680066,null===(s=l.alternate)?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,l.type=s.type,u=s.dependencies,l.dependencies=null===u?null:{lanes:u.lanes,firstContext:u.firstContext}),o=o.sibling;return tn(r6,1&r6.current|2),r.child}e=e.sibling}null!==u.tail&&tF()>i_&&(r.flags|=128,o=!0,n7(u,!1),r.lanes=4194304)}}else{if(!o){if(null!==(e=r8(s))){if(r.flags|=128,o=!0,null!==(e=e.updateQueue)&&(r.updateQueue=e,r.flags|=4),n7(u,!0),null===u.tail&&"hidden"===u.tailMode&&!s.alternate&&!rz)return n9(r),null}else 2*tF()-u.renderingStartTime>i_&&1073741824!==l&&(r.flags|=128,o=!0,n7(u,!1),r.lanes=4194304)}u.isBackwards?(s.sibling=r.child,r.child=s):(null!==(e=u.last)?e.sibling=s:r.child=s,u.last=s)}if(null!==u.tail)return r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=tF(),r.sibling=null,e=r6.current,tn(r6,o?1&e|2:1&e),r;return n9(r),null;case 22:case 23:return i$(),o=null!==r.memoizedState,null!==e&&null!==e.memoizedState!==o&&(r.flags|=8192),o&&0!=(1&r.mode)?0!=(1073741824&id)&&(n9(r),K&&6&r.subtreeFlags&&(r.flags|=8192)):n9(r),null;case 24:case 25:return null}throw Error(f(156,r.tag))}var at=d.ReactCurrentOwner,ar=!1;function an(e,t,r,n){t.child=null===e?rY(t,null,r,n):rX(t,e.child,r,n)}function aa(e,t,r,n,a){r=r.render;var i=t.ref;return(re(t,a),n=nd(e,t,r,n,i,a),r=nh(),null===e||ar)?(rz&&r&&rP(t),t.flags|=1,an(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,aE(e,t,a))}function ai(e,t,r,n,a){if(null===e){var i=r.type;return"function"!=typeof i||la(i)||void 0!==i.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=lo(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,al(e,t,i,n,a))}if(i=e.child,0==(e.lanes&a)){var l=i.memoizedProps;if((r=null!==(r=r.compare)?r:tK)(l,n)&&e.ref===t.ref)return aE(e,t,a)}return t.flags|=1,(e=ll(i,n)).ref=t.ref,e.return=t,t.child=e}function al(e,t,r,n,a){if(null!==e&&tK(e.memoizedProps,n)&&e.ref===t.ref){if(ar=!1,0==(e.lanes&a))return t.lanes=e.lanes,aE(e,t,a);0!=(131072&e.flags)&&(ar=!0)}return as(e,t,r,n,a)}function ao(e,t,r){var n=t.pendingProps,a=n.children,i=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},tn(ih,id),id|=r;else{if(0==(1073741824&r))return e=null!==i?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,tn(ih,id),id|=e,null;t.memoizedState={baseLanes:0,cachePool:null},n=null!==i?i.baseLanes:r,tn(ih,id),id|=n}}else null!==i?(n=i.baseLanes|r,t.memoizedState=null):n=r,tn(ih,id),id|=n;return an(e,t,a,r),t.child}function au(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function as(e,t,r,n,a){var i=ts(r)?to:ti.current;return(i=tu(t,i),re(t,a),r=nd(e,t,r,n,i,a),n=nh(),null===e||ar)?(rz&&n&&rP(t),t.flags|=1,an(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,aE(e,t,a))}function ac(e,t,r,n,a){if(ts(r)){var i=!0;th(t)}else i=!1;if(re(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),rm(t,r,n),ry(t,r,n,a),n=!0;else if(null===e){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,s=r.contextType;s="object"==typeof s&&null!==s?rt(s):tu(t,s=ts(r)?to:ti.current);var c=r.getDerivedStateFromProps,f="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;f||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==n||u!==s)&&rg(t,l,n,s),rn=!1;var d=t.memoizedState;l.state=d,rc(t,n,l,a),u=t.memoizedState,o!==n||d!==u||tl.current||rn?("function"==typeof c&&(rh(t,r,c,n),u=t.memoizedState),(o=rn||rv(t,r,o,n,d,u,s))?(f||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(t.flags|=4194308)):("function"==typeof l.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),l.props=n,l.state=u,l.context=s,n=o):("function"==typeof l.componentDidMount&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,ri(e,t),o=t.memoizedProps,s=t.type===t.elementType?o:t0(t.type,o),l.props=s,f=t.pendingProps,d=l.context,u="object"==typeof(u=r.contextType)&&null!==u?rt(u):tu(t,u=ts(r)?to:ti.current);var h=r.getDerivedStateFromProps;(c="function"==typeof h||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==f||d!==u)&&rg(t,l,n,u),rn=!1,d=t.memoizedState,l.state=d,rc(t,n,l,a);var p=t.memoizedState;o!==f||d!==p||tl.current||rn?("function"==typeof h&&(rh(t,r,h,n),p=t.memoizedState),(s=rn||rv(t,r,s,n,d,p,u)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(n,p,u),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(n,p,u)),"function"==typeof l.componentDidUpdate&&(t.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),l.props=n,l.state=p,l.context=u,n=s):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return af(e,t,r,n,i,a)}function af(e,t,r,n,a,i){au(e,t);var l=0!=(128&t.flags);if(!n&&!l)return a&&tp(t,r,!1),aE(e,t,i);n=t.stateNode,at.current=t;var o=l&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&l?(t.child=rX(t,e.child,null,i),t.child=rX(t,null,o,i)):an(e,t,o,i),t.memoizedState=n.state,a&&tp(t,r,!0),t.child}function ad(e){var t=e.stateNode;t.pendingContext?tf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&tf(e,t.context,!1),r2(e,t.containerInfo)}function ah(e,t,r,n,a){return rW(),rV(a),t.flags|=256,an(e,t,r,n),t.child}var ap={dehydrated:null,treeContext:null,retryLane:0};function av(e){return{baseLanes:e,cachePool:null}}function am(e,t,r){var n,a=t.pendingProps,i=r6.current,l=!1,o=0!=(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!=(2&i)),n?(l=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(i|=1),tn(r6,1&i),null===e)return(rO(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:eH(e)?t.lanes=8:t.lanes=1073741824,null):(i=a.children,e=a.fallback,l?(a=t.mode,l=t.child,i={mode:"hidden",children:i},0==(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=i):l=ls(i,a,0,null),e=lu(e,a,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=av(r),t.memoizedState=ap,e):ag(t,i));if(null!==(i=e.memoizedState)&&null!==(n=i.dehydrated)){if(o)return 256&t.flags?(t.flags&=-257,aw(e,t,r,Error(f(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(l=a.fallback,i=t.mode,a=ls({mode:"visible",children:a.children},i,0,null),l=lu(l,i,r,null),l.flags|=2,a.return=t,l.return=t,a.sibling=l,t.child=a,0!=(1&t.mode)&&rX(t,e.child,null,r),t.child.memoizedState=av(r),t.memoizedState=ap,l);if(0==(1&t.mode))t=aw(e,t,r,null);else if(eH(n))t=aw(e,t,r,Error(f(419)));else if(a=0!=(r&e.childLanes),ar||a){if(null!==(a=iu)){switch(r&-r){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}0!==(a=0!=(l&(a.suspendedLanes|r))?0:l)&&a!==i.retryLane&&(i.retryLane=a,iF(e,a,-1))}iY(),t=aw(e,t,r,Error(f(421)))}else ej(n)?(t.flags|=128,t.child=e.child,eW(n,t=i9.bind(null,e)),t=null):(r=i.treeContext,et&&(rI=eG(n),rU=t,rz=!0,rF=null,rD=!1,null!==r&&(rS[rE++]=rk,rS[rE++]=rT,rS[rE++]=rM,rk=r.id,rT=r.overflow,rM=t)),t=ag(t,t.pendingProps.children),t.flags|=4096);return t}return l?(a=ab(e,t,a.children,a.fallback,r),l=t.child,i=e.child.memoizedState,l.memoizedState=null===i?av(r):{baseLanes:i.baseLanes|r,cachePool:null},l.childLanes=e.childLanes&~r,t.memoizedState=ap,a):(r=ay(e,t,a.children,r),t.memoizedState=null,r)}function ag(e,t){return(t=ls({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ay(e,t,r,n){var a=e.child;return e=a.sibling,r=ll(a,{mode:"visible",children:r}),0==(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r}function ab(e,t,r,n,a){var i=t.mode,l=(e=e.child).sibling,o={mode:"hidden",children:r};return 0==(1&i)&&t.child!==e?((r=t.child).childLanes=0,r.pendingProps=o,t.deletions=null):(r=ll(e,o)).subtreeFlags=14680064&e.subtreeFlags,null!==l?n=ll(l,n):(n=lu(n,i,a,null),n.flags|=2),n.return=t,r.return=t,r.sibling=n,t.child=r,n}function aw(e,t,r,n){return null!==n&&rV(n),rX(t,e.child,null,r),e=ag(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ax(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),t9(e.return,t,r)}function a_(e,t,r,n,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function aS(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(an(e,t,n.children,r),0!=(2&(n=r6.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ax(e,r,t);else if(19===e.tag)ax(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(tn(r6,n),0==(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(a=null,r=t.child;null!==r;)null!==(e=r.alternate)&&null===r8(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),a_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===r8(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}a_(t,!0,r,null,i);break;case"together":a_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aE(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),im|=t.lanes,0==(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(f(153));if(null!==t.child){for(r=ll(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=ll(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function aM(e,t,r){switch(t.tag){case 3:ad(t),rW();break;case 5:r5(t);break;case 1:ts(t.type)&&th(t);break;case 4:r2(t,t.stateNode.containerInfo);break;case 10:t8(t,t.type._context,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n){if(null!==n.dehydrated)return tn(r6,1&r6.current),t.flags|=128,null;if(0!=(r&t.child.childLanes))return am(e,t,r);return tn(r6,1&r6.current),null!==(e=aE(e,t,r))?e.sibling:null}tn(r6,1&r6.current);break;case 19:if(n=0!=(r&t.childLanes),0!=(128&e.flags)){if(n)return aS(e,t,r);t.flags|=128}var a=t.memoizedState;if(null!==a&&(a.rendering=null,a.tail=null,a.lastEffect=null),tn(r6,r6.current),!n)return null;break;case 22:case 23:return t.lanes=0,ao(e,t,r)}return aE(e,t,r)}function ak(e,t){switch(rA(t),t.tag){case 1:return ts(t.type)&&tc(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return r3(),tr(tl),tr(ti),r9(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return r4(t),null;case 13:if(tr(r6),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(f(340));rW()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return tr(r6),null;case 4:return r3(),null;case 10:return t7(t.type._context),null;case 22:case 23:return i$(),null;default:return null}}var aT=!1,aC=!1,aR="function"==typeof WeakSet?WeakSet:Set,aP=null;function aA(e,t){var r=e.ref;if(null!==r){if("function"==typeof r)try{r(null)}catch(r){i6(e,t,r)}else r.current=null}}function aU(e,t,r){try{r()}catch(r){i6(e,t,r)}}var aI=!1;function az(e,t){for(j(e.containerInfo),aP=t;null!==aP;)if(t=(e=aP).child,0!=(1028&e.subtreeFlags)&&null!==t)t.return=e,aP=t;else for(;null!==aP;){e=aP;try{var r=e.alternate;if(0!=(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==r){var n=r.memoizedProps,a=r.memoizedState,i=e.stateNode,l=i.getSnapshotBeforeUpdate(e.elementType===e.type?n:t0(e.type,n),a);i.__reactInternalSnapshotBeforeUpdate=l}break;case 3:K&&eP(e.stateNode.containerInfo);break;default:throw Error(f(163))}}catch(t){i6(e,e.return,t)}if(null!==(t=e.sibling)){t.return=e.return,aP=t;break}aP=e.return}return r=aI,aI=!1,r}function aD(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,void 0!==i&&aU(t,r,i)}a=a.next}while(a!==n)}}function aF(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aL(e){var t=e.ref;if(null!==t){var r=e.stateNode;e=5===e.tag?B(r):r,"function"==typeof t?t(e):t.current=e}}function aB(e,t,r){if(tH&&"function"==typeof tH.onCommitFiberUnmount)try{tH.onCommitFiberUnmount(tj,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var a=n,i=a.destroy;a=a.tag,void 0!==i&&(0!=(2&a)?aU(t,r,i):0!=(4&a)&&aU(t,r,i)),n=n.next}while(n!==e)}break;case 1:if(aA(t,r),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){i6(t,r,e)}break;case 5:aA(t,r);break;case 4:K?a$(e,t,r):ee&&ee&&(r=eU(t=t.stateNode.containerInfo),eD(t,r))}}function aN(e,t,r){for(var n=t;;)if(aB(e,n,r),null===n.child||K&&4===n.tag){if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}else n.child.return=n,n=n.child}function aO(e){var t=e.alternate;null!==t&&(e.alternate=null,aO(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&ei(t),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function aj(e){return 5===e.tag||3===e.tag||4===e.tag}function aH(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||aj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function aW(e){if(K){e:{for(var t=e.return;null!==t;){if(aj(t))break e;t=t.return}throw Error(f(160))}var r=t;switch(r.tag){case 5:t=r.stateNode,32&r.flags&&(eM(t),r.flags&=-33),r=aH(e),aq(e,r,t);break;case 3:case 4:t=r.stateNode.containerInfo,r=aH(e),aV(e,r,t);break;default:throw Error(f(161))}}}function aV(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?e_(r,e,t):eg(r,e);else if(4!==n&&null!==(e=e.child))for(aV(e,t,r),e=e.sibling;null!==e;)aV(e,t,r),e=e.sibling}function aq(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?ex(r,e,t):em(r,e);else if(4!==n&&null!==(e=e.child))for(aq(e,t,r),e=e.sibling;null!==e;)aq(e,t,r),e=e.sibling}function a$(e,t,r){for(var n,a,i=t,l=!1;;){if(!l){l=i.return;e:for(;;){if(null===l)throw Error(f(160));switch(n=l.stateNode,l.tag){case 5:a=!1;break e;case 3:case 4:n=n.containerInfo,a=!0;break e}l=l.return}l=!0}if(5===i.tag||6===i.tag)aN(e,i,r),a?eE(n,i.stateNode):eS(n,i.stateNode);else if(18===i.tag)a?e0(n,i.stateNode):e1(n,i.stateNode);else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,a=!0,i.child.return=i,i=i.child;continue}}else if(aB(e,i,r),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(l=!1)}i.sibling.return=i.return,i=i.sibling}}function aG(e,t){if(K){switch(t.tag){case 0:case 11:case 14:case 15:aD(3,t,t.return),aF(3,t),aD(5,t,t.return);return;case 1:case 12:case 17:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps;e=null!==e?e.memoizedProps:n;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&ew(r,i,a,e,n,t)}return;case 6:if(null===t.stateNode)throw Error(f(162));r=t.memoizedProps,ey(t.stateNode,null!==e?e.memoizedProps:r,r);return;case 3:et&&null!==e&&e.memoizedState.isDehydrated&&eJ(t.stateNode.containerInfo);return;case 13:case 19:aQ(t);return}throw Error(f(163))}switch(t.tag){case 0:case 11:case 14:case 15:aD(3,t,t.return),aF(3,t),aD(5,t,t.return);return;case 12:case 22:case 23:return;case 13:case 19:aQ(t);return;case 3:et&&null!==e&&e.memoizedState.isDehydrated&&eJ(t.stateNode.containerInfo)}e:if(ee){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:eD((t=t.stateNode).containerInfo,t.pendingChildren);break e}throw Error(f(163))}}function aQ(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new aR),t.forEach(function(t){var n=le.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}}function aX(e,t){for(aP=t;null!==aP;){var r=(t=aP).deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e;K?a$(i,a,t):aN(i,a,t);var l=a.alternate;null!==l&&(l.return=null),a.return=null}catch(e){i6(a,t,e)}}if(r=t.child,0!=(12854&t.subtreeFlags)&&null!==r)r.return=t,aP=r;else for(;null!==aP;){t=aP;try{var o=t.flags;if(32&o&&K&&eM(t.stateNode),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"==typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;(null===c||null===c.memoizedState)&&(ix=tF())}break;case 22:var f=null!==t.memoizedState,d=t.alternate,h=null!==d&&null!==d.memoizedState;if(r=t,K){e:if(n=r,a=f,i=null,K)for(var p=n;;){if(5===p.tag){if(null===i){i=p;var v=p.stateNode;a?ek(v):eC(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===i){var m=p.stateNode;a?eT(m):eR(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===n)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===n)break;for(;null===p.sibling;){if(null===p.return||p.return===n)break e;i===p&&(i=null),p=p.return}i===p&&(i=null),p.sibling.return=p.return,p=p.sibling}}if(f&&!h&&0!=(1&r.mode)){aP=r;for(var g=r.child;null!==g;){for(r=aP=g;null!==aP;){var y=(n=aP).child;switch(n.tag){case 0:case 11:case 14:case 15:aD(4,n,n.return);break;case 1:aA(n,n.return);var b=n.stateNode;if("function"==typeof b.componentWillUnmount){var w=n.return;try{b.props=n.memoizedProps,b.state=n.memoizedState,b.componentWillUnmount()}catch(e){i6(n,w,e)}}break;case 5:aA(n,n.return);break;case 22:if(null!==n.memoizedState){aK(r);continue}}null!==y?(y.return=n,aP=y):aK(r)}g=g.sibling}}}switch(4102&o){case 2:aW(t),t.flags&=-3;break;case 6:aW(t),t.flags&=-3,aG(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,aG(t.alternate,t);break;case 4:aG(t.alternate,t)}}catch(e){i6(t,t.return,e)}if(null!==(r=t.sibling)){r.return=t.return,aP=r;break}aP=t.return}}}function aY(e,t,r){aP=e,aZ(e,t,r)}function aZ(e,t,r){for(var n=0!=(1&e.mode);null!==aP;){var a=aP,i=a.child;if(22===a.tag&&n){var l=null!==a.memoizedState||aT;if(!l){var o=a.alternate,u=null!==o&&null!==o.memoizedState||aC;o=aT;var s=aC;if(aT=l,(aC=u)&&!s)for(aP=a;null!==aP;)u=(l=aP).child,22===l.tag&&null!==l.memoizedState?a1(a):null!==u?(u.return=l,aP=u):a1(a);for(;null!==i;)aP=i,aZ(i,t,r),i=i.sibling;aP=a,aT=o,aC=s}aJ(e,t,r)}else 0!=(8772&a.subtreeFlags)&&null!==i?(i.return=a,aP=i):aJ(e,t,r)}}function aJ(e){for(;null!==aP;){var t=aP;if(0!=(8772&t.flags)){var r=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aC||aF(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!aC){if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:t0(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}}var i=t.updateQueue;null!==i&&rf(t,i,n);break;case 3:var l=t.updateQueue;if(null!==l){if(r=null,null!==t.child)switch(t.child.tag){case 5:r=B(t.child.stateNode);break;case 1:r=t.child.stateNode}rf(t,l,r)}break;case 5:var o=t.stateNode;null===r&&4&t.flags&&eb(o,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(et&&null===t.memoizedState){var u=t.alternate;if(null!==u){var s=u.memoizedState;if(null!==s){var c=s.dehydrated;null!==c&&eK(c)}}}break;default:throw Error(f(163))}aC||512&t.flags&&aL(t)}catch(e){i6(t,t.return,e)}}if(t===e){aP=null;break}if(null!==(r=t.sibling)){r.return=t.return,aP=r;break}aP=t.return}}function aK(e){for(;null!==aP;){var t=aP;if(t===e){aP=null;break}var r=t.sibling;if(null!==r){r.return=t.return,aP=r;break}aP=t.return}}function a1(e){for(;null!==aP;){var t=aP;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{aF(4,t)}catch(e){i6(t,r,e)}break;case 1:var n=t.stateNode;if("function"==typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(e){i6(t,a,e)}}var i=t.return;try{aL(t)}catch(e){i6(t,i,e)}break;case 5:var l=t.return;try{aL(t)}catch(e){i6(t,l,e)}}}catch(e){i6(t,t.return,e)}if(t===e){aP=null;break}var o=t.sibling;if(null!==o){o.return=t.return,aP=o;break}aP=t.return}}var a0=0,a2=1,a3=2,a5=3,a4=4;if("function"==typeof Symbol&&Symbol.for){var a6=Symbol.for;a0=a6("selector.component"),a2=a6("selector.has_pseudo_class"),a3=a6("selector.role"),a5=a6("selector.test_id"),a4=a6("selector.text")}function a8(e){var t=er(e);if(null!=t){if("string"!=typeof t.memoizedProps["data-testname"])throw Error(f(364));return t}if(null===(e=es(e)))throw Error(f(362));return e.stateNode.current}function a7(e,t){switch(t.$$typeof){case a0:if(e.type===t.value)return!0;break;case a2:e:{t=t.value,e=[e,0];for(var r=0;r<e.length;){var n=e[r++],a=e[r++],i=t[a];if(5!==n.tag||!ed(n)){for(;null!=i&&a7(n,i);)i=t[++a];if(a===t.length){t=!0;break e}for(n=n.child;null!==n;)e.push(n,a),n=n.sibling}}t=!1}return t;case a3:if(5===e.tag&&eh(e.stateNode,t.value))return!0;break;case a4:if((5===e.tag||6===e.tag)&&null!==(e=ef(e))&&0<=e.indexOf(t.value))return!0;break;case a5:if(5===e.tag&&"string"==typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase())return!0;break;default:throw Error(f(365))}return!1}function a9(e){switch(e.$$typeof){case a0:return"<"+(C(e.value)||"Unknown")+">";case a2:return":has("+(a9(e)||"")+")";case a3:return'[role="'+e.value+'"]';case a4:return'"'+e.value+'"';case a5:return'[data-testname="'+e.value+'"]';default:throw Error(f(365))}}function ie(e,t){var r=[];e=[e,0];for(var n=0;n<e.length;){var a=e[n++],i=e[n++],l=t[i];if(5!==a.tag||!ed(a)){for(;null!=l&&a7(a,l);)l=t[++i];if(i===t.length)r.push(a);else for(a=a.child;null!==a;)e.push(a,i),a=a.sibling}}return r}function it(e,t){if(!eu)throw Error(f(363));e=ie(e=a8(e),t),t=[],e=Array.from(e);for(var r=0;r<e.length;){var n=e[r++];if(5===n.tag)ed(n)||t.push(n.stateNode);else for(n=n.child;null!==n;)e.push(n),n=n.sibling}return t}var ir=Math.ceil,ia=d.ReactCurrentDispatcher,ii=d.ReactCurrentOwner,il=d.ReactCurrentBatchConfig,io=0,iu=null,is=null,ic=0,id=0,ih=tt(0),ip=0,iv=null,im=0,ig=0,iy=0,ib=null,iw=null,ix=0,i_=1/0;function iS(){i_=tF()+500}var iE=!1,iM=null,ik=null,iT=!1,iC=null,iR=0,iP=0,iA=null,iU=-1,iI=0;function iz(){return 0!=(6&io)?tF():-1!==iU?iU:iU=tF()}function iD(e){return 0==(1&e.mode)?1:0!=(2&io)&&0!==ic?ic&-ic:null!==tJ.transition?(0===iI&&(e=tb,0==(4194240&(tb<<=1))&&(tb=64),iI=e),iI):0!==(e=tP)?e:ea()}function iF(e,t,r){if(50<iP)throw iP=0,iA=null,Error(f(185));var n=iL(e,t);return null===n?null:(tT(n,t,r),(0==(2&io)||n!==iu)&&(n===iu&&(0==(2&io)&&(ig|=t),4===ip&&iW(n,ic)),iB(n,r),1===t&&0===io&&0==(1&e.mode)&&(iS(),tG&&tZ())),n)}function iL(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}function iB(e,t){var r=e.callbackNode;tE(e,t);var n=t_(e,e===iu?ic:0);if(0===n)null!==r&&tI(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&tI(r),1===t)0===e.tag?tY(iV.bind(null,e)):tX(iV.bind(null,e)),el?eo(function(){0===io&&tZ()}):tU(tL,tZ),r=null;else{switch(tA(n)){case 1:r=tL;break;case 4:r=tB;break;case 16:default:r=tN;break;case 536870912:r=tO}r=lt(r,iN.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function iN(e,t){if(iU=-1,iI=0,0!=(6&io))throw Error(f(327));var r=e.callbackNode;if(i5()&&e.callbackNode!==r)return null;var n=t_(e,e===iu?ic:0);if(0===n)return null;if(0!=(30&n)||0!=(n&e.expiredLanes)||t)t=iZ(e,n);else{t=n;var a=io;io|=2;var i=iX();for((iu!==e||ic!==t)&&(iS(),iG(e,t));;)try{iK();break}catch(t){iQ(e,t)}t6(),ia.current=i,io=a,null!==is?t=0:(iu=null,ic=0,t=ip)}if(0!==t){if(2===t&&0!==(a=tM(e))&&(n=a,t=iO(e,a)),1===t)throw r=iv,iG(e,0),iW(e,n),iB(e,tF()),r;if(6===t)iW(e,n);else{if(a=e.current.alternate,0==(30&n)&&!iH(a)&&(2===(t=iZ(e,n))&&0!==(i=tM(e))&&(n=i,t=iO(e,i)),1===t))throw r=iv,iG(e,0),iW(e,n),iB(e,tF()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(f(345));case 2:case 5:i2(e,iw);break;case 3:if(iW(e,n),(130023424&n)===n&&10<(t=ix+500-tF())){if(0!==t_(e,0))break;if(((a=e.suspendedLanes)&n)!==n){iz(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=X(i2.bind(null,e,iw),t);break}i2(e,iw);break;case 4:if(iW(e,n),(4194240&n)===n)break;for(a=-1,t=e.eventTimes;0<n;){var l=31-tv(n);i=1<<l,(l=t[l])>a&&(a=l),n&=~i}if(n=a,10<(n=(120>(n=tF()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ir(n/1960))-n)){e.timeoutHandle=X(i2.bind(null,e,iw),n);break}i2(e,iw);break;default:throw Error(f(329))}}}return iB(e,tF()),e.callbackNode===r?iN.bind(null,e):null}function iO(e,t){var r=ib;return e.current.memoizedState.isDehydrated&&(iG(e,t).flags|=256),2!==(e=iZ(e,t))&&(t=iw,iw=r,null!==t&&ij(t)),e}function ij(e){null===iw?iw=e:iw.push.apply(iw,e)}function iH(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!tq(i(),a))return!1}catch(e){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function iW(e,t){for(t&=~iy,t&=~ig,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tv(t),n=1<<r;e[r]=-1,t&=~n}}function iV(e){if(0!=(6&io))throw Error(f(327));i5();var t=t_(e,0);if(0==(1&t))return iB(e,tF()),null;var r=iZ(e,t);if(0!==e.tag&&2===r){var n=tM(e);0!==n&&(t=n,r=iO(e,n))}if(1===r)throw r=iv,iG(e,0),iW(e,t),iB(e,tF()),r;if(6===r)throw Error(f(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,i2(e,iw),iB(e,tF()),null}function iq(e){null!==iC&&0===iC.tag&&0==(6&io)&&i5();var t=io;io|=1;var r=il.transition,n=tP;try{if(il.transition=null,tP=1,e)return e()}finally{tP=n,il.transition=r,0==(6&(io=t))&&tZ()}}function i$(){id=ih.current,tr(ih)}function iG(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==Z&&(e.timeoutHandle=Z,Y(r)),null!==is)for(r=is.return;null!==r;){var n=r;switch(rA(n),n.tag){case 1:null!=(n=n.type.childContextTypes)&&tc();break;case 3:r3(),tr(tl),tr(ti),r9();break;case 5:r4(n);break;case 4:r3();break;case 13:case 19:tr(r6);break;case 10:t7(n.type._context);break;case 22:case 23:i$()}r=r.return}if(iu=e,is=e=ll(e.current,null),ic=id=t,ip=0,iv=null,iy=ig=im=0,iw=ib=null,null!==rr){for(t=0;t<rr.length;t++)if(null!==(n=(r=rr[t]).interleaved)){r.interleaved=null;var a=n.next,i=r.pending;if(null!==i){var l=i.next;i.next=a,n.next=l}r.pending=n}rr=null}return e}function iQ(e,t){for(;;){var r=is;try{if(t6(),ne.current=nG,nl){for(var n=nn.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}nl=!1}if(nr=0,ni=na=nn=null,no=!1,nu=0,ii.current=null,null===r||null===r.return){ip=1,iv=t,is=null;break}e:{var i=e,l=r.return,o=r,u=t;if(t=ic,o.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var s=u,c=o,d=c.tag;if(0==(1&c.mode)&&(0===d||11===d||15===d)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=n3(l);if(null!==p){p.flags&=-257,n5(p,l,o,i,t),1&p.mode&&n2(i,s,t),t=p,u=s;var v=t.updateQueue;if(null===v){var m=new Set;m.add(u),t.updateQueue=m}else v.add(u);break e}if(0==(1&t)){n2(i,s,t),iY();break e}u=Error(f(426))}else if(rz&&1&o.mode){var g=n3(l);if(null!==g){0==(65536&g.flags)&&(g.flags|=256),n5(g,l,o,i,t),rV(u);break e}}i=u,4!==ip&&(ip=2),null===ib?ib=[i]:ib.push(i),u=nZ(u,o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=n1(o,u,t);rs(o,y);break e;case 1:i=u;var b=o.type,w=o.stateNode;if(0==(128&o.flags)&&("function"==typeof b.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===ik||!ik.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=n0(o,i,t);rs(o,x);break e}}o=o.return}while(null!==o)}i0(r)}catch(e){t=e,is===r&&null!==r&&(is=r=r.return);continue}break}}function iX(){var e=ia.current;return ia.current=nG,null===e?nG:e}function iY(){(0===ip||3===ip||2===ip)&&(ip=4),null===iu||0==(268435455&im)&&0==(268435455&ig)||iW(iu,ic)}function iZ(e,t){var r=io;io|=2;var n=iX();for(iu===e&&ic===t||iG(e,t);;)try{iJ();break}catch(t){iQ(e,t)}if(t6(),io=r,ia.current=n,null!==is)throw Error(f(261));return iu=null,ic=0,ip}function iJ(){for(;null!==is;)i1(is)}function iK(){for(;null!==is&&!tz();)i1(is)}function i1(e){var t=l(e.alternate,e,id);e.memoizedProps=e.pendingProps,null===t?i0(e):is=t,ii.current=null}function i0(e){var t=e;do{var r=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(r=ae(r,t,id))){is=r;return}}else{if(null!==(r=ak(r,t))){r.flags&=32767,is=r;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ip=6,is=null;return}}if(null!==(t=t.sibling)){is=t;return}is=t=e}while(null!==t);0===ip&&(ip=5)}function i2(e,t){var r=tP,n=il.transition;try{il.transition=null,tP=1,i3(e,t,r)}finally{il.transition=n,tP=r}return null}function i3(e,t,r){do i5();while(null!==iC);if(0!=(6&io))throw Error(f(327));var n=e.finishedWork,a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(f(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(tC(e,i),e===iu&&(is=iu=null,ic=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||iT||(iT=!0,lt(tN,function(){return i5(),null})),i=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||i){i=il.transition,il.transition=null;var l=tP;tP=1;var o=io;io|=4,ii.current=null,az(e,n),aX(e,n,a),H(e.containerInfo),e.current=n,aY(n,e,a),tD(),io=o,tP=l,il.transition=i}else e.current=n;if(iT&&(iT=!1,iC=e,iR=a),0===(i=e.pendingLanes)&&(ik=null),tW(n.stateNode,r),iB(e,tF()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(iE)throw iE=!1,e=iM,iM=null,e;return 0!=(1&iR)&&0!==e.tag&&i5(),0!=(1&(i=e.pendingLanes))?e===iA?iP++:(iP=0,iA=e):iP=0,tZ(),null}function i5(){if(null!==iC){var e=tA(iR),t=il.transition,r=tP;try{if(il.transition=null,tP=16>e?16:e,null===iC)var n=!1;else{if(e=iC,iC=null,iR=0,0!=(6&io))throw Error(f(331));var a=io;for(io|=4,aP=e.current;null!==aP;){var i=aP,l=i.child;if(0!=(16&aP.flags)){var o=i.deletions;if(null!==o){for(var u=0;u<o.length;u++){var s=o[u];for(aP=s;null!==aP;){var c=aP;switch(c.tag){case 0:case 11:case 15:aD(8,c,i)}var d=c.child;if(null!==d)d.return=c,aP=d;else for(;null!==aP;){var h=(c=aP).sibling,p=c.return;if(aO(c),c===s){aP=null;break}if(null!==h){h.return=p,aP=h;break}aP=p}}}var v=i.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}aP=i}}if(0!=(2064&i.subtreeFlags)&&null!==l)l.return=i,aP=l;else for(;null!==aP;){if(i=aP,0!=(2048&i.flags))switch(i.tag){case 0:case 11:case 15:aD(9,i,i.return)}var y=i.sibling;if(null!==y){y.return=i.return,aP=y;break}aP=i.return}}var b=e.current;for(aP=b;null!==aP;){var w=(l=aP).child;if(0!=(2064&l.subtreeFlags)&&null!==w)w.return=l,aP=w;else for(l=b;null!==aP;){if(o=aP,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:aF(9,o)}}catch(e){i6(o,o.return,e)}if(o===l){aP=null;break}var x=o.sibling;if(null!==x){x.return=o.return,aP=x;break}aP=o.return}}if(io=a,tZ(),tH&&"function"==typeof tH.onPostCommitFiberRoot)try{tH.onPostCommitFiberRoot(tj,e)}catch(e){}n=!0}return n}finally{tP=r,il.transition=t}}return!1}function i4(e,t,r){t=n1(e,t=nZ(r,t),1),ro(e,t),t=iz(),null!==(e=iL(e,1))&&(tT(e,1,t),iB(e,t))}function i6(e,t,r){if(3===e.tag)i4(e,e,r);else for(;null!==t;){if(3===t.tag){i4(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===ik||!ik.has(n))){e=n0(t,e=nZ(r,e),1),ro(t,e),e=iz(),null!==(t=iL(t,1))&&(tT(t,1,e),iB(t,e));break}}t=t.return}}function i8(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=iz(),e.pingedLanes|=e.suspendedLanes&r,iu===e&&(ic&r)===r&&(4===ip||3===ip&&(130023424&ic)===ic&&500>tF()-ix?iG(e,0):iy|=r),iB(e,t)}function i7(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tw,0==(130023424&(tw<<=1))&&(tw=4194304)));var r=iz();null!==(e=iL(e,t))&&(tT(e,t,r),iB(e,r))}function i9(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),i7(e,r)}function le(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(f(314))}null!==n&&n.delete(t),i7(e,r)}function lt(e,t){return tU(e,t)}function lr(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,r,n){return new lr(e,t,r,n)}function la(e){return!(!(e=e.prototype)||!e.isReactComponent)}function li(e){if("function"==typeof e)return la(e)?1:0;if(null!=e){if((e=e.$$typeof)===w)return 11;if(e===S)return 14}return 2}function ll(e,t){var r=e.alternate;return null===r?((r=ln(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function lo(e,t,r,n,a,i){var l=2;if(n=e,"function"==typeof e)la(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case v:return lu(r.children,a,i,t);case m:l=8,a|=8;break;case g:return(e=ln(12,r,t,2|a)).elementType=g,e.lanes=i,e;case x:return(e=ln(13,r,t,a)).elementType=x,e.lanes=i,e;case _:return(e=ln(19,r,t,a)).elementType=_,e.lanes=i,e;case M:return ls(r,a,i,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case y:l=10;break e;case b:l=9;break e;case w:l=11;break e;case S:l=14;break e;case E:l=16,n=null;break e}throw Error(f(130,null==e?e:typeof e,""))}return(t=ln(l,r,t,a)).elementType=e,t.type=n,t.lanes=i,t}function lu(e,t,r,n){return(e=ln(7,e,n,t)).lanes=r,e}function ls(e,t,r,n){return(e=ln(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={},e}function lc(e,t,r){return(e=ln(6,e,null,t)).lanes=r,e}function lf(e,t,r){return(t=ln(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ld(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Z,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tk(0),this.expirationTimes=tk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tk(0),this.identifierPrefix=n,this.onRecoverableError=a,et&&(this.mutableSourceEagerHydrationData=null)}function lh(e,t,r,n,a,i,l,o,u){return e=new ld(e,t,r,o,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null},ra(i),e}function lp(e){if(!e)return ta;e=e._reactInternals;e:{if(P(e)!==e||1!==e.tag)throw Error(f(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ts(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(f(171))}if(1===e.tag){var r=e.type;if(ts(r))return td(e,r,t)}return t}function lv(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(f(188));throw Error(f(268,e=Object.keys(e).join(",")))}return null===(e=I(t))?null:e.stateNode}function lm(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function lg(e,t){lm(e,t),(e=e.alternate)&&lm(e,t)}function ly(e){return null===(e=I(e))?null:e.stateNode}function lb(){return null}return l=function(e,t,r){if(null!==e){if(e.memoizedProps!==t.pendingProps||tl.current)ar=!0;else{if(0==(e.lanes&r)&&0==(128&t.flags))return ar=!1,aM(e,t,r);ar=0!=(131072&e.flags)}}else ar=!1,rz&&0!=(1048576&t.flags)&&rR(t,r_,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var a=tu(t,ti.current);re(t,r),a=nd(null,t,n,e,a,r);var i=nh();return t.flags|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ts(n)?(i=!0,th(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ra(t),a.updater=rp,t.stateNode=a,a._reactInternals=t,ry(t,n,e,r),t=af(null,t,n,!0,i,r)):(t.tag=0,rz&&i&&rP(t),an(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=li(n),e=t0(n,e),a){case 0:t=as(null,t,n,e,r);break e;case 1:t=ac(null,t,n,e,r);break e;case 11:t=aa(null,t,n,e,r);break e;case 14:t=ai(null,t,n,t0(n.type,e),r);break e}throw Error(f(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:t0(n,a),as(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:t0(n,a),ac(e,t,n,a,r);case 3:e:{if(ad(t),null===e)throw Error(f(387));n=t.pendingProps,a=(i=t.memoizedState).element,ri(e,t),rc(t,n,null,r);var l=t.memoizedState;if(n=l.element,et&&i.isDehydrated){if(i={element:n,isDehydrated:!1,cache:l.cache,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=ah(e,t,n,r,a=Error(f(423)));break e}if(n!==a){t=ah(e,t,n,r,a=Error(f(424)));break e}for(et&&(rI=e$(t.stateNode.containerInfo),rU=t,rz=!0,rF=null,rD=!1),r=rY(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(rW(),n===a){t=aE(e,t,r);break e}an(e,t,n,r)}t=t.child}return t;case 5:return r5(t),null===e&&rO(t),n=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,G(n,a)?l=null:null!==i&&G(n,i)&&(t.flags|=32),au(e,t),an(e,t,l,r),t.child;case 6:return null===e&&rO(t),null;case 13:return am(e,t,r);case 4:return r2(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=rX(t,null,n,r):an(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:t0(n,a),aa(e,t,n,a,r);case 7:return an(e,t,t.pendingProps,r),t.child;case 8:case 12:return an(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,t8(t,n,l=a.value),null!==i){if(tq(i.value,l)){if(i.children===a.children&&!tl.current){t=aE(e,t,r);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var u=o.firstContext;null!==u;){if(u.context===n){if(1===i.tag){(u=rl(-1,r&-r)).tag=2;var s=i.updateQueue;if(null!==s){var c=(s=s.shared).pending;null===c?u.next=u:(u.next=c.next,c.next=u),s.pending=u}}i.lanes|=r,null!==(u=i.alternate)&&(u.lanes|=r),t9(i.return,r,t),o.lanes|=r;break}u=u.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(f(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),t9(l,r,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}}an(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,re(t,r),n=n(a=rt(a)),t.flags|=1,an(e,t,n,r),t.child;case 14:return a=t0(n=t.type,t.pendingProps),a=t0(n.type,a),ai(e,t,n,a,r);case 15:return al(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:t0(n,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ts(n)?(e=!0,th(t)):e=!1,re(t,r),rm(t,n,a),ry(t,n,a,r),af(null,t,n,!0,e,r);case 19:return aS(e,t,r);case 22:return ao(e,t,r)}throw Error(f(156,t.tag))},o.attemptContinuousHydration=function(e){13===e.tag&&(iF(e,134217728,iz()),lg(e,134217728))},o.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=iz(),r=iD(e);iF(e,r,t),lg(e,r)}},o.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=tx(t.pendingLanes);0!==r&&(tR(t,1|r),iB(t,tF()),0==(6&io)&&(iS(),tZ()))}break;case 13:var n=iz();iq(function(){return iF(e,1,n)}),lg(e,1)}},o.batchedUpdates=function(e,t){var r=io;io|=1;try{return e(t)}finally{0===(io=r)&&(iS(),tG&&tZ())}},o.createComponentSelector=function(e){return{$$typeof:a0,value:e}},o.createContainer=function(e,t,r,n,a,i,l){return lh(e,t,!1,null,r,n,a,i,l)},o.createHasPseudoClassSelector=function(e){return{$$typeof:a2,value:e}},o.createHydrationContainer=function(e,t,r,n,a,i,l,o,u){return(e=lh(r,n,!0,e,a,i,l,o,u)).context=lp(null),r=e.current,(i=rl(n=iz(),a=iD(r))).callback=null!=t?t:null,ro(r,i),e.current.lanes=a,tT(e,a,n),iB(e,n),e},o.createPortal=function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:p,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}},o.createRoleSelector=function(e){return{$$typeof:a3,value:e}},o.createTestNameSelector=function(e){return{$$typeof:a5,value:e}},o.createTextSelector=function(e){return{$$typeof:a4,value:e}},o.deferredUpdates=function(e){var t=tP,r=il.transition;try{return il.transition=null,tP=16,e()}finally{tP=t,il.transition=r}},o.discreteUpdates=function(e,t,r,n,a){var i=tP,l=il.transition;try{return il.transition=null,tP=1,e(t,r,n,a)}finally{tP=i,il.transition=l,0===io&&iS()}},o.findAllNodes=it,o.findBoundingRects=function(e,t){if(!eu)throw Error(f(363));t=it(e,t),e=[];for(var r=0;r<t.length;r++)e.push(ec(t[r]));for(t=e.length-1;0<t;t--){r=e[t];for(var n=r.x,a=n+r.width,i=r.y,l=i+r.height,o=t-1;0<=o;o--)if(t!==o){var u=e[o],s=u.x,c=s+u.width,d=u.y,h=d+u.height;if(n>=s&&i>=d&&a<=c&&l<=h){e.splice(t,1);break}if(n!==s||r.width!==u.width||h<i||d>l){if(!(i!==d||r.height!==u.height||c<n||s>a)){s>n&&(u.width+=s-n,u.x=n),c<a&&(u.width=a-s),e.splice(t,1);break}}else{d>i&&(u.height+=d-i,u.y=i),h<l&&(u.height=l-d),e.splice(t,1);break}}}return e},o.findHostInstance=lv,o.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=U(e))?D(e):null)?null:e.stateNode},o.findHostInstanceWithWarning=function(e){return lv(e)},o.flushControlled=function(e){var t=io;io|=1;var r=il.transition,n=tP;try{il.transition=null,tP=1,e()}finally{tP=n,il.transition=r,0===(io=t)&&(iS(),tZ())}},o.flushPassiveEffects=i5,o.flushSync=iq,o.focusWithin=function(e,t){if(!eu)throw Error(f(363));for(t=Array.from(t=ie(e=a8(e),t)),e=0;e<t.length;){var r=t[e++];if(!ed(r)){if(5===r.tag&&ep(r.stateNode))return!0;for(r=r.child;null!==r;)t.push(r),r=r.sibling}}return!1},o.getCurrentUpdatePriority=function(){return tP},o.getFindAllNodesFailureDescription=function(e,t){if(!eu)throw Error(f(363));var r=0,n=[];e=[a8(e),0];for(var a=0;a<e.length;){var i=e[a++],l=e[a++],o=t[l];if((5!==i.tag||!ed(i))&&(a7(i,o)&&(n.push(a9(o)),++l>r&&(r=l)),l<t.length))for(i=i.child;null!==i;)e.push(i,l),i=i.sibling}if(r<t.length){for(e=[];r<t.length;r++)e.push(a9(t[r]));return"findAllNodes was able to match part of the selector:\n  "+n.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},o.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?B(e.child.stateNode):e.child.stateNode:null},o.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:d.ReactCurrentDispatcher,findHostInstanceByFiber:ly,findFiberByHostInstance:e.findFiberByHostInstance||lb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{tj=t.inject(e),tH=t}catch(e){}e=!!t.checkDCE}}return e},o.isAlreadyRendering=function(){return!1},o.observeVisibleRects=function(e,t,r,n){if(!eu)throw Error(f(363));var a=ev(e=it(e,t),r,n).disconnect;return{disconnect:function(){a()}}},o.registerMutableSourceForHydration=function(e,t){var r=t._getVersion;r=r(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r)},o.runWithPriority=function(e,t){var r=tP;try{return tP=e,t()}finally{tP=r}},o.shouldError=function(){return null},o.shouldSuspend=function(){return!1},o.updateContainer=function(e,t,r,n){var a=t.current,i=iz(),l=iD(a);return r=lp(r),null===t.context?t.context=r:t.pendingContext=r,(t=rl(i,l)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),ro(a,t),null!==(e=iF(a,l,i))&&ru(e,a,l),l},o}},2777:function(e,t,r){"use strict";e.exports=r(4008)},1543:function(e,t,r){"use strict";e.exports=r(4185)},3361:function(e,t){"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function r(e,t){var r=e.length;for(e.push(t);0<r;){var n=r-1>>>1,a=e[n];if(0<i(a,t))e[n]=t,e[r]=a,r=n;else break}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var n=0,a=e.length,l=a>>>1;n<l;){var o=2*(n+1)-1,u=e[o],s=o+1,c=e[s];if(0>i(u,r))s<a&&0>i(c,u)?(e[n]=c,e[s]=r,n=s):(e[n]=u,e[o]=r,n=o);else if(s<a&&0>i(c,r))e[n]=c,e[s]=r,n=s;else break}}return t}function i(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var l,o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],f=[],d=1,h=null,p=3,v=!1,m=!1,g=!1,y="function"==typeof setTimeout?setTimeout:null,b="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=n(f);null!==t;){if(null===t.callback)a(f);else if(t.startTime<=e)a(f),t.sortIndex=t.expirationTime,r(c,t);else break;t=n(f)}}function _(e){if(g=!1,x(e),!m){if(null!==n(c))m=!0,I(S);else{var t=n(f);null!==t&&z(_,t.startTime-e)}}}function S(e,r){m=!1,g&&(g=!1,b(k),k=-1),v=!0;var i=p;try{for(x(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!R());){var l=h.callback;if("function"==typeof l){h.callback=null,p=h.priorityLevel;var o=l(h.expirationTime<=r);r=t.unstable_now(),"function"==typeof o?h.callback=o:h===n(c)&&a(c),x(r)}else a(c);h=n(c)}if(null!==h)var u=!0;else{var s=n(f);null!==s&&z(_,s.startTime-r),u=!1}return u}finally{h=null,p=i,v=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E=!1,M=null,k=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function P(){if(null!==M){var e=t.unstable_now();C=e;var r=!0;try{r=M(!0,e)}finally{r?l():(E=!1,M=null)}}else E=!1}if("function"==typeof w)l=function(){w(P)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,U=A.port2;A.port1.onmessage=P,l=function(){U.postMessage(null)}}else l=function(){y(P,0)};function I(e){M=e,E||(E=!0,l())}function z(e,r){k=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||v||(m=!0,I(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,a,i){var l=t.unstable_now();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?l+i:l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=i+o,e={id:d++,callback:a,priorityLevel:e,startTime:i,expirationTime:o,sortIndex:-1},i>l?(e.sortIndex=i,r(f,e),null===n(c)&&e===n(f)&&(g?(b(k),k=-1):g=!0,z(_,i-l))):(e.sortIndex=o,r(c,e),m||v||(m=!0,I(S))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},3932:function(e,t,r){"use strict";e.exports=r(3361)},9429:function(e,t,r){"use strict";r.d(t,{MA:function(){return u},Rq:function(){return o},ZH:function(){return s}});let n=e=>"object"==typeof e&&"function"==typeof e.then,a=[];function i(e,t,r=(e,t)=>e===t){if(e===t)return!0;if(!e||!t)return!1;let n=e.length;if(t.length!==n)return!1;for(let a=0;a<n;a++)if(!r(e[a],t[a]))return!1;return!0}function l(e,t=null,r=!1,l={}){for(let n of(null===t&&(t=[e]),a))if(i(t,n.keys,n.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(n,"error"))throw n.error;if(Object.prototype.hasOwnProperty.call(n,"response"))return l.lifespan&&l.lifespan>0&&(n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(n.remove,l.lifespan)),n.response;if(!r)throw n.promise}let o={keys:t,equal:l.equal,remove:()=>{let e=a.indexOf(o);-1!==e&&a.splice(e,1)},promise:(n(e)?e:e(...t)).then(e=>{o.response=e,l.lifespan&&l.lifespan>0&&(o.timeout=setTimeout(o.remove,l.lifespan))}).catch(e=>o.error=e)};if(a.push(o),!r)throw o.promise}let o=(e,t,r)=>l(e,t,!1,r),u=(e,t,r)=>void l(e,t,!0,r),s=e=>{if(void 0===e||0===e.length)a.splice(0,a.length);else{let t=a.find(t=>i(e,t.keys,t.equal));t&&t.remove()}}},7502:function(e,t,r){"use strict";r.d(t,{B$:function(){return h},MW:function(){return a}});var n=r(7776);let a=/\bvoid\s+main\s*\(\s*\)\s*{/g;function i(e){let t=/^[ \t]*#include +<([\w\d./]+)>/gm;function r(e,t){let r=n.ShaderChunk[t];return r?i(r):e}return e.replace(t,r)}let l=[];for(let e=0;e<256;e++)l[e]=(e<16?"0":"")+e.toString(16);function o(){let e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(l[255&e]+l[e>>8&255]+l[e>>16&255]+l[e>>24&255]+"-"+l[255&t]+l[t>>8&255]+"-"+l[t>>16&15|64]+l[t>>24&255]+"-"+l[63&r|128]+l[r>>8&255]+"-"+l[r>>16&255]+l[r>>24&255]+l[255&n]+l[n>>8&255]+l[n>>16&255]+l[n>>24&255]).toUpperCase()}let u=Object.assign||function(){let e=arguments[0];for(let t=1,r=arguments.length;t<r;t++){let r=arguments[t];if(r)for(let t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},s=Date.now(),c=new WeakMap,f=new Map,d=1e10;function h(e,t){let r=b(t),a=c.get(e);if(a||c.set(e,a=Object.create(null)),a[r])return new a[r];let i=`_onBeforeCompile${r}`,l=function(n,a){e.onBeforeCompile.call(this,n,a);let l=this.customProgramCacheKey()+"|"+n.vertexShader+"|"+n.fragmentShader,o=f[l];if(!o){let e=p(this,n,t,r);o=f[l]=e}n.vertexShader=o.vertexShader,n.fragmentShader=o.fragmentShader,u(n.uniforms,this.uniforms),t.timeUniform&&(n.uniforms[t.timeUniform]={get value(){return Date.now()-s}}),this[i]&&this[i](n)},v=function(){return m(t.chained?e:e.clone())},m=function(n){let a=Object.create(n,g);return Object.defineProperty(a,"baseMaterial",{value:e}),Object.defineProperty(a,"id",{value:d++}),a.uuid=o(),a.uniforms=u({},n.uniforms,t.uniforms),a.defines=u({},n.defines,t.defines),a.defines[`TROIKA_DERIVED_MATERIAL_${r}`]="",a.extensions=u({},n.extensions,t.extensions),a._listeners=void 0,a},g={constructor:{value:v},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+r}},onBeforeCompile:{get:()=>l,set(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(u(this.extensions,t.extensions),u(this.defines,t.defines),u(this.uniforms,n.UniformsUtils.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){return m(new e.constructor).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let r=this._depthMaterial;return r||((r=this._depthMaterial=h(e.isDerivedMaterial?e.getDepthMaterial():new n.MeshDepthMaterial({depthPacking:n.RGBADepthPacking}),t)).defines.IS_DEPTH_MATERIAL="",r.uniforms=this.uniforms),r}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let r=this._distanceMaterial;return r||((r=this._distanceMaterial=h(e.isDerivedMaterial?e.getDistanceMaterial():new n.MeshDistanceMaterial,t)).defines.IS_DISTANCE_MATERIAL="",r.uniforms=this.uniforms),r}},dispose:{writable:!0,configurable:!0,value(){let{_depthMaterial:t,_distanceMaterial:r}=this;t&&t.dispose(),r&&r.dispose(),e.dispose.call(this)}}};return a[r]=v,new v}function p(e,{vertexShader:t,fragmentShader:r},n,a){let{vertexDefs:l,vertexMainIntro:o,vertexMainOutro:u,vertexTransform:s,fragmentDefs:c,fragmentMainIntro:f,fragmentMainOutro:d,fragmentColorTransform:h,customRewriter:p,timeUniform:m}=n;if(l=l||"",o=o||"",u=u||"",c=c||"",f=f||"",d=d||"",(s||p)&&(t=i(t)),(h||p)&&(r=i(r=r.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),p){let e=p({vertexShader:t,fragmentShader:r});t=e.vertexShader,r=e.fragmentShader}if(h){let e=[];r=r.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,t=>(e.push(t),"")),d=`${h}
${e.join("\n")}
${d}`}if(m){let e=`
uniform float ${m};
`;l=e+l,c=e+c}return s&&(t=`vec3 troika_position_${a};
vec3 troika_normal_${a};
vec2 troika_uv_${a};
${t}
`,l=`${l}
void troikaVertexTransform${a}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${s}
}
`,o=`
troika_position_${a} = vec3(position);
troika_normal_${a} = vec3(normal);
troika_uv_${a} = vec2(uv);
troikaVertexTransform${a}(troika_position_${a}, troika_normal_${a}, troika_uv_${a});
${o}
`,t=t.replace(/\b(position|normal|uv)\b/g,(e,t,r,n)=>/\battribute\s+vec[23]\s+$/.test(n.substr(0,r))?t:`troika_${t}_${a}`),e.map&&e.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${a}`))),{vertexShader:t=v(t,a,l,o,u),fragmentShader:r=v(r,a,c,f,d)}}function v(e,t,r,n,i){return(n||i||r)&&(e=e.replace(a,`
${r}
void troikaOrigMain${t}() {`)+`
void main() {
  ${n}
  troikaOrigMain${t}();
  ${i}
}`),e}function m(e,t){return"uniforms"===e?void 0:"function"==typeof t?t.toString():t}let g=0,y=new Map;function b(e){let t=JSON.stringify(e,m),r=y.get(t);return null==r&&y.set(t,r=++g),r}n.DoubleSide},1640:function(e,t,r){"use strict";function n(){var e=Object.create(null);function t(r,a){var i=r.id,l=r.name,o=r.dependencies;void 0===o&&(o=[]);var u=r.init;void 0===u&&(u=function(){});var s=r.getTransferables;if(void 0===s&&(s=null),!e[i])try{o=o.map(function(r){return r&&r.isWorkerModule&&(t(r,function(e){if(e instanceof Error)throw e}),r=e[r.id].value),r}),u=n("<"+l+">.init",u),s&&(s=n("<"+l+">.getTransferables",s));var c=null;"function"==typeof u?c=u.apply(void 0,o):console.error("worker module init function failed to rehydrate"),e[i]={id:i,value:c,getTransferables:s},a(c)}catch(e){e&&e.noLog||console.error(e),a(e)}}function r(t,r){var n,a=t.id,i=t.args;e[a]&&"function"==typeof e[a].value||r(Error("Worker module "+a+": not found or its 'init' did not return a function"));try{var l=(n=e[a]).value.apply(n,i);l&&"function"==typeof l.then?l.then(o,function(e){return r(e instanceof Error?e:Error(""+e))}):o(l)}catch(e){r(e)}function o(t){try{var n=e[a].getTransferables&&e[a].getTransferables(t);n&&Array.isArray(n)&&n.length||(n=void 0),r(t,n)}catch(e){console.error(e),r(e)}}}function n(e,t){var r=void 0;self.troikaDefine=function(e){return r=e};var n=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(n)}catch(e){console.error(e)}return URL.revokeObjectURL(n),delete self.troikaDefine,r}self.addEventListener("message",function(e){var n=e.data,a=n.messageId,i=n.action,l=n.data;try{"registerModule"===i&&t(l,function(e){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:{isCallable:"function"==typeof e}})}),"callModule"===i&&r(l,function(e,t){e instanceof Error?postMessage({messageId:a,success:!1,error:e.message}):postMessage({messageId:a,success:!0,result:e},t||void 0)})}catch(e){postMessage({messageId:a,success:!1,error:e.stack})}})}function a(e){var t=function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return t._getInitResult().then(function(t){if("function"==typeof t)return t.apply(void 0,e);throw Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var r=e.dependencies,n=e.init,a=Promise.all(r=Array.isArray(r)?r.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[]).then(function(e){return n.apply(null,e)});return t._getInitResult=function(){return a},a},t}r.d(t,{Ae:function(){return h},Ch:function(){return d}}),r(357);var i=function(){var e=!1;if("undefined"!=typeof window&&void 0!==window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(e){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+e.message+"]")}return i=function(){return e},e},l=0,o=0,u=!1,s=Object.create(null),c=Object.create(null),f=Object.create(null);function d(e){if((!e||"function"!=typeof e.init)&&!u)throw Error("requires `options.init` function");var t=e.dependencies,r=e.init,n=e.getTransferables,o=e.workerId;if(!i())return a(e);null==o&&(o="#default");var s="workerModule"+ ++l,f=e.name||s,h=null;function v(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!h){h=m(o,"registerModule",v.workerModuleData);var r=function(){h=null,c[o].delete(r)};(c[o]||(c[o]=new Set)).add(r)}return h.then(function(t){if(t.isCallable)return m(o,"callModule",{id:s,args:e});throw Error("Worker module function was called but `init` did not return a callable function")})}return t=t&&t.map(function(e){return"function"!=typeof e||e.workerModuleData||(u=!0,e=d({workerId:o,name:"<"+f+"> function dependency: "+e.name,init:"function(){return (\n"+p(e)+"\n)}"}),u=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e}),v.workerModuleData={isWorkerModule:!0,id:s,name:f,dependencies:t,init:p(r),getTransferables:n&&p(n)},v}function h(e){c[e]&&c[e].forEach(function(e){e()}),s[e]&&(s[e].terminate(),delete s[e])}function p(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function v(e){var t=s[e];if(!t){var r=p(n);(t=s[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+r+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,r=t.messageId,n=f[r];if(!n)throw Error("WorkerModule response with empty or unknown messageId");delete f[r],n(t)}}return t}function m(e,t,r){return new Promise(function(n,a){var i=++o;f[i]=function(e){e.success?n(e.result):a(Error("Error in worker "+t+" call: "+e.error))},v(e).postMessage({messageId:i,action:t,data:r})})}},4492:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265);function a(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var i="function"==typeof Object.is?Object.is:a,l=n.useState,o=n.useEffect,u=n.useLayoutEffect,s=n.useDebugValue;function c(e,t){var r=t(),n=l({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return u(function(){a.value=r,a.getSnapshot=t,f(a)&&i({inst:a})},[e,r,t]),o(function(){return f(a)&&i({inst:a}),e(function(){f(a)&&i({inst:a})})},[e]),s(r),r}function f(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(e){return!0}}function d(e,t){return t()}var h="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?d:c;t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:h},554:function(e,t,r){"use strict";e.exports=r(4492)},2878:function(e,t,r){var n=r(1674),a=new Uint8Array(0);function i(e,t,r){if("string"!=typeof e)throw TypeError("Value must be string");if("number"==typeof t)return i(e,void 0,t);if(null==r)return i(e,t,5);if(3!==r&&5!==r)throw TypeError("Version of UUID can be only 3 or 5");var l=n.stringToCharBuffer(e),o="string"==typeof t?n.parseUuid(t):a,u=n.concatBuffers(o,l),s=3===r?n.md5Hash(u):n.sha1Hash(u);return n.hashToUuid(s,r)}e.exports=i},1674:function(e,t,r){var n=r(2300),a=r(5795),i="0123456789abcdef".split(""),l=36,o=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,u=function(){for(var e={},t=0;t<256;t++){var r=t.toString(16);e[1===r.length?"0"+r:r]=t}return e}(),s=function(e){var t=e>>4,r=e-(t<<4);return i[t]+i[r]},c=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r]);return t},f=function(e){for(var t=unescape(encodeURIComponent(e)),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t[n].charCodeAt(0);return r},d=function(e){return new Uint8Array(n.arrayBuffer(e))},h=function(e){return new Uint8Array(a.arrayBuffer(e))},p=function(e,t){var r=new Uint8Array(e.length+t.length);return r.set(new Uint8Array(e),0),r.set(new Uint8Array(t),e.byteLength),r},v=function(e){return"string"==typeof e&&e.length===l&&o.test(e)},m=function(e){if(!v(e))throw TypeError("Invalid UUID");for(var t=new Uint8Array(16),r=0,n=0;r<e.length;){if("-"===e[r]){r++;continue}var a=(e[r]+e[r+1]).toLowerCase();t[n]=u[a],n++,r+=2}return t},g=function(e,t){return c(e.slice(0,4))+"-"+c(e.slice(4,6))+"-"+s(15&e[6]|parseInt(10*t,16))+s(e[7])+"-"+s(63&e[8]|128)+s(e[9])+"-"+c(e.slice(10,16))};e.exports={uint8ToHex:s,uint8ArrayToHex:c,stringToCharBuffer:f,md5Hash:d,sha1Hash:h,concatBuffers:p,validateUuid:v,parseUuid:m,hashToUuid:g}},2988:function(e,t,r){"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(null,arguments)}r.d(t,{Z:function(){return n}})},5097:function(e,t){"use strict";function r(){return function(e){var t,r,n,a,i={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},l={},o={};l.L=1,o[1]="L",Object.keys(i).forEach(function(e,t){l[e]=1<<t+1,o[l[e]]=e}),Object.freeze(l);var u=l.LRI|l.RLI|l.FSI,s=l.L|l.R|l.AL,c=l.B|l.S|l.WS|l.ON|l.FSI|l.LRI|l.RLI|l.PDI,f=l.BN|l.RLE|l.LRE|l.RLO|l.LRO|l.PDF,d=l.S|l.WS|l.B|u|l.PDI|f,h=null;function p(){if(!h){h=new Map;var e=function(e){if(i.hasOwnProperty(e)){var t=0;i[e].split(",").forEach(function(r){var n=r.split("+"),a=n[0],i=n[1];a=parseInt(a,36),i=i?parseInt(i,36):0,h.set(t+=a,l[e]);for(var o=0;o<i;o++)h.set(++t,l[e])})}};for(var t in i)e(t)}}function v(e){return p(),h.get(e.codePointAt(0))||l.L}function m(e){return o[v(e)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(e,t){var r,n=36,a=0,i=new Map,l=t&&new Map;return e.split(",").forEach(function e(o){if(-1!==o.indexOf("+"))for(var u=+o;u--;)e(r);else{r=o;var s=o.split(">"),c=s[0],f=s[1];c=String.fromCodePoint(a+=parseInt(c,n)),f=String.fromCodePoint(a+=parseInt(f,n)),i.set(c,f),t&&l.set(f,c)}}),{map:i,reverseMap:l}}function b(){if(!t){var e=y(g.pairs,!0),a=e.map,i=e.reverseMap;t=a,r=i,n=y(g.canonical,!1).map}}function w(e){return b(),t.get(e)||null}function x(e){return b(),r.get(e)||null}function _(e){return b(),n.get(e)||null}var S=l.L,E=l.R,M=l.EN,k=l.ES,T=l.ET,C=l.AN,R=l.CS,P=l.B,A=l.S,U=l.ON,I=l.BN,z=l.NSM,D=l.AL,F=l.LRO,L=l.RLO,B=l.LRE,N=l.RLE,O=l.PDF,j=l.LRI,H=l.RLI,W=l.FSI,V=l.PDI;function q(e,t){for(var r=125,n=new Uint32Array(e.length),a=0;a<e.length;a++)n[a]=v(e[a]);var i=new Map;function l(e,t){var r=n[e];n[e]=t,i.set(r,i.get(r)-1),r&c&&i.set(c,i.get(c)-1),i.set(t,(i.get(t)||0)+1),t&c&&i.set(c,(i.get(c)||0)+1)}for(var o=new Uint8Array(e.length),h=new Map,p=[],m=null,g=0;g<e.length;g++)m||p.push(m={start:g,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:tA(g,!1)}),n[g]&P&&(m.end=g,m=null);for(var y=N|B|L|F|u|V|O|P,b=function(e){return e+(1&e?1:2)},q=function(e){return e+(1&e?2:1)},$=0;$<p.length;$++){var G=[{_level:(m=p[$]).level,_override:0,_isolate:0}],Q=void 0,X=0,Y=0,Z=0;i.clear();for(var J=m.start;J<=m.end;J++){var K=n[J];if(Q=G[G.length-1],i.set(K,(i.get(K)||0)+1),K&c&&i.set(c,(i.get(c)||0)+1),K&y){if(K&(N|B)){o[J]=Q._level;var ee=(K===N?q:b)(Q._level);!(ee<=r)||X||Y?!X&&Y++:G.push({_level:ee,_override:0,_isolate:0})}else if(K&(L|F)){o[J]=Q._level;var et=(K===L?q:b)(Q._level);!(et<=r)||X||Y?!X&&Y++:G.push({_level:et,_override:K&L?E:S,_isolate:0})}else if(K&u){K&W&&(K=1===tA(J+1,!0)?H:j),o[J]=Q._level,Q._override&&l(J,Q._override);var er=(K===H?q:b)(Q._level);er<=r&&0===X&&0===Y?(Z++,G.push({_level:er,_override:0,_isolate:1,_isolInitIndex:J})):X++}else if(K&V){if(X>0)X--;else if(Z>0){for(Y=0;!G[G.length-1]._isolate;)G.pop();var en=G[G.length-1]._isolInitIndex;null!=en&&(h.set(en,J),h.set(J,en)),G.pop(),Z--}Q=G[G.length-1],o[J]=Q._level,Q._override&&l(J,Q._override)}else K&O?(0===X&&(Y>0?Y--:!Q._isolate&&G.length>1&&(G.pop(),Q=G[G.length-1])),o[J]=Q._level):K&P&&(o[J]=m.level)}else o[J]=Q._level,Q._override&&K!==I&&l(J,Q._override)}for(var ea=[],ei=null,el=m.start;el<=m.end;el++){var eo=n[el];if(!(eo&f)){var eu=o[el],es=eo&u,ec=eo===V;ei&&eu===ei._level?(ei._end=el,ei._endsWithIsolInit=es):ea.push(ei={_start:el,_end:el,_level:eu,_startsWithPDI:ec,_endsWithIsolInit:es})}}for(var ef=[],ed=0;ed<ea.length;ed++){var eh=ea[ed];if(!eh._startsWithPDI||eh._startsWithPDI&&!h.has(eh._start)){for(var ep=[ei=eh],ev=void 0;ei&&ei._endsWithIsolInit&&null!=(ev=h.get(ei._end));)for(var em=ed+1;em<ea.length;em++)if(ea[em]._start===ev){ep.push(ei=ea[em]);break}for(var eg=[],ey=0;ey<ep.length;ey++)for(var eb=ep[ey],ew=eb._start;ew<=eb._end;ew++)eg.push(ew);for(var ex=o[eg[0]],e_=m.level,eS=eg[0]-1;eS>=0;eS--)if(!(n[eS]&f)){e_=o[eS];break}var eE=eg[eg.length-1],eM=o[eE],ek=m.level;if(!(n[eE]&u)){for(var eT=eE+1;eT<=m.end;eT++)if(!(n[eT]&f)){ek=o[eT];break}}ef.push({_seqIndices:eg,_sosType:Math.max(e_,ex)%2?E:S,_eosType:Math.max(ek,eM)%2?E:S})}}for(var eC=0;eC<ef.length;eC++){var eR=ef[eC],eP=eR._seqIndices,eA=eR._sosType,eU=eR._eosType,eI=1&o[eP[0]]?E:S;if(i.get(z))for(var ez=0;ez<eP.length;ez++){var eD=eP[ez];if(n[eD]&z){for(var eF=eA,eL=ez-1;eL>=0;eL--)if(!(n[eP[eL]]&f)){eF=n[eP[eL]];break}l(eD,eF&(u|V)?U:eF)}}if(i.get(M))for(var eB=0;eB<eP.length;eB++){var eN=eP[eB];if(n[eN]&M)for(var eO=eB-1;eO>=-1;eO--){var ej=-1===eO?eA:n[eP[eO]];if(ej&s){ej===D&&l(eN,C);break}}}if(i.get(D))for(var eH=0;eH<eP.length;eH++){var eW=eP[eH];n[eW]&D&&l(eW,E)}if(i.get(k)||i.get(R))for(var eV=1;eV<eP.length-1;eV++){var eq=eP[eV];if(n[eq]&(k|R)){for(var e$=0,eG=0,eQ=eV-1;eQ>=0&&(e$=n[eP[eQ]])&f;eQ--);for(var eX=eV+1;eX<eP.length&&(eG=n[eP[eX]])&f;eX++);e$===eG&&(n[eq]===k?e$===M:e$&(M|C))&&l(eq,e$)}}if(i.get(M)){for(var eY=0;eY<eP.length;eY++)if(n[eP[eY]]&M){for(var eZ=eY-1;eZ>=0&&n[eP[eZ]]&(T|f);eZ--)l(eP[eZ],M);for(eY++;eY<eP.length&&n[eP[eY]]&(T|f|M);eY++)n[eP[eY]]!==M&&l(eP[eY],M)}}if(i.get(T)||i.get(k)||i.get(R))for(var eJ=0;eJ<eP.length;eJ++){var eK=eP[eJ];if(n[eK]&(T|k|R)){l(eK,U);for(var e1=eJ-1;e1>=0&&n[eP[e1]]&f;e1--)l(eP[e1],U);for(var e0=eJ+1;e0<eP.length&&n[eP[e0]]&f;e0++)l(eP[e0],U)}}if(i.get(M))for(var e2=0,e3=eA;e2<eP.length;e2++){var e5=eP[e2],e4=n[e5];e4&M?e3===S&&l(e5,S):e4&s&&(e3=e4)}if(i.get(c)){for(var e6=E|M|C,e8=e6|S,e7=[],e9=[],te=0;te<eP.length;te++)if(n[eP[te]]&c){var tt=e[eP[te]],tr=void 0;if(null!==w(tt)){if(e9.length<63)e9.push({char:tt,seqIndex:te});else break}else if(null!==(tr=x(tt)))for(var tn=e9.length-1;tn>=0;tn--){var ta=e9[tn].char;if(ta===tr||ta===x(_(tt))||w(_(ta))===tt){e7.push([e9[tn].seqIndex,te]),e9.length=tn;break}}}e7.sort(function(e,t){return e[0]-t[0]});for(var ti=0;ti<e7.length;ti++){for(var tl=e7[ti],to=tl[0],tu=tl[1],ts=!1,tc=0,tf=to+1;tf<tu;tf++){var td=eP[tf];if(n[td]&e8){ts=!0;var th=n[td]&e6?E:S;if(th===eI){tc=th;break}}}if(ts&&!tc){tc=eA;for(var tp=to-1;tp>=0;tp--){var tv=eP[tp];if(n[tv]&e8){var tm=n[tv]&e6?E:S;tc=tm!==eI?tm:eI;break}}}if(tc){if(n[eP[to]]=n[eP[tu]]=tc,tc!==eI){for(var tg=to+1;tg<eP.length;tg++)if(!(n[eP[tg]]&f)){v(e[eP[tg]])&z&&(n[eP[tg]]=tc);break}}if(tc!==eI){for(var ty=tu+1;ty<eP.length;ty++)if(!(n[eP[ty]]&f)){v(e[eP[ty]])&z&&(n[eP[ty]]=tc);break}}}}for(var tb=0;tb<eP.length;tb++)if(n[eP[tb]]&c){for(var tw=tb,tx=tb,t_=eA,tS=tb-1;tS>=0;tS--)if(n[eP[tS]]&f)tw=tS;else{t_=n[eP[tS]]&e6?E:S;break}for(var tE=eU,tM=tb+1;tM<eP.length;tM++)if(n[eP[tM]]&(c|f))tx=tM;else{tE=n[eP[tM]]&e6?E:S;break}for(var tk=tw;tk<=tx;tk++)n[eP[tk]]=t_===tE?t_:eI;tb=tx}}}for(var tT=m.start;tT<=m.end;tT++){var tC=o[tT],tR=n[tT];if(1&tC?tR&(S|M|C)&&o[tT]++:tR&E?o[tT]++:tR&(C|M)&&(o[tT]+=2),tR&f&&(o[tT]=0===tT?m.level:o[tT-1]),tT===m.end||v(e[tT])&(A|P))for(var tP=tT;tP>=0&&v(e[tP])&d;tP--)o[tP]=m.level}}return{levels:o,paragraphs:p};function tA(t,r){for(var a=t;a<e.length;a++){var i=n[a];if(i&(E|D))return 1;if(i&(P|S)||r&&i===V)break;if(i&u){var l=tU(a);a=-1===l?e.length:l}}return 0}function tU(t){for(var r=1,a=t+1;a<e.length;a++){var i=n[a];if(i&P)break;if(i&V){if(0==--r)return a}else i&u&&r++}return -1}}var $="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1";function G(){if(!a){var e=y($,!0),t=e.map;e.reverseMap.forEach(function(e,r){t.set(r,e)}),a=t}}function Q(e){return G(),a.get(e)||null}function X(e,t,r,n){var a=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(a-1,null==n?a-1:+n);for(var i=new Map,l=r;l<=n;l++)if(1&t[l]){var o=Q(e[l]);null!==o&&i.set(l,o)}return i}function Y(e,t,r,n){var a=e.length;r=Math.max(0,null==r?0:+r),n=Math.min(a-1,null==n?a-1:+n);var i=[];return t.paragraphs.forEach(function(a){var l=Math.max(r,a.start),o=Math.min(n,a.end);if(l<o){for(var u=t.levels.slice(l,o+1),s=o;s>=l&&v(e[s])&d;s--)u[s]=a.level;for(var c=a.level,f=1/0,h=0;h<u.length;h++){var p=u[h];p>c&&(c=p),p<f&&(f=1|p)}for(var m=c;m>=f;m--)for(var g=0;g<u.length;g++)if(u[g]>=m){for(var y=g;g+1<u.length&&u[g+1]>=m;)g++;g>y&&i.push([y+l,g+l])}}}),i}function Z(e,t,r,n){var a=J(e,t,r,n),i=[].concat(e);return a.forEach(function(r,n){i[n]=(1&t.levels[r]?Q(e[r]):null)||e[r]}),i.join("")}function J(e,t,r,n){for(var a=Y(e,t,r,n),i=[],l=0;l<e.length;l++)i[l]=l;return a.forEach(function(e){for(var t=e[0],r=e[1],n=i.slice(t,r+1),a=n.length;a--;)i[r-a]=n[a]}),i}return e.closingToOpeningBracket=x,e.getBidiCharType=v,e.getBidiCharTypeName=m,e.getCanonicalBracket=_,e.getEmbeddingLevels=q,e.getMirroredCharacter=Q,e.getMirroredCharactersMap=X,e.getReorderSegments=Y,e.getReorderedIndices=J,e.getReorderedString=Z,e.openingToClosingBracket=w,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}t.Z=r},3502:function(e,t,r){"use strict";function n(){return function(e){function t(e,t,r,n,a,i,l,o){var u=1-l;o.x=u*u*e+2*u*l*r+l*l*a,o.y=u*u*t+2*u*l*n+l*l*i}function r(e,t,r,n,a,i,l,o,u,s){var c=1-u;s.x=c*c*c*e+3*c*c*u*r+3*c*u*u*a+u*u*u*l,s.y=c*c*c*t+3*c*c*u*n+3*c*u*u*i+u*u*u*o}function n(e,t){for(var r,n,a,i,l,o=/([MLQCZ])([^MLQCZ]*)/g;r=o.exec(e);){var u=r[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(e){return parseFloat(e)});switch(r[1]){case"M":i=n=u[0],l=a=u[1];break;case"L":(u[0]!==i||u[1]!==l)&&t("L",i,l,i=u[0],l=u[1]);break;case"Q":t("Q",i,l,i=u[2],l=u[3],u[0],u[1]);break;case"C":t("C",i,l,i=u[4],l=u[5],u[0],u[1],u[2],u[3]);break;case"Z":(i!==n||l!==a)&&t("L",i,l,n,a)}}}function a(e,a,i){void 0===i&&(i=16);var l={x:0,y:0};n(e,function(e,n,o,u,s,c,f,d,h){switch(e){case"L":a(n,o,u,s);break;case"Q":for(var p=n,v=o,m=1;m<i;m++)t(n,o,c,f,u,s,m/(i-1),l),a(p,v,l.x,l.y),p=l.x,v=l.y;break;case"C":for(var g=n,y=o,b=1;b<i;b++)r(n,o,c,f,d,h,u,s,b/(i-1),l),a(g,y,l.x,l.y),g=l.x,y=l.y}})}var i="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",l="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",o=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(e,t){var r=e.getContext?e.getContext("webgl",u):e,n=o.get(r);if(!n){var a="undefined"!=typeof WebGL2RenderingContext&&r instanceof WebGL2RenderingContext,i={},l={},s={},c=-1,f=[];function d(e){var t=i[e];if(!t&&!(t=i[e]=r.getExtension(e)))throw Error(e+" not supported");return t}function h(e,t){var n=r.createShader(t);return r.shaderSource(n,e),r.compileShader(n),n}function p(e,t,n,i){if(!l[e]){var o={},u={},s=r.createProgram();r.attachShader(s,h(t,r.VERTEX_SHADER)),r.attachShader(s,h(n,r.FRAGMENT_SHADER)),r.linkProgram(s),l[e]={program:s,transaction:function(e){r.useProgram(s),e({setUniform:function(e,t){for(var n=[],a=arguments.length-2;a-- >0;)n[a]=arguments[a+2];var i=u[t]||(u[t]=r.getUniformLocation(s,t));r["uniform"+e].apply(r,[i].concat(n))},setAttribute:function(e,t,n,i,l){var u=o[e];u||(u=o[e]={buf:r.createBuffer(),loc:r.getAttribLocation(s,e),data:null}),r.bindBuffer(r.ARRAY_BUFFER,u.buf),r.vertexAttribPointer(u.loc,t,r.FLOAT,!1,0,0),r.enableVertexAttribArray(u.loc),a?r.vertexAttribDivisor(u.loc,i):d("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(u.loc,i),l!==u.data&&(r.bufferData(r.ARRAY_BUFFER,l,n),u.data=l)}})}}}l[e].transaction(i)}function v(e,t){c++;try{r.activeTexture(r.TEXTURE0+c);var n=s[e];n||(n=s[e]=r.createTexture(),r.bindTexture(r.TEXTURE_2D,n),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST)),r.bindTexture(r.TEXTURE_2D,n),t(n,c)}finally{c--}}function m(e,t,n){var a=r.createFramebuffer();f.push(a),r.bindFramebuffer(r.FRAMEBUFFER,a),r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,e),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e,0);try{n(a)}finally{r.deleteFramebuffer(a),r.bindFramebuffer(r.FRAMEBUFFER,f[--f.length-1]||null)}}function g(){i={},l={},s={},c=-1,f.length=0}r.canvas.addEventListener("webglcontextlost",function(e){g(),e.preventDefault()},!1),o.set(r,n={gl:r,isWebGL2:a,getExtension:d,withProgram:p,withTexture:v,withTextureFramebuffer:m,handleContextLoss:g})}t(n)}function c(e,t,r,n,a,o,u,c){void 0===u&&(u=15),void 0===c&&(c=null),s(e,function(e){var s=e.gl,f=e.withProgram;(0,e.withTexture)("copy",function(e,d){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,a,o,0,s.RGBA,s.UNSIGNED_BYTE,t),f("copy",i,l,function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,s.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",d),s.bindFramebuffer(s.FRAMEBUFFER,c||null),s.disable(s.BLEND),s.colorMask(8&u,4&u,2&u,1&u),s.viewport(r,n,a,o),s.scissor(r,n,a,o),s.drawArrays(s.TRIANGLES,0,3)})})})}function f(e,t,r){var n=e.width,a=e.height;s(e,function(i){var l=i.gl,o=new Uint8Array(n*a*4);l.readPixels(0,0,n,a,l.RGBA,l.UNSIGNED_BYTE,o),e.width=t,e.height=r,c(l,o,0,0,n,a)})}var d=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:c,resizeWebGLCanvasWithoutClearing:f});function h(e,t,r,n,i,l){void 0===l&&(l=1);var o=new Uint8Array(e*t),u=n[2]-n[0],s=n[3]-n[1],c=[];a(r,function(e,t,r,n){c.push({x1:e,y1:t,x2:r,y2:n,minX:Math.min(e,r),minY:Math.min(t,n),maxX:Math.max(e,r),maxY:Math.max(t,n)})}),c.sort(function(e,t){return e.maxX-t.maxX});for(var f=0;f<e;f++)for(var d=0;d<t;d++){var h=v(n[0]+u*(f+.5)/e,n[1]+s*(d+.5)/t),p=Math.pow(1-Math.abs(h)/i,l)/2;h<0&&(p=1-p),p=Math.max(0,Math.min(255,Math.round(255*p))),o[d*e+f]=p}return o;function v(e,t){for(var r=1/0,n=1/0,a=c.length;a--;){var i=c[a];if(i.maxX+n<=e)break;if(e+n>i.minX&&t-n<i.maxY&&t+n>i.minY){var l=m(e,t,i.x1,i.y1,i.x2,i.y2);l<r&&(n=Math.sqrt(r=l))}}return g(e,t)&&(n=-n),n}function g(e,t){for(var r=0,n=c.length;n--;){var a=c[n];if(a.maxX<=e)break;a.y1>t!=a.y2>t&&e<(a.x2-a.x1)*(t-a.y1)/(a.y2-a.y1)+a.x1&&(r+=a.y1<a.y2?1:-1)}return 0!==r}}function p(e,t,r,n,a,i,l,o,u,s){void 0===i&&(i=1),void 0===o&&(o=0),void 0===u&&(u=0),void 0===s&&(s=0),v(e,t,r,n,a,i,l,null,o,u,s)}function v(e,t,r,n,a,i,l,o,u,s,f){void 0===i&&(i=1),void 0===u&&(u=0),void 0===s&&(s=0),void 0===f&&(f=0);for(var d=h(e,t,r,n,a,i),p=new Uint8Array(4*d.length),v=0;v<d.length;v++)p[4*v+f]=d[v];c(l,p,u,s,e,t,1<<3-f,o)}function m(e,t,r,n,a,i){var l=a-r,o=i-n,u=l*l+o*o,s=u?Math.max(0,Math.min(1,((e-r)*l+(t-n)*o)/u)):0,c=e-(r+s*l),f=t-(n+s*o);return c*c+f*f}var g=Object.freeze({__proto__:null,generate:h,generateIntoCanvas:p,generateIntoFramebuffer:v}),y="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",b="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",w="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",x=new Float32Array([0,0,2,0,0,2]),_=null,S=!1,E={},M=new WeakMap;function k(e){if(!S&&!P(e))throw Error("WebGL generation not supported")}function T(e,t,r,n,a,i,l){if(void 0===i&&(i=1),void 0===l&&(l=null),!l&&!(l=_)){var o="function"==typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!=typeof document?document.createElement("canvas"):null;if(!o)throw Error("OffscreenCanvas or DOM canvas not supported");l=_=o.getContext("webgl",{depth:!1})}k(l);var u=new Uint8Array(e*t*4);s(l,function(l){var o=l.gl,s=l.withTexture,c=l.withTextureFramebuffer;s("readable",function(l,s){o.texImage2D(o.TEXTURE_2D,0,o.RGBA,e,t,0,o.RGBA,o.UNSIGNED_BYTE,null),c(l,s,function(l){R(e,t,r,n,a,i,o,l,0,0,0),o.readPixels(0,0,e,t,o.RGBA,o.UNSIGNED_BYTE,u)})})});for(var c=new Uint8Array(e*t),f=0,d=0;f<u.length;f+=4)c[d++]=u[f];return c}function C(e,t,r,n,a,i,l,o,u,s){void 0===i&&(i=1),void 0===o&&(o=0),void 0===u&&(u=0),void 0===s&&(s=0),R(e,t,r,n,a,i,l,null,o,u,s)}function R(e,t,r,n,l,o,u,c,f,d,h){void 0===o&&(o=1),void 0===f&&(f=0),void 0===d&&(d=0),void 0===h&&(h=0),k(u);var p=[];a(r,function(e,t,r,n){p.push(e,t,r,n)}),p=new Float32Array(p),s(u,function(r){var a=r.gl,u=r.isWebGL2,s=r.getExtension,v=r.withProgram,m=r.withTexture,g=r.withTextureFramebuffer,_=r.handleContextLoss;if(m("rawDistances",function(r,m){(e!==r._lastWidth||t!==r._lastHeight)&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,r._lastWidth=e,r._lastHeight=t,0,a.RGBA,a.UNSIGNED_BYTE,null),v("main",y,b,function(i){var c=i.setAttribute,f=i.setUniform,d=!u&&s("ANGLE_instanced_arrays"),h=!u&&s("EXT_blend_minmax");c("aUV",2,a.STATIC_DRAW,0,x),c("aLineSegment",4,a.DYNAMIC_DRAW,1,p),f.apply(void 0,["4f","uGlyphBounds"].concat(n)),f("1f","uMaxDistance",l),f("1f","uExponent",o),g(r,m,function(r){a.enable(a.BLEND),a.colorMask(!0,!0,!0,!0),a.viewport(0,0,e,t),a.scissor(0,0,e,t),a.blendFunc(a.ONE,a.ONE),a.blendEquationSeparate(a.FUNC_ADD,u?a.MAX:h.MAX_EXT),a.clear(a.COLOR_BUFFER_BIT),u?a.drawArraysInstanced(a.TRIANGLES,0,3,p.length/4):d.drawArraysInstancedANGLE(a.TRIANGLES,0,3,p.length/4)})}),v("post",i,w,function(r){r.setAttribute("aUV",2,a.STATIC_DRAW,0,x),r.setUniform("1i","tex",m),a.bindFramebuffer(a.FRAMEBUFFER,c),a.disable(a.BLEND),a.colorMask(0===h,1===h,2===h,3===h),a.viewport(f,d,e,t),a.scissor(f,d,e,t),a.drawArrays(a.TRIANGLES,0,3)})}),a.isContextLost())throw _(),Error("webgl context lost")})}function P(e){var t=e&&e!==_?e.canvas||e:E,r=M.get(t);if(void 0===r){S=!0;var n=null;try{var a=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],i=T(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);(r=i&&a.length===i.length&&i.every(function(e,t){return e===a[t]}))||(n="bad trial run results",console.info(a,i))}catch(e){r=!1,n=e.message}n&&console.warn("WebGL SDF generation not supported:",n),S=!1,M.set(t,r)}return r}var A=Object.freeze({__proto__:null,generate:T,generateIntoCanvas:C,generateIntoFramebuffer:R,isSupported:P});function U(e,t,r,n,a,i){void 0===a&&(a=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1);try{return T.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),h.apply(g,arguments)}}function I(e,t,r,n,a,i,l,o,u,s){void 0===a&&(a=Math.max(n[2]-n[0],n[3]-n[1])/2),void 0===i&&(i=1),void 0===o&&(o=0),void 0===u&&(u=0),void 0===s&&(s=0);try{return C.apply(A,arguments)}catch(e){return console.info("WebGL SDF generation failed, falling back to JS",e),p.apply(g,arguments)}}return e.forEachPathCommand=n,e.generate=U,e.generateIntoCanvas=I,e.javascript=g,e.pathToLineSegments=a,e.webgl=A,e.webglUtils=d,Object.defineProperty(e,"__esModule",{value:!0}),e}({})}r.d(t,{Z:function(){return n}})},6261:function(e,t,r){"use strict";function n(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var r,n,a,i,l=[],o="",u=e.split("/");for(u[0]||u.shift();a=u.shift();)"*"===(r=a[0])?(l.push(r),o+="?"===a[1]?"(?:/(.*))?":"/(.*)"):":"===r?(n=a.indexOf("?",1),i=a.indexOf(".",1),l.push(a.substring(1,~n?n:~i?i:a.length)),o+=~n&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(o+=(~n?"?":"")+"\\"+a.substring(i))):o+="/"+a;return{keys:l,pattern:RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}r.d(t,{TH:function(){return P},yj:function(){return U}});var a=r(2265),i=r.t(a,2),l=r(554);let o=i.useInsertionEffect,u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect,s=o||u,c=e=>{let t=a.useRef([e,(...e)=>t[0](...e)]).current;return s(()=>{t[0]=e}),t[1]},f="pushState",d="replaceState",h=["popstate",f,d,"hashchange"],p=e=>{for(let t of h)addEventListener(t,e);return()=>{for(let t of h)removeEventListener(t,e)}},v=(e,t)=>(0,l.useSyncExternalStore)(p,e,t),m=()=>location.search,g=({ssrSearch:e=""}={})=>v(m,()=>e),y=()=>location.pathname,b=({ssrPath:e}={})=>v(y,e?()=>e:y),w=(e,{replace:t=!1,state:r=null}={})=>history[t?d:f](r,"",e),x=(e={})=>[b(e),w],_=Symbol.for("wouter_v3");if("undefined"!=typeof history&&void 0===window[_]){for(let e of[f,d]){let t=history[e];history[e]=function(){let r=t.apply(this,arguments),n=new Event(e);return n.arguments=arguments,dispatchEvent(n),r}}Object.defineProperty(window,_,{value:!0})}let S=(e="",t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",E=(e,t="")=>"~"===e[0]?e.slice(1):t+e,M=e=>{try{return decodeURI(e)}catch(t){return e}},k={hook:x,searchHook:g,parser:n,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},T=(0,a.createContext)(k),C=()=>(0,a.useContext)(T);(0,a.createContext)({});let R=e=>{let[t,r]=e.hook(e);return[M(S(e.base,t)),c((t,n)=>r(E(t,e.base),n))]},P=()=>R(C()),A=(e,t,r,n)=>{let{pattern:a,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",n),l=a.exec(r)||[],[o,...u]=l;return void 0!==o?[!0,(()=>{let e=!1!==i?Object.fromEntries(i.map((e,t)=>[e,u[t]])):l.groups,t={...u};return e&&Object.assign(t,e),t})(),...n?[o]:[]]:[!1,null]},U=e=>A(C().parser,e,P()[0]);(0,a.forwardRef)((e,t)=>{let r=C(),[n,i]=R(r),{to:l,href:o=l,onClick:u,asChild:s,children:f,className:d,replace:h,state:p,...v}=e,m=c(t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(u?.(t),t.defaultPrevented||(t.preventDefault(),i(o,e)))}),g=r.hrefs("~"===o[0]?o.slice(1):r.base+o,r);return s&&(0,a.isValidElement)(f)?(0,a.cloneElement)(f,{onClick:m,href:g}):(0,a.createElement)("a",{...v,onClick:m,href:g,className:d?.call?d(n===o):d,children:f,ref:t})})}}]);