"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[959],{4959:function(e,r,t){t.r(r);var n=t(7437),s=t(7776),o=t(2265),l=t(3149),a=t(6986),i=t(421),c=t(9791),u=t(9174),d=t(5985),p=t(4379),m=t(6261),h=t(3857),x=t(2878),j=t.n(x);function f(e){let{images:r,q:t=new s.Quaternion,p:l=new s.Vector3}=e,i=(0,o.useRef)(null),c=(0,o.useRef)(null),[,u]=(0,m.yj)("/item/:id"),[,d]=(0,m.TH)();return(0,o.useEffect)(()=>{if(i.current&&(null==u?void 0:u.id)){let s=i.current.getObjectByName(u.id);if(s){var e,r,n;c.current=s,null===(e=s.parent)||void 0===e||e.updateWorldMatrix(!0,!0),null===(r=s.parent)||void 0===r||r.localToWorld(l.set(0,.809016994375,1.25)),null===(n=s.parent)||void 0===n||n.getWorldQuaternion(t)}else l.set(0,0,5.5),t.identity()}else c.current=null,l.set(0,0,5.5),t.identity()},[u,t,l]),(0,a.C)((e,r)=>{h.Ui.damp3(e.camera.position,l,.4,r),h.Ui.dampQ(e.camera.quaternion,t,.4,r)}),(0,n.jsx)("group",{ref:i,onClick:e=>(e.stopPropagation(),d(c.current===e.object?"/":"/item/"+e.object.name)),onPointerMissed:()=>d("/"),children:r.map(e=>(0,n.jsx)(g,{...e},e.url))})}let g=e=>{let{url:r,c:t=new s.Color,...l}=e,i=(0,o.useRef)(null),c=(0,o.useRef)(null),[,x]=(0,m.yj)("/item/:id"),[f,g]=(0,o.useState)(!1),[y]=(0,o.useState)(()=>Math.random()),b=j()(r),v=(null==x?void 0:x.id)===b;return(0,u.j)(f),(0,a.C)((e,r)=>{i.current&&(i.current.material.zoom=1.2+.2*Math.sin(1e4*y+e.clock.elapsedTime/3),h.Ui.damp3(i.current.scale,[.7*(!v&&f?.85:1),.75*(!v&&f?.905:1),1],.1,r)),c.current&&h.Ui.dampC(c.current.material.color,f?"#00b4d8":"#0096c7",.1,r)}),(0,n.jsxs)("group",{...l,children:[(0,n.jsxs)("mesh",{name:b,onPointerOver:e=>(e.stopPropagation(),g(!0)),onPointerOut:()=>g(!1),scale:[1,1.61803398875,.05],position:[0,.809016994375,0],children:[(0,n.jsx)("boxGeometry",{}),(0,n.jsx)("meshStandardMaterial",{color:"#023e8a",metalness:.5,roughness:.5,envMapIntensity:2}),(0,n.jsxs)("mesh",{ref:c,raycast:()=>null,scale:[.9,.93,.9],position:[0,0,.2],children:[(0,n.jsx)("boxGeometry",{}),(0,n.jsx)("meshBasicMaterial",{toneMapped:!1,fog:!1})]}),(0,n.jsx)(d.E,{raycast:()=>null,ref:i,position:[0,0,.7],scale:[.8,1.294427191],url:r})]}),(0,n.jsx)(p.x,{maxWidth:.1,anchorX:"left",anchorY:"top",position:[.55,1.61803398875,0],fontSize:.025,color:"#90e0ef",children:l.msg.split("-").join(" ")})]})};r.default=e=>{let{images:r}=e;return(0,n.jsxs)(l.Xz,{dpr:[1,1.5],camera:{fov:70,position:[0,2,15]},children:[(0,n.jsx)("color",{attach:"background",args:["#03045e"]}),(0,n.jsx)("fog",{attach:"fog",args:["#03045e",0,15]}),(0,n.jsxs)(o.Suspense,{fallback:null,children:[(0,n.jsxs)("group",{position:[0,-.5,0],children:[(0,n.jsx)(f,{images:r}),(0,n.jsxs)("mesh",{rotation:[-Math.PI/2,0,0],children:[(0,n.jsx)("planeGeometry",{args:[50,50]}),(0,n.jsx)(i.Q,{blur:[100,50],resolution:2048,mixBlur:.5,mixStrength:50,roughness:.5,depthScale:1,minDepthThreshold:.1,maxDepthThreshold:1,color:"#03045e",metalness:.2,mirror:.2})]})]}),(0,n.jsx)(c.qA,{preset:"city"})]})]})}}}]);